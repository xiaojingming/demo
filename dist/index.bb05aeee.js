(()=>{function e(e){Object.defineProperty(e,"__esModule",{value:!0,configurable:!0})}function t(e,t,r,o){Object.defineProperty(e,t,{get:r,set:o,enumerable:!0,configurable:!0})}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function o(e){return e&&e.__esModule?e.default:e}var n={},i={},s=r.parcelRequire02e3;null==s&&((s=function(e){if(e in n)return n[e].exports;if(e in i){var t=i[e];delete i[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){i[e]=t},r.parcelRequire02e3=s),s.register("3yHd3",(function(r,o){e(r.exports),t(r.exports,"default",(()=>n)),s("bgCzB");var n=s("d4ofg").defineComponent({setup(){}})})),s.register("bgCzB",(function(e,r){t(e.exports,"createApp",(()=>s("7sCZa").createApp)),t(e.exports,"onUnmounted",(()=>s("d4ofg").onUnmounted)),t(e.exports,"onDeactivated",(()=>s("d4ofg").onDeactivated)),t(e.exports,"onActivated",(()=>s("d4ofg").onActivated)),t(e.exports,"inject",(()=>s("d4ofg").inject)),t(e.exports,"computed",(()=>s("d4ofg").computed)),t(e.exports,"unref",(()=>s("liXpq").unref)),t(e.exports,"getCurrentInstance",(()=>s("d4ofg").getCurrentInstance)),t(e.exports,"watchEffect",(()=>s("d4ofg").watchEffect)),t(e.exports,"defineComponent",(()=>s("d4ofg").defineComponent)),t(e.exports,"reactive",(()=>s("liXpq").reactive)),t(e.exports,"h",(()=>s("d4ofg").h)),t(e.exports,"provide",(()=>s("d4ofg").provide)),t(e.exports,"ref",(()=>s("liXpq").ref)),t(e.exports,"watch",(()=>s("d4ofg").watch)),t(e.exports,"shallowRef",(()=>s("liXpq").shallowRef)),t(e.exports,"nextTick",(()=>s("d4ofg").nextTick)),t(e.exports,"resolveComponent",(()=>s("d4ofg").resolveComponent)),t(e.exports,"openBlock",(()=>s("d4ofg").openBlock)),t(e.exports,"createBlock",(()=>s("d4ofg").createBlock)),t(e.exports,"createElementBlock",(()=>s("d4ofg").createElementBlock)),t(e.exports,"createVNode",(()=>s("d4ofg").createVNode)),t(e.exports,"mergeProps",(()=>s("d4ofg").mergeProps)),t(e.exports,"onMounted",(()=>s("d4ofg").onMounted)),t(e.exports,"Fragment",(()=>s("d4ofg").Fragment)),t(e.exports,"withDirectives",(()=>s("d4ofg").withDirectives)),t(e.exports,"vShow",(()=>s("7sCZa").vShow)),t(e.exports,"Transition",(()=>s("7sCZa").Transition)),t(e.exports,"Teleport",(()=>s("d4ofg").Teleport)),t(e.exports,"createElementVNode",(()=>s("d4ofg").createElementVNode)),t(e.exports,"onBeforeUnmount",(()=>s("d4ofg").onBeforeUnmount)),t(e.exports,"createTextVNode",(()=>s("d4ofg").createTextVNode)),t(e.exports,"resolveDirective",(()=>s("d4ofg").resolveDirective)),t(e.exports,"onUpdated",(()=>s("d4ofg").onUpdated)),t(e.exports,"onBeforeUpdate",(()=>s("d4ofg").onBeforeUpdate)),t(e.exports,"withKeys",(()=>s("7sCZa").withKeys)),t(e.exports,"isVNode",(()=>s("d4ofg").isVNode)),t(e.exports,"isRef",(()=>s("liXpq").isRef)),t(e.exports,"initCustomFormatter",(()=>s("d4ofg").initCustomFormatter)),s("7sCZa");s("d4ofg");s("7sCZa");s("d4ofg")})),s.register("7sCZa",(function(e,r){t(e.exports,"Transition",(()=>x)),t(e.exports,"withKeys",(()=>H)),t(e.exports,"vShow",(()=>W)),t(e.exports,"createApp",(()=>q)),t(e.exports,"onUnmounted",(()=>s("d4ofg").onUnmounted)),t(e.exports,"onDeactivated",(()=>s("d4ofg").onDeactivated)),t(e.exports,"onActivated",(()=>s("d4ofg").onActivated)),t(e.exports,"inject",(()=>s("d4ofg").inject)),t(e.exports,"computed",(()=>s("d4ofg").computed)),t(e.exports,"unref",(()=>s("liXpq").unref)),t(e.exports,"getCurrentInstance",(()=>s("d4ofg").getCurrentInstance)),t(e.exports,"watchEffect",(()=>s("d4ofg").watchEffect)),t(e.exports,"defineComponent",(()=>s("d4ofg").defineComponent)),t(e.exports,"reactive",(()=>s("liXpq").reactive)),t(e.exports,"h",(()=>s("d4ofg").h)),t(e.exports,"provide",(()=>s("d4ofg").provide)),t(e.exports,"ref",(()=>s("liXpq").ref)),t(e.exports,"watch",(()=>s("d4ofg").watch)),t(e.exports,"shallowRef",(()=>s("liXpq").shallowRef)),t(e.exports,"nextTick",(()=>s("d4ofg").nextTick)),t(e.exports,"resolveComponent",(()=>s("d4ofg").resolveComponent)),t(e.exports,"openBlock",(()=>s("d4ofg").openBlock)),t(e.exports,"createBlock",(()=>s("d4ofg").createBlock)),t(e.exports,"createElementBlock",(()=>s("d4ofg").createElementBlock)),t(e.exports,"createVNode",(()=>s("d4ofg").createVNode)),t(e.exports,"mergeProps",(()=>s("d4ofg").mergeProps)),t(e.exports,"onMounted",(()=>s("d4ofg").onMounted)),t(e.exports,"Fragment",(()=>s("d4ofg").Fragment)),t(e.exports,"withDirectives",(()=>s("d4ofg").withDirectives)),t(e.exports,"Teleport",(()=>s("d4ofg").Teleport)),t(e.exports,"createElementVNode",(()=>s("d4ofg").createElementVNode)),t(e.exports,"onBeforeUnmount",(()=>s("d4ofg").onBeforeUnmount)),t(e.exports,"createTextVNode",(()=>s("d4ofg").createTextVNode)),t(e.exports,"resolveDirective",(()=>s("d4ofg").resolveDirective)),t(e.exports,"onUpdated",(()=>s("d4ofg").onUpdated)),t(e.exports,"onBeforeUpdate",(()=>s("d4ofg").onBeforeUpdate)),t(e.exports,"isVNode",(()=>s("d4ofg").isVNode)),t(e.exports,"isRef",(()=>s("liXpq").isRef)),t(e.exports,"initCustomFormatter",(()=>s("d4ofg").initCustomFormatter)),t(e.exports,"camelize",(()=>s("47vmc").camelize)),t(e.exports,"callWithAsyncErrorHandling",(()=>s("d4ofg").callWithAsyncErrorHandling)),t(e.exports,"watchPostEffect",(()=>s("d4ofg").watchPostEffect)),t(e.exports,"Static",(()=>s("d4ofg").Static)),t(e.exports,"BaseTransition",(()=>s("d4ofg").BaseTransition)),t(e.exports,"warn",(()=>s("d4ofg").warn)),t(e.exports,"useTransitionState",(()=>s("d4ofg").useTransitionState)),t(e.exports,"toRaw",(()=>s("liXpq").toRaw)),t(e.exports,"getTransitionRawChildren",(()=>s("d4ofg").getTransitionRawChildren)),t(e.exports,"setTransitionHooks",(()=>s("d4ofg").setTransitionHooks)),t(e.exports,"resolveTransitionHooks",(()=>s("d4ofg").resolveTransitionHooks)),t(e.exports,"createRenderer",(()=>s("d4ofg").createRenderer)),t(e.exports,"createHydrationRenderer",(()=>s("d4ofg").createHydrationRenderer)),t(e.exports,"isRuntimeOnly",(()=>s("d4ofg").isRuntimeOnly)),s("d4ofg");var o=s("47vmc"),n=s("d4ofg");s("liXpq");s("d4ofg");o=s("47vmc"),n=s("d4ofg"),s("liXpq"),o=s("47vmc");const i="undefined"!=typeof document?document:null,a=i&&i.createElement("template"),c={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,o)=>{const n=t?i.createElementNS("http://www.w3.org/2000/svg",e):i.createElement(e,r?{is:r}:void 0);return"select"===e&&o&&null!=o.multiple&&n.setAttribute("multiple",o.multiple),n},createText:e=>i.createTextNode(e),createComment:e=>i.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>i.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,r,o,n,i){const s=r?r.previousSibling:t.lastChild;if(n&&(n===i||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),r),n!==i&&(n=n.nextSibling););else{a.innerHTML=o?`<svg>${e}</svg>`:e;const n=a.content;if(o){const e=n.firstChild;for(;e.firstChild;)n.appendChild(e.firstChild);n.removeChild(e)}t.insertBefore(n,r)}return[s?s.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}};const l=/\s*!important$/;function u(e,t,r){if(o.isArray(r))r.forEach((r=>u(e,t,r)));else if(null==r&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const n=function(e,t){const r=p[t];if(r)return r;let n=o.camelize(t);if("filter"!==n&&n in e)return p[t]=n;n=o.capitalize(n);for(let r=0;r<d.length;r++){const o=d[r]+n;if(o in e)return p[t]=o}return t}(e,t);l.test(r)?e.setProperty(o.hyphenate(n),r.replace(l,""),"important"):e[n]=r}}const d=["Webkit","Moz","ms"],p={};const f="http://www.w3.org/1999/xlink";const[h,v]=(()=>{let e=Date.now,t=!1;if("undefined"!=typeof window){Date.now()>document.createEvent("Event").timeStamp&&(e=()=>performance.now());const r=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(r&&Number(r[1])<=53)}return[e,t]})();let g=0;const _=Promise.resolve(),m=()=>{g=0};function E(e,t,r,o){e.addEventListener(t,r,o)}function y(e,t,r,i,s=null){const a=e._vei||(e._vei={}),c=a[t];if(i&&c)c.value=i;else{const[r,l]=function(e){let t;if(T.test(e)){let r;for(t={};r=e.match(T);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[o.hyphenate(e.slice(2)),t]}(t);if(i){const c=a[t]=function(e,t){const r=e=>{const i=e.timeStamp||h();(v||i>=r.attached-1)&&n.callWithAsyncErrorHandling(function(e,t){if(o.isArray(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e&&e(t)))}return t}(e,r.value),t,5,[e])};return r.value=e,r.attached=(()=>g||(_.then(m),g=h()))(),r}(i,s);E(e,r,c,l)}else c&&(!function(e,t,r,o){e.removeEventListener(t,r,o)}(e,r,c,l),a[t]=void 0)}}const T=/(?:Once|Passive|Capture)$/;const b=/^on[a-z]/;"undefined"!=typeof HTMLElement&&HTMLElement;const C="transition",I="animation",x=(e,{slots:t})=>n.h(n.BaseTransition,w(e),t);x.displayName="Transition";const A={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},S=(x.props=o.extend({},n.BaseTransition.props,A),(e,t=[])=>{o.isArray(e)?e.forEach((e=>e(...t))):e&&e(...t)}),D=e=>!!e&&(o.isArray(e)?e.some((e=>e.length>1)):e.length>1);function w(e){const t={};for(const r in e)r in A||(t[r]=e[r]);if(!1===e.css)return t;const{name:r="v",type:n,duration:i,enterFromClass:s=`${r}-enter-from`,enterActiveClass:a=`${r}-enter-active`,enterToClass:c=`${r}-enter-to`,appearFromClass:l=s,appearActiveClass:u=a,appearToClass:d=c,leaveFromClass:p=`${r}-leave-from`,leaveActiveClass:f=`${r}-leave-active`,leaveToClass:h=`${r}-leave-to`}=e,v=function(e){if(null==e)return null;if(o.isObject(e))return[O(e.enter),O(e.leave)];{const t=O(e);return[t,t]}}(i),g=v&&v[0],_=v&&v[1],{onBeforeEnter:m,onEnter:E,onEnterCancelled:y,onLeave:T,onLeaveCancelled:b,onBeforeAppear:C=m,onAppear:I=E,onAppearCancelled:x=y}=t,w=(e,t,r)=>{R(e,t?d:c),R(e,t?u:a),r&&r()},P=(e,t)=>{R(e,h),R(e,f),t&&t()},U=e=>(t,r)=>{const o=e?I:E,i=()=>w(t,e,r);S(o,[t,i]),B((()=>{R(t,e?l:s),N(t,e?d:c),D(o)||L(t,n,g,i)}))};return o.extend(t,{onBeforeEnter(e){S(m,[e]),N(e,s),N(e,a)},onBeforeAppear(e){S(C,[e]),N(e,l),N(e,u)},onEnter:U(!1),onAppear:U(!0),onLeave(e,t){const r=()=>P(e,t);N(e,p),M(),N(e,f),B((()=>{R(e,p),N(e,h),D(T)||L(e,n,_,r)})),S(T,[e,r])},onEnterCancelled(e){w(e,!1),S(y,[e])},onAppearCancelled(e){w(e,!0),S(x,[e])},onLeaveCancelled(e){P(e),S(b,[e])}})}function O(e){return o.toNumber(e)}function N(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e._vtc||(e._vtc=new Set)).add(t)}function R(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const{_vtc:r}=e;r&&(r.delete(t),r.size||(e._vtc=void 0))}function B(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}let P=0;function L(e,t,r,o){const n=e._endId=++P,i=()=>{n===e._endId&&o()};if(r)return setTimeout(i,r);const{type:s,timeout:a,propCount:c}=U(e,t);if(!s)return o();const l=s+"end";let u=0;const d=()=>{e.removeEventListener(l,p),i()},p=t=>{t.target===e&&++u>=c&&d()};setTimeout((()=>{u<c&&d()}),a+1),e.addEventListener(l,p)}function U(e,t){const r=window.getComputedStyle(e),o=e=>(r[e]||"").split(", "),n=o("transitionDelay"),i=o("transitionDuration"),s=V(n,i),a=o("animationDelay"),c=o("animationDuration"),l=V(a,c);let u=null,d=0,p=0;t===C?s>0&&(u=C,d=s,p=i.length):t===I?l>0&&(u=I,d=l,p=c.length):(d=Math.max(s,l),u=d>0?s>l?C:I:null,p=u?u===C?i.length:c.length:0);return{type:u,timeout:d,propCount:p,hasTransform:u===C&&/\b(transform|all)(,|$)/.test(r.transitionProperty)}}function V(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map(((t,r)=>k(t)+k(e[r]))))}function k(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function M(){return document.body.offsetHeight}new WeakMap,new WeakMap;const F={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},H=(e,t)=>r=>{if(!("key"in r))return;const n=o.hyphenate(r.key);return t.some((e=>e===n||F[e]===n))?e(r):void 0},W={beforeMount(e,{value:t},{transition:r}){e._vod="none"===e.style.display?"":e.style.display,r&&t?r.beforeEnter(e):z(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:o}){!t!=!r&&(o?t?(o.beforeEnter(e),z(e,!0),o.enter(e)):o.leave(e,(()=>{z(e,!1)})):z(e,t))},beforeUnmount(e,{value:t}){z(e,t)}};function z(e,t){e.style.display=t?e._vod:"none"}const j=o.extend({patchProp:(e,t,r,n,i=!1,s,a,c,l)=>{"class"===t?function(e,t,r){const o=e._vtc;o&&(t=(t?[t,...o]:[...o]).join(" ")),null==t?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}(e,n,i):"style"===t?function(e,t,r){const n=e.style,i=o.isString(r);if(r&&!i){for(const e in r)u(n,e,r[e]);if(t&&!o.isString(t))for(const e in t)null==r[e]&&u(n,e,"")}else{const o=n.display;i?t!==r&&(n.cssText=r):t&&e.removeAttribute("style"),"_vod"in e&&(n.display=o)}}(e,r,n):o.isOn(t)?o.isModelListener(t)||y(e,t,0,n,a):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):function(e,t,r,n){if(n)return"innerHTML"===t||"textContent"===t||!!(t in e&&b.test(t)&&o.isFunction(r));return"spellcheck"!==t&&"draggable"!==t&&"translate"!==t&&("form"!==t&&(("list"!==t||"INPUT"!==e.tagName)&&(("type"!==t||"TEXTAREA"!==e.tagName)&&((!b.test(t)||!o.isString(r))&&t in e))))}(e,t,n,i))?function(e,t,r,n,i,s,a){if("innerHTML"===t||"textContent"===t)return n&&a(n,i,s),void(e[t]=null==r?"":r);if("value"===t&&"PROGRESS"!==e.tagName&&!e.tagName.includes("-")){e._value=r;const o=null==r?"":r;return e.value===o&&"OPTION"!==e.tagName||(e.value=o),void(null==r&&e.removeAttribute(t))}let c=!1;if(""===r||null==r){const n=typeof e[t];"boolean"===n?r=o.includeBooleanAttr(r):null==r&&"string"===n?(r="",c=!0):"number"===n&&(r=0,c=!0)}try{e[t]=r}catch(e){}c&&e.removeAttribute(t)}(e,t,n,s,a,c,l):("true-value"===t?e._trueValue=n:"false-value"===t&&(e._falseValue=n),function(e,t,r,n,i){if(n&&t.startsWith("xlink:"))null==r?e.removeAttributeNS(f,t.slice(6,t.length)):e.setAttributeNS(f,t,r);else{const n=o.isSpecialBooleanAttr(t);null==r||n&&!o.includeBooleanAttr(r)?e.removeAttribute(t):e.setAttribute(t,n?"":r)}}(e,t,n,i))}},c);let G;function Y(){return G||(G=n.createRenderer(j))}const q=(...e)=>{const t=Y().createApp(...e),{mount:r}=t;return t.mount=e=>{const n=$(e);if(!n)return;const i=t._component;o.isFunction(i)||i.render||i.template||(i.template=n.innerHTML),n.innerHTML="";const s=r(n,!1,n instanceof SVGElement);return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),s},t};function $(e){if(o.isString(e)){return document.querySelector(e)}return e}})),s.register("d4ofg",(function(e,r){t(e.exports,"warn",(()=>a)),t(e.exports,"callWithAsyncErrorHandling",(()=>d)),t(e.exports,"nextTick",(()=>A)),t(e.exports,"Fragment",(()=>Ft)),t(e.exports,"Static",(()=>zt)),t(e.exports,"createVNode",(()=>ir)),t(e.exports,"isVNode",(()=>Qt)),t(e.exports,"openBlock",(()=>Yt)),t(e.exports,"provide",(()=>oe)),t(e.exports,"inject",(()=>ne)),t(e.exports,"watchEffect",(()=>ie)),t(e.exports,"watchPostEffect",(()=>se)),t(e.exports,"watch",(()=>ce)),t(e.exports,"useTransitionState",(()=>fe)),t(e.exports,"onMounted",(()=>Le)),t(e.exports,"onBeforeUnmount",(()=>ke)),t(e.exports,"getCurrentInstance",(()=>Tr)),t(e.exports,"getTransitionRawChildren",(()=>Te)),t(e.exports,"resolveTransitionHooks",(()=>_e)),t(e.exports,"setTransitionHooks",(()=>ye)),t(e.exports,"BaseTransition",(()=>ve)),t(e.exports,"defineComponent",(()=>be)),t(e.exports,"onUpdated",(()=>Ve)),t(e.exports,"onActivated",(()=>Ae)),t(e.exports,"onDeactivated",(()=>Se)),t(e.exports,"onUnmounted",(()=>Me)),t(e.exports,"onBeforeUpdate",(()=>Ue)),t(e.exports,"computed",(()=>kr)),t(e.exports,"h",(()=>Mr)),t(e.exports,"withDirectives",(()=>ft)),t(e.exports,"createTextVNode",(()=>cr)),t(e.exports,"createRenderer",(()=>It)),t(e.exports,"createHydrationRenderer",(()=>xt)),t(e.exports,"Teleport",(()=>Bt)),t(e.exports,"resolveComponent",(()=>Lt)),t(e.exports,"resolveDirective",(()=>Vt)),t(e.exports,"createElementBlock",(()=>Zt)),t(e.exports,"createElementVNode",(()=>nr)),t(e.exports,"createBlock",(()=>Jt)),t(e.exports,"mergeProps",(()=>pr)),t(e.exports,"isRuntimeOnly",(()=>Or)),t(e.exports,"initCustomFormatter",(()=>Fr)),t(e.exports,"isRef",(()=>s("liXpq").isRef)),t(e.exports,"reactive",(()=>s("liXpq").reactive)),t(e.exports,"ref",(()=>s("liXpq").ref)),t(e.exports,"shallowRef",(()=>s("liXpq").shallowRef)),t(e.exports,"toRaw",(()=>s("liXpq").toRaw)),t(e.exports,"unref",(()=>s("liXpq").unref)),t(e.exports,"camelize",(()=>s("47vmc").camelize));var o=s("liXpq"),n=(o=s("liXpq"),s("47vmc"));n=s("47vmc");const i=[];function a(e,...t){o.pauseTracking();const r=i.length?i[i.length-1].component:null,n=r&&r.appContext.config.warnHandler,s=function(){let e=i[i.length-1];if(!e)return[];const t=[];for(;e;){const r=t[0];r&&r.vnode===e?r.recurseCount++:t.push({vnode:e,recurseCount:0});const o=e.component&&e.component.parent;e=o&&o.vnode}return t}();if(n)u(n,r,11,[e+t.join(""),r&&r.proxy,s.map((({vnode:e})=>`at <${Ur(r,e.type)}>`)).join("\n"),s]);else{const r=[`[Vue warn]: ${e}`,...t];s.length&&r.push("\n",...function(e){const t=[];return e.forEach(((e,r)=>{t.push(...0===r?[]:["\n"],...function({vnode:e,recurseCount:t}){const r=t>0?`... (${t} recursive calls)`:"",o=!!e.component&&null==e.component.parent,n=` at <${Ur(e.component,e.type,o)}`,i=">"+r;return e.props?[n,...c(e.props),i]:[n+i]}(e))})),t}(s)),console.warn(...r)}o.resetTracking()}function c(e){const t=[],r=Object.keys(e);return r.slice(0,3).forEach((r=>{t.push(...l(r,e[r]))})),r.length>3&&t.push(" ..."),t}function l(e,t,r){return n.isString(t)?(t=JSON.stringify(t),r?t:[`${e}=${t}`]):"number"==typeof t||"boolean"==typeof t||null==t?r?t:[`${e}=${t}`]:o.isRef(t)?(t=l(e,o.toRaw(t.value),!0),r?t:[`${e}=Ref<`,t,">"]):n.isFunction(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=o.toRaw(t),r?t:[`${e}=`,t])}function u(e,t,r,o){let n;try{n=o?e(...o):e()}catch(e){p(e,t,r)}return n}function d(e,t,r,o){if(n.isFunction(e)){const i=u(e,t,r,o);return i&&n.isPromise(i)&&i.catch((e=>{p(e,t,r)})),i}const i=[];for(let n=0;n<e.length;n++)i.push(d(e[n],t,r,o));return i}function p(e,t,r,o=!0){t&&t.vnode;if(t){let o=t.parent;const n=t.proxy,i=r;for(;o;){const t=o.ec;if(t)for(let r=0;r<t.length;r++)if(!1===t[r](e,n,i))return;o=o.parent}const s=t.appContext.config.errorHandler;if(s)return void u(s,null,10,[e,n,i])}!function(e,t,r,o=!0){console.error(e)}(e,0,0,o)}let f=!1,h=!1;const v=[];let g=0;const _=[];let m=null,E=0;const y=[];let T=null,b=0;const C=Promise.resolve();let I=null,x=null;function A(e){const t=I||C;return e?t.then(this?e.bind(this):e):t}function S(e){v.length&&v.includes(e,f&&e.allowRecurse?g+1:g)||e===x||(null==e.id?v.push(e):v.splice(function(e){let t=g+1,r=v.length;for(;t<r;){const o=t+r>>>1;B(v[o])<e?t=o+1:r=o}return t}(e.id),0,e),D())}function D(){f||h||(h=!0,I=C.then(P))}function w(e,t,r,o){n.isArray(e)?r.push(...e):t&&t.includes(e,e.allowRecurse?o+1:o)||r.push(e),D()}function O(e){w(e,T,y,b)}function N(e,t=null){if(_.length){for(x=t,m=[...new Set(_)],_.length=0,E=0;E<m.length;E++)m[E]();m=null,E=0,x=null,N(e,t)}}function R(e){if(y.length){const e=[...new Set(y)];if(y.length=0,T)return void T.push(...e);for(T=e,T.sort(((e,t)=>B(e)-B(t))),b=0;b<T.length;b++)T[b]();T=null,b=0}}const B=e=>null==e.id?1/0:e.id;function P(e){h=!1,f=!0,N(e),v.sort(((e,t)=>B(e)-B(t)));n.NOOP;try{for(g=0;g<v.length;g++){const e=v[g];e&&!1!==e.active&&u(e,null,14)}}finally{g=0,v.length=0,R(),f=!1,I=null,(v.length||_.length||y.length)&&P(e)}}new Set,new Map;let L,U=[],V=!1;function k(e,...t){L?L.emit(e,...t):V||U.push({event:e,args:t})}function M(e,t){var r,o;if(L=e,L)L.enabled=!0,U.forEach((({event:e,args:t})=>L.emit(e,...t))),U=[];else if("undefined"!=typeof window&&window.HTMLElement&&!(null===(o=null===(r=window.navigator)||void 0===r?void 0:r.userAgent)||void 0===o?void 0:o.includes("jsdom"))){(t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push((e=>{M(e,t)})),setTimeout((()=>{L||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,V=!0,U=[])}),3e3)}else V=!0,U=[]}const F=z("component:added"),H=z("component:updated"),W=z("component:removed");function z(e){return t=>{k(e,t.appContext.app,t.uid,t.parent?t.parent.uid:void 0,t)}}function j(e,t,...r){if(e.isUnmounted)return;const o=e.vnode.props||n.EMPTY_OBJ;let i=r;const s=t.startsWith("update:"),a=s&&t.slice(7);if(a&&a in o){const e=`${"modelValue"===a?"model":a}Modifiers`,{number:t,trim:s}=o[e]||n.EMPTY_OBJ;s?i=r.map((e=>e.trim())):t&&(i=r.map(n.toNumber))}let c;__VUE_PROD_DEVTOOLS__&&function(e,t,r){k("component:emit",e.appContext.app,e,t,r)}(e,t,i);let l=o[c=n.toHandlerKey(t)]||o[c=n.toHandlerKey(n.camelize(t))];!l&&s&&(l=o[c=n.toHandlerKey(n.hyphenate(t))]),l&&d(l,e,6,i);const u=o[c+"Once"];if(u){if(e.emitted){if(e.emitted[c])return}else e.emitted={};e.emitted[c]=!0,d(u,e,6,i)}}function G(e,t,r=!1){const o=t.emitsCache,i=o.get(e);if(void 0!==i)return i;const s=e.emits;let a={},c=!1;if(__VUE_OPTIONS_API__&&!n.isFunction(e)){const o=e=>{const r=G(e,t,!0);r&&(c=!0,n.extend(a,r))};!r&&t.mixins.length&&t.mixins.forEach(o),e.extends&&o(e.extends),e.mixins&&e.mixins.forEach(o)}return s||c?(n.isArray(s)?s.forEach((e=>a[e]=null)):n.extend(a,s),o.set(e,a),a):(o.set(e,null),null)}function Y(e,t){return!(!e||!n.isOn(t))&&(t=t.slice(2).replace(/Once$/,""),n.hasOwn(e,t[0].toLowerCase()+t.slice(1))||n.hasOwn(e,n.hyphenate(t))||n.hasOwn(e,t))}let q=null,$=null;function X(e){const t=q;return q=e,$=e&&e.type.__scopeId||null,t}function K(e,t=q,r){if(!t)return e;if(e._n)return e;const o=(...r)=>{o._d&&Xt(-1);const n=X(t),i=e(...r);return X(n),o._d&&Xt(1),__VUE_PROD_DEVTOOLS__&&H(t),i};return o._n=!0,o._c=!0,o._d=!0,o}function Z(e){const{type:t,vnode:r,proxy:o,withProxy:i,props:s,propsOptions:[a],slots:c,attrs:l,emit:u,render:d,renderCache:f,data:h,setupState:v,ctx:g,inheritAttrs:_}=e;let m,E;const y=X(e);try{if(4&r.shapeFlag){const e=i||o;m=lr(d.call(e,e,f,s,v,h,g)),E=l}else{const e=t;m=lr(e.length>1?e(s,{attrs:l,slots:c,emit:u}):e(s,null)),E=t.props?l:J(l)}}catch(t){jt.length=0,p(t,e,1),m=ir(Wt)}let T=m;if(E&&!1!==_){const e=Object.keys(E),{shapeFlag:t}=T;e.length&&7&t&&(a&&e.some(n.isModelListener)&&(E=Q(E,a)),T=ar(T,E))}return r.dirs&&(T.dirs=T.dirs?T.dirs.concat(r.dirs):r.dirs),r.transition&&(T.transition=r.transition),m=T,X(y),m}const J=e=>{let t;for(const r in e)("class"===r||"style"===r||n.isOn(r))&&((t||(t={}))[r]=e[r]);return t},Q=(e,t)=>{const r={};for(const o in e)n.isModelListener(o)&&o.slice(9)in t||(r[o]=e[o]);return r};function ee(e,t,r){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let n=0;n<o.length;n++){const i=o[n];if(t[i]!==e[i]&&!Y(r,i))return!0}return!1}function te({vnode:e,parent:t},r){for(;t&&t.subTree===e;)(e=t.vnode).el=r,t=t.parent}function re(e,t){t&&t.pendingBranch?n.isArray(e)?t.effects.push(...e):t.effects.push(e):O(e)}function oe(e,t){if(yr){let r=yr.provides;const o=yr.parent&&yr.parent.provides;o===r&&(r=yr.provides=Object.create(o)),r[e]=t}else;}function ne(e,t,r=!1){const o=yr||q;if(o){const i=null==o.parent?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides;if(i&&e in i)return i[e];if(arguments.length>1)return r&&n.isFunction(t)?t.call(o.proxy):t}}function ie(e,t){return le(e,null,t)}function se(e,t){return le(e,null,{flush:"post"})}const ae={};function ce(e,t,r){return le(e,t,r)}function le(e,t,{immediate:r,deep:i,flush:s,onTrack:a,onTrigger:c}=n.EMPTY_OBJ){const l=yr;let p,f,h=!1,v=!1;if(o.isRef(e)?(p=()=>e.value,h=o.isShallow(e)):o.isReactive(e)?(p=()=>e,i=!0):n.isArray(e)?(v=!0,h=e.some(o.isReactive),p=()=>e.map((e=>o.isRef(e)?e.value:o.isReactive(e)?pe(e):n.isFunction(e)?u(e,l,2):void 0))):p=n.isFunction(e)?t?()=>u(e,l,2):()=>{if(!l||!l.isUnmounted)return f&&f(),d(e,l,3,[g])}:n.NOOP,t&&i){const e=p;p=()=>pe(e())}let g=e=>{f=C.onStop=()=>{u(e,l,4)}};if(Sr)return g=n.NOOP,t?r&&d(t,l,3,[p(),v?[]:void 0,g]):p(),n.NOOP;let y=v?[]:ae;const T=()=>{if(C.active)if(t){const e=C.run();(i||h||(v?e.some(((e,t)=>n.hasChanged(e,y[t]))):n.hasChanged(e,y)))&&(f&&f(),d(t,l,3,[e,y===ae?void 0:y,g]),y=e)}else C.run()};let b;T.allowRecurse=!!t,b="sync"===s?T:"post"===s?()=>Ct(T,l&&l.suspense):()=>{!l||l.isMounted?function(e){w(e,m,_,E)}(T):T()};const C=new o.ReactiveEffect(p,b);return t?r?T():y=C.run():"post"===s?Ct(C.run.bind(C),l&&l.suspense):C.run(),()=>{C.stop(),l&&l.scope&&n.remove(l.scope.effects,C)}}function ue(e,t,r){const o=this.proxy,i=n.isString(e)?e.includes(".")?de(o,e):()=>o[e]:e.bind(o,o);let s;n.isFunction(t)?s=t:(s=t.handler,r=t);const a=yr;br(this);const c=le(i,s.bind(o),r);return a?br(a):Cr(),c}function de(e,t){const r=t.split(".");return()=>{let t=e;for(let e=0;e<r.length&&t;e++)t=t[r[e]];return t}}function pe(e,t){if(!n.isObject(e)||e.__v_skip)return e;if((t=t||new Set).has(e))return e;if(t.add(e),o.isRef(e))pe(e.value,t);else if(n.isArray(e))for(let r=0;r<e.length;r++)pe(e[r],t);else if(n.isSet(e)||n.isMap(e))e.forEach((e=>{pe(e,t)}));else if(n.isPlainObject(e))for(const r in e)pe(e[r],t);return e}function fe(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Le((()=>{e.isMounted=!0})),ke((()=>{e.isUnmounting=!0})),e}const he=[Function,Array],ve={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:he,onEnter:he,onAfterEnter:he,onEnterCancelled:he,onBeforeLeave:he,onLeave:he,onAfterLeave:he,onLeaveCancelled:he,onBeforeAppear:he,onAppear:he,onAfterAppear:he,onAppearCancelled:he},setup(e,{slots:t}){const r=Tr(),n=fe();let i;return()=>{const s=t.default&&Te(t.default(),!0);if(!s||!s.length)return;let a=s[0];if(s.length>1){let e=!1;for(const t of s)if(t.type!==Wt){a=t,e=!0;break}}const c=o.toRaw(e),{mode:l}=c;if(n.isLeaving)return me(a);const u=Ee(a);if(!u)return me(a);const d=_e(u,c,n,r);ye(u,d);const p=r.subTree,f=p&&Ee(p);let h=!1;const{getTransitionKey:v}=u.type;if(v){const e=v();void 0===i?i=e:e!==i&&(i=e,h=!0)}if(f&&f.type!==Wt&&(!er(u,f)||h)){const e=_e(f,c,n,r);if(ye(f,e),"out-in"===l)return n.isLeaving=!0,e.afterLeave=()=>{n.isLeaving=!1,r.update()},me(a);"in-out"===l&&u.type!==Wt&&(e.delayLeave=(e,t,r)=>{ge(n,f)[String(f.key)]=f,e._leaveCb=()=>{t(),e._leaveCb=void 0,delete d.delayedLeave},d.delayedLeave=r})}return a}}};function ge(e,t){const{leavingVNodes:r}=e;let o=r.get(t.type);return o||(o=Object.create(null),r.set(t.type,o)),o}function _e(e,t,r,o){const{appear:n,mode:i,persisted:s=!1,onBeforeEnter:a,onEnter:c,onAfterEnter:l,onEnterCancelled:u,onBeforeLeave:p,onLeave:f,onAfterLeave:h,onLeaveCancelled:v,onBeforeAppear:g,onAppear:_,onAfterAppear:m,onAppearCancelled:E}=t,y=String(e.key),T=ge(r,e),b=(e,t)=>{e&&d(e,o,9,t)},C={mode:i,persisted:s,beforeEnter(t){let o=a;if(!r.isMounted){if(!n)return;o=g||a}t._leaveCb&&t._leaveCb(!0);const i=T[y];i&&er(e,i)&&i.el._leaveCb&&i.el._leaveCb(),b(o,[t])},enter(e){let t=c,o=l,i=u;if(!r.isMounted){if(!n)return;t=_||c,o=m||l,i=E||u}let s=!1;const a=e._enterCb=t=>{s||(s=!0,b(t?i:o,[e]),C.delayedLeave&&C.delayedLeave(),e._enterCb=void 0)};t?(t(e,a),t.length<=1&&a()):a()},leave(t,o){const n=String(e.key);if(t._enterCb&&t._enterCb(!0),r.isUnmounting)return o();b(p,[t]);let i=!1;const s=t._leaveCb=r=>{i||(i=!0,o(),b(r?v:h,[t]),t._leaveCb=void 0,T[n]===e&&delete T[n])};T[n]=e,f?(f(t,s),f.length<=1&&s()):s()},clone:e=>_e(e,t,r,o)};return C}function me(e){if(Ie(e))return(e=ar(e)).children=null,e}function Ee(e){return Ie(e)?e.children?e.children[0]:void 0:e}function ye(e,t){6&e.shapeFlag&&e.component?ye(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Te(e,t=!1,r){let o=[],n=0;for(let i=0;i<e.length;i++){let s=e[i];const a=null==r?s.key:String(r)+String(null!=s.key?s.key:i);s.type===Ft?(128&s.patchFlag&&n++,o=o.concat(Te(s.children,t,a))):(t||s.type!==Wt)&&o.push(null!=a?ar(s,{key:a}):s)}if(n>1)for(let e=0;e<o.length;e++)o[e].patchFlag=-2;return o}function be(e){return n.isFunction(e)?{setup:e,name:e.name}:e}const Ce=e=>!!e.type.__asyncLoader;const Ie=e=>e.type.__isKeepAlive;RegExp,RegExp;function xe(e,t){return n.isArray(e)?e.some((e=>xe(e,t))):n.isString(e)?e.split(",").includes(t):!!e.test&&e.test(t)}function Ae(e,t){De(e,"a",t)}function Se(e,t){De(e,"da",t)}function De(e,t,r=yr){const o=e.__wdc||(e.__wdc=()=>{let t=r;for(;t;){if(t.isDeactivated)return;t=t.parent}return e()});if(Re(t,o,r),r){let e=r.parent;for(;e&&e.parent;)Ie(e.parent.vnode)&&we(o,t,r,e),e=e.parent}}function we(e,t,r,o){const i=Re(t,e,o,!0);Me((()=>{n.remove(o[t],i)}),r)}function Oe(e){let t=e.shapeFlag;256&t&&256,512&t&&512,e.shapeFlag=t}function Ne(e){return 128&e.shapeFlag?e.ssContent:e}function Re(e,t,r=yr,n=!1){if(r){const i=r[e]||(r[e]=[]),s=t.__weh||(t.__weh=(...n)=>{if(r.isUnmounted)return;o.pauseTracking(),br(r);const i=d(t,r,e,n);return Cr(),o.resetTracking(),i});return n?i.unshift(s):i.push(s),s}}const Be=e=>(t,r=yr)=>(!Sr||"sp"===e)&&Re(e,t,r),Pe=Be("bm"),Le=Be("m"),Ue=Be("bu"),Ve=Be("u"),ke=Be("bum"),Me=Be("um"),Fe=Be("sp"),He=Be("rtg"),We=Be("rtc");function ze(e,t=yr){Re("ec",e,t)}let je=!0;function Ge(e){const t=$e(e),r=e.proxy,i=e.ctx;je=!1,t.beforeCreate&&Ye(t.beforeCreate,e,"bc");const{data:s,computed:a,methods:c,watch:l,provide:u,inject:d,created:p,beforeMount:f,mounted:h,beforeUpdate:v,updated:g,activated:_,deactivated:m,beforeDestroy:E,beforeUnmount:y,destroyed:T,unmounted:b,render:C,renderTracked:I,renderTriggered:x,errorCaptured:A,serverPrefetch:S,expose:D,inheritAttrs:w,components:O,directives:N,filters:R}=t;if(d&&function(e,t,r=n.NOOP,i=!1){n.isArray(e)&&(e=Je(e));for(const r in e){const s=e[r];let a;a=n.isObject(s)?"default"in s?ne(s.from||r,s.default,!0):ne(s.from||r):ne(s),o.isRef(a)&&i?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>a.value,set:e=>a.value=e}):t[r]=a}}(d,i,null,e.appContext.config.unwrapInjectedRef),c)for(const e in c){const t=c[e];n.isFunction(t)&&(i[e]=t.bind(r))}if(s){const t=s.call(r,r);n.isObject(t)&&(e.data=o.reactive(t))}if(je=!0,a)for(const e in a){const t=a[e],o=n.isFunction(t)?t.bind(r,r):n.isFunction(t.get)?t.get.bind(r,r):n.NOOP,s=!n.isFunction(t)&&n.isFunction(t.set)?t.set.bind(r):n.NOOP,c=kr({get:o,set:s});Object.defineProperty(i,e,{enumerable:!0,configurable:!0,get:()=>c.value,set:e=>c.value=e})}if(l)for(const e in l)qe(l[e],i,r,e);if(u){const e=n.isFunction(u)?u.call(r):u;Reflect.ownKeys(e).forEach((t=>{oe(t,e[t])}))}function B(e,t){n.isArray(t)?t.forEach((t=>e(t.bind(r)))):t&&e(t.bind(r))}if(p&&Ye(p,e,"c"),B(Pe,f),B(Le,h),B(Ue,v),B(Ve,g),B(Ae,_),B(Se,m),B(ze,A),B(We,I),B(He,x),B(ke,y),B(Me,b),B(Fe,S),n.isArray(D))if(D.length){const t=e.exposed||(e.exposed={});D.forEach((e=>{Object.defineProperty(t,e,{get:()=>r[e],set:t=>r[e]=t})}))}else e.exposed||(e.exposed={});C&&e.render===n.NOOP&&(e.render=C),null!=w&&(e.inheritAttrs=w),O&&(e.components=O),N&&(e.directives=N)}function Ye(e,t,r){d(n.isArray(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,r)}function qe(e,t,r,o){const i=o.includes(".")?de(r,o):()=>r[o];if(n.isString(e)){const r=t[e];n.isFunction(r)&&ce(i,r)}else if(n.isFunction(e))ce(i,e.bind(r));else if(n.isObject(e))if(n.isArray(e))e.forEach((e=>qe(e,t,r,o)));else{const o=n.isFunction(e.handler)?e.handler.bind(r):t[e.handler];n.isFunction(o)&&ce(i,o,e)}}function $e(e){const t=e.type,{mixins:r,extends:o}=t,{mixins:n,optionsCache:i,config:{optionMergeStrategies:s}}=e.appContext,a=i.get(t);let c;return a?c=a:n.length||r||o?(c={},n.length&&n.forEach((e=>Xe(c,e,s,!0))),Xe(c,t,s)):c=t,i.set(t,c),c}function Xe(e,t,r,o=!1){const{mixins:n,extends:i}=t;i&&Xe(e,i,r,!0),n&&n.forEach((t=>Xe(e,t,r,!0)));for(const n in t)if(o&&"expose"===n);else{const o=Ke[n]||r&&r[n];e[n]=o?o(e[n],t[n]):t[n]}return e}const Ke={data:Ze,props:et,emits:et,methods:et,computed:et,beforeCreate:Qe,created:Qe,beforeMount:Qe,mounted:Qe,beforeUpdate:Qe,updated:Qe,beforeDestroy:Qe,beforeUnmount:Qe,destroyed:Qe,unmounted:Qe,activated:Qe,deactivated:Qe,errorCaptured:Qe,serverPrefetch:Qe,components:et,directives:et,watch:function(e,t){if(!e)return t;if(!t)return e;const r=n.extend(Object.create(null),e);for(const o in t)r[o]=Qe(e[o],t[o]);return r},provide:Ze,inject:function(e,t){return et(Je(e),Je(t))}};function Ze(e,t){return t?e?function(){return n.extend(n.isFunction(e)?e.call(this,this):e,n.isFunction(t)?t.call(this,this):t)}:t:e}function Je(e){if(n.isArray(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function Qe(e,t){return e?[...new Set([].concat(e,t))]:t}function et(e,t){return e?n.extend(n.extend(Object.create(null),e),t):t}function tt(e,t,r,i){const[s,a]=e.propsOptions;let c,l=!1;if(t)for(let o in t){if(n.isReservedProp(o))continue;const u=t[o];let d;s&&n.hasOwn(s,d=n.camelize(o))?a&&a.includes(d)?(c||(c={}))[d]=u:r[d]=u:Y(e.emitsOptions,o)||o in i&&u===i[o]||(i[o]=u,l=!0)}if(a){const t=o.toRaw(r),i=c||n.EMPTY_OBJ;for(let o=0;o<a.length;o++){const c=a[o];r[c]=rt(s,t,c,i[c],e,!n.hasOwn(i,c))}}return l}function rt(e,t,r,o,i,s){const a=e[r];if(null!=a){const e=n.hasOwn(a,"default");if(e&&void 0===o){const e=a.default;if(a.type!==Function&&n.isFunction(e)){const{propsDefaults:n}=i;r in n?o=n[r]:(br(i),o=n[r]=e.call(null,t),Cr())}else o=e}a[0]&&(s&&!e?o=!1:!a[1]||""!==o&&o!==n.hyphenate(r)||(o=!0))}return o}function ot(e,t,r=!1){const o=t.propsCache,i=o.get(e);if(i)return i;const s=e.props,a={},c=[];let l=!1;if(__VUE_OPTIONS_API__&&!n.isFunction(e)){const o=e=>{l=!0;const[r,o]=ot(e,t,!0);n.extend(a,r),o&&c.push(...o)};!r&&t.mixins.length&&t.mixins.forEach(o),e.extends&&o(e.extends),e.mixins&&e.mixins.forEach(o)}if(!s&&!l)return o.set(e,n.EMPTY_ARR),n.EMPTY_ARR;if(n.isArray(s))for(let e=0;e<s.length;e++){const t=n.camelize(s[e]);nt(t)&&(a[t]=n.EMPTY_OBJ)}else if(s)for(const e in s){const t=n.camelize(e);if(nt(t)){const r=s[e],o=a[t]=n.isArray(r)||n.isFunction(r)?{type:r}:r;if(o){const e=at(Boolean,o.type),r=at(String,o.type);o[0]=e>-1,o[1]=r<0||e<r,(e>-1||n.hasOwn(o,"default"))&&c.push(t)}}}const u=[a,c];return o.set(e,u),u}function nt(e){return"$"!==e[0]}function it(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:null===e?"null":""}function st(e,t){return it(e)===it(t)}function at(e,t){return n.isArray(t)?t.findIndex((t=>st(t,e))):n.isFunction(t)&&st(t,e)?0:-1}const ct=e=>"_"===e[0]||"$stable"===e,lt=e=>n.isArray(e)?e.map(lr):[lr(e)],ut=(e,t,r)=>{const o=K(((...e)=>lt(t(...e))),r);return o._c=!1,o},dt=(e,t,r)=>{const o=e._ctx;for(const r in e){if(ct(r))continue;const i=e[r];if(n.isFunction(i))t[r]=ut(0,i,o);else if(null!=i){const e=lt(i);t[r]=()=>e}}},pt=(e,t)=>{const r=lt(t);e.slots.default=()=>r};function ft(e,t){const r=q;if(null===r)return e;const o=Br(r)||r.proxy,i=e.dirs||(e.dirs=[]);for(let e=0;e<t.length;e++){let[r,s,a,c=n.EMPTY_OBJ]=t[e];n.isFunction(r)&&(r={mounted:r,updated:r}),r.deep&&pe(s),i.push({dir:r,instance:o,value:s,oldValue:void 0,arg:a,modifiers:c})}return e}function ht(e,t,r,n){const i=e.dirs,s=t&&t.dirs;for(let a=0;a<i.length;a++){const c=i[a];s&&(c.oldValue=s[a].value);let l=c.dir[n];l&&(o.pauseTracking(),d(l,r,8,[e.el,c,e,t]),o.resetTracking())}}function vt(){return{app:null,config:{isNativeTag:n.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let gt=0;function _t(e,t){return function(r,o=null){n.isFunction(r)||(r=Object.assign({},r)),null==o||n.isObject(o)||(o=null);const i=vt(),s=new Set;let a=!1;const c=i.app={_uid:gt++,_component:r,_props:o,_container:null,_context:i,_instance:null,version:Hr,get config(){return i.config},set config(e){},use:(e,...t)=>(s.has(e)||(e&&n.isFunction(e.install)?(s.add(e),e.install(c,...t)):n.isFunction(e)&&(s.add(e),e(c,...t))),c),mixin:e=>(__VUE_OPTIONS_API__&&(i.mixins.includes(e)||i.mixins.push(e)),c),component:(e,t)=>t?(i.components[e]=t,c):i.components[e],directive:(e,t)=>t?(i.directives[e]=t,c):i.directives[e],mount(n,s,l){if(!a){const u=ir(r,o);return u.appContext=i,s&&t?t(u,n):e(u,n,l),a=!0,c._container=n,n.__vue_app__=c,__VUE_PROD_DEVTOOLS__&&(c._instance=u.component,function(e,t){k("app:init",e,t,{Fragment:Ft,Text:Ht,Comment:Wt,Static:zt})}(c,Hr)),Br(u.component)||u.component.proxy}},unmount(){a&&(e(null,c._container),__VUE_PROD_DEVTOOLS__&&(c._instance=null,function(e){k("app:unmount",e)}(c)),delete c._container.__vue_app__)},provide:(e,t)=>(i.provides[e]=t,c)};return c}}function mt(e,t,r,i,s=!1){if(n.isArray(e))return void e.forEach(((e,o)=>mt(e,t&&(n.isArray(t)?t[o]:t),r,i,s)));if(Ce(i)&&!s)return;const a=4&i.shapeFlag?Br(i.component)||i.component.proxy:i.el,c=s?null:a,{i:l,r:d}=e,p=t&&t.r,f=l.refs===n.EMPTY_OBJ?l.refs={}:l.refs,h=l.setupState;if(null!=p&&p!==d&&(n.isString(p)?(f[p]=null,n.hasOwn(h,p)&&(h[p]=null)):o.isRef(p)&&(p.value=null)),n.isFunction(d))u(d,l,12,[c,f]);else{const t=n.isString(d),i=o.isRef(d);if(t||i){const i=()=>{if(e.f){const r=t?f[d]:d.value;s?n.isArray(r)&&n.remove(r,a):n.isArray(r)?r.includes(a)||r.push(a):t?(f[d]=[a],n.hasOwn(h,d)&&(h[d]=f[d])):(d.value=[a],e.k&&(f[e.k]=d.value))}else t?(f[d]=c,n.hasOwn(h,d)&&(h[d]=c)):o.isRef(d)&&(d.value=c,e.k&&(f[e.k]=c))};c?(i.id=-1,Ct(i,r)):i()}}}let Et=!1;const yt=e=>/svg/.test(e.namespaceURI)&&"foreignObject"!==e.tagName,Tt=e=>8===e.nodeType;function bt(e){const{mt:t,p:r,o:{patchProp:o,nextSibling:i,parentNode:s,remove:a,insert:c,createComment:l}}=e,u=(r,o,n,a,c,l=!1)=>{const g=Tt(r)&&"["===r.data,_=()=>h(r,o,n,a,c,g),{type:m,ref:E,shapeFlag:y}=o,T=r.nodeType;o.el=r;let b=null;switch(m){case Ht:3!==T?b=_():(r.data!==o.children&&(Et=!0,r.data=o.children),b=i(r));break;case Wt:b=8!==T||g?_():i(r);break;case zt:if(1===T){b=r;const e=!o.children.length;for(let t=0;t<o.staticCount;t++)e&&(o.children+=b.outerHTML),t===o.staticCount-1&&(o.anchor=b),b=i(b);return b}b=_();break;case Ft:b=g?f(r,o,n,a,c,l):_();break;default:if(1&y)b=1!==T||o.type.toLowerCase()!==r.tagName.toLowerCase()?_():d(r,o,n,a,c,l);else if(6&y){o.slotScopeIds=c;const e=s(r);if(t(o,e,null,n,a,yt(e),l),b=g?v(r):i(r),Ce(o)){let t;g?(t=ir(Ft),t.anchor=b?b.previousSibling:e.lastChild):t=3===r.nodeType?cr(""):ir("div"),t.el=r,o.component.subTree=t}}else 64&y?b=8!==T?_():o.type.hydrate(r,o,n,a,c,l,e,p):128&y&&(b=o.type.hydrate(r,o,n,a,yt(s(r)),c,l,e,u))}return null!=E&&mt(E,null,a,o),b},d=(e,t,r,i,s,c)=>{c=c||!!t.dynamicChildren;const{type:l,props:u,patchFlag:d,shapeFlag:f,dirs:h}=t,v="input"===l&&h||"option"===l;if(v||-1!==d){if(h&&ht(t,null,r,"created"),u)if(v||!c||48&d)for(const t in u)(v&&t.endsWith("value")||n.isOn(t)&&!n.isReservedProp(t))&&o(e,t,null,u[t],!1,void 0,r);else u.onClick&&o(e,"onClick",null,u.onClick,!1,void 0,r);let l;if((l=u&&u.onVnodeBeforeMount)&&fr(l,r,t),h&&ht(t,null,r,"beforeMount"),((l=u&&u.onVnodeMounted)||h)&&re((()=>{l&&fr(l,r,t),h&&ht(t,null,r,"mounted")}),i),16&f&&(!u||!u.innerHTML&&!u.textContent)){let o=p(e.firstChild,t,e,r,i,s,c);for(;o;){Et=!0;const e=o;o=o.nextSibling,a(e)}}else 8&f&&e.textContent!==t.children&&(Et=!0,e.textContent=t.children)}return e.nextSibling},p=(e,t,o,n,i,s,a)=>{a=a||!!t.dynamicChildren;const c=t.children,l=c.length;for(let t=0;t<l;t++){const l=a?c[t]:c[t]=lr(c[t]);if(e)e=u(e,l,n,i,s,a);else{if(l.type===Ht&&!l.children)continue;Et=!0,r(null,l,o,null,n,i,yt(o),s)}}return e},f=(e,t,r,o,n,a)=>{const{slotScopeIds:u}=t;u&&(n=n?n.concat(u):u);const d=s(e),f=p(i(e),t,d,r,o,n,a);return f&&Tt(f)&&"]"===f.data?i(t.anchor=f):(Et=!0,c(t.anchor=l("]"),d,f),f)},h=(e,t,o,n,c,l)=>{if(Et=!0,t.el=null,l){const t=v(e);for(;;){const r=i(e);if(!r||r===t)break;a(r)}}const u=i(e),d=s(e);return a(e),r(null,t,d,u,o,n,yt(d),c),u},v=e=>{let t=0;for(;e;)if((e=i(e))&&Tt(e)&&("["===e.data&&t++,"]"===e.data)){if(0===t)return i(e);t--}return e};return[(e,t)=>{if(!t.hasChildNodes())return r(null,e,t),void R();Et=!1,u(t.firstChild,e,null,null,null),R(),Et&&console.error("Hydration completed but contains mismatches.")},u]}const Ct=re;function It(e){return At(e)}function xt(e){return At(e,bt)}function At(e,t){"boolean"!=typeof __VUE_OPTIONS_API__&&(n.getGlobalThis().__VUE_OPTIONS_API__=!0),"boolean"!=typeof __VUE_PROD_DEVTOOLS__&&(n.getGlobalThis().__VUE_PROD_DEVTOOLS__=!1);const r=n.getGlobalThis();r.__VUE__=!0,__VUE_PROD_DEVTOOLS__&&M(r.__VUE_DEVTOOLS_GLOBAL_HOOK__,r);const{insert:i,remove:s,patchProp:a,createElement:c,createText:l,createComment:u,setText:d,setElementText:p,parentNode:f,nextSibling:h,setScopeId:_=n.NOOP,cloneNode:m,insertStaticContent:E}=e,y=(e,t,r,o=null,n=null,i=null,s=!1,a=null,c=!!t.dynamicChildren)=>{if(e===t)return;e&&!er(e,t)&&(o=ne(e),K(e,n,i,!0),e=null),-2===t.patchFlag&&(c=!1,t.dynamicChildren=null);const{type:l,ref:u,shapeFlag:d}=t;switch(l){case Ht:T(e,t,r,o);break;case Wt:b(e,t,r,o);break;case zt:null==e&&C(t,r,o,s);break;case Ft:L(e,t,r,o,n,i,s,a,c);break;default:1&d?x(e,t,r,o,n,i,s,a,c):6&d?U(e,t,r,o,n,i,s,a,c):(64&d||128&d)&&l.process(e,t,r,o,n,i,s,a,c,se)}null!=u&&n&&mt(u,e&&e.ref,i,t||e,!t)},T=(e,t,r,o)=>{if(null==e)i(t.el=l(t.children),r,o);else{const r=t.el=e.el;t.children!==e.children&&d(r,t.children)}},b=(e,t,r,o)=>{null==e?i(t.el=u(t.children||""),r,o):t.el=e.el},C=(e,t,r,o)=>{[e.el,e.anchor]=E(e.children,t,r,o,e.el,e.anchor)},I=({el:e,anchor:t})=>{let r;for(;e&&e!==t;)r=h(e),s(e),e=r;s(t)},x=(e,t,r,o,n,i,s,a,c)=>{s=s||"svg"===t.type,null==e?A(t,r,o,n,i,s,a,c):O(e,t,n,i,s,a,c)},A=(e,t,r,o,s,l,u,d)=>{let f,h;const{type:v,props:g,shapeFlag:_,transition:E,patchFlag:y,dirs:T}=e;if(e.el&&void 0!==m&&-1===y)f=e.el=m(e.el);else{if(f=e.el=c(e.type,l,g&&g.is,g),8&_?p(f,e.children):16&_&&w(e.children,f,null,o,s,l&&"foreignObject"!==v,u,d),T&&ht(e,null,o,"created"),g){for(const t in g)"value"===t||n.isReservedProp(t)||a(f,t,null,g[t],l,e.children,o,s,oe);"value"in g&&a(f,"value",null,g.value),(h=g.onVnodeBeforeMount)&&fr(h,o,e)}D(f,e,e.scopeId,u,o)}__VUE_PROD_DEVTOOLS__&&(Object.defineProperty(f,"__vnode",{value:e,enumerable:!1}),Object.defineProperty(f,"__vueParentComponent",{value:o,enumerable:!1})),T&&ht(e,null,o,"beforeMount");const b=(!s||s&&!s.pendingBranch)&&E&&!E.persisted;b&&E.beforeEnter(f),i(f,t,r),((h=g&&g.onVnodeMounted)||b||T)&&Ct((()=>{h&&fr(h,o,e),b&&E.enter(f),T&&ht(e,null,o,"mounted")}),s)},D=(e,t,r,o,n)=>{if(r&&_(e,r),o)for(let t=0;t<o.length;t++)_(e,o[t]);if(n){if(t===n.subTree){const t=n.vnode;D(e,t,t.scopeId,t.slotScopeIds,n.parent)}}},w=(e,t,r,o,n,i,s,a,c=0)=>{for(let l=c;l<e.length;l++){const c=e[l]=a?ur(e[l]):lr(e[l]);y(null,c,t,r,o,n,i,s,a)}},O=(e,t,r,o,i,s,c)=>{const l=t.el=e.el;let{patchFlag:u,dynamicChildren:d,dirs:f}=t;u|=16&e.patchFlag;const h=e.props||n.EMPTY_OBJ,v=t.props||n.EMPTY_OBJ;let g;r&&St(r,!1),(g=v.onVnodeBeforeUpdate)&&fr(g,r,t,e),f&&ht(t,e,r,"beforeUpdate"),r&&St(r,!0);const _=i&&"foreignObject"!==t.type;if(d?B(e.dynamicChildren,d,l,r,o,_,s):c||G(e,t,l,null,r,o,_,s,!1),u>0){if(16&u)P(l,t,h,v,r,o,i);else if(2&u&&h.class!==v.class&&a(l,"class",null,v.class,i),4&u&&a(l,"style",h.style,v.style,i),8&u){const n=t.dynamicProps;for(let t=0;t<n.length;t++){const s=n[t],c=h[s],u=v[s];u===c&&"value"!==s||a(l,s,c,u,i,e.children,r,o,oe)}}1&u&&e.children!==t.children&&p(l,t.children)}else c||null!=d||P(l,t,h,v,r,o,i);((g=v.onVnodeUpdated)||f)&&Ct((()=>{g&&fr(g,r,t,e),f&&ht(t,e,r,"updated")}),o)},B=(e,t,r,o,n,i,s)=>{for(let a=0;a<t.length;a++){const c=e[a],l=t[a],u=c.el&&(c.type===Ft||!er(c,l)||70&c.shapeFlag)?f(c.el):r;y(c,l,u,null,o,n,i,s,!0)}},P=(e,t,r,o,i,s,c)=>{if(r!==o){for(const l in o){if(n.isReservedProp(l))continue;const u=o[l],d=r[l];u!==d&&"value"!==l&&a(e,l,d,u,c,t.children,i,s,oe)}if(r!==n.EMPTY_OBJ)for(const l in r)n.isReservedProp(l)||l in o||a(e,l,r[l],null,c,t.children,i,s,oe);"value"in o&&a(e,"value",r.value,o.value)}},L=(e,t,r,o,n,s,a,c,u)=>{const d=t.el=e?e.el:l(""),p=t.anchor=e?e.anchor:l("");let{patchFlag:f,dynamicChildren:h,slotScopeIds:v}=t;v&&(c=c?c.concat(v):v),null==e?(i(d,r,o),i(p,r,o),w(t.children,r,p,n,s,a,c,u)):f>0&&64&f&&h&&e.dynamicChildren?(B(e.dynamicChildren,h,r,n,s,a,c),(null!=t.key||n&&t===n.subTree)&&Dt(e,t,!0)):G(e,t,r,p,n,s,a,c,u)},U=(e,t,r,o,n,i,s,a,c)=>{t.slotScopeIds=a,null==e?512&t.shapeFlag?n.ctx.activate(t,r,o,s,c):V(t,r,o,n,i,s,c):k(e,t,c)},V=(e,t,r,o,n,i,s)=>{const a=e.component=Er(e,o,n);if(Ie(e)&&(a.ctx.renderer=se),Dr(a),a.asyncDep){if(n&&n.registerDep(a,z),!e.el){const e=a.subTree=ir(Wt);b(null,e,t,r)}}else z(a,e,t,r,n,i,s)},k=(e,t,r)=>{const o=t.component=e.component;if(function(e,t,r){const{props:o,children:n,component:i}=e,{props:s,children:a,patchFlag:c}=t,l=i.emitsOptions;if(t.dirs||t.transition)return!0;if(!(r&&c>=0))return!(!n&&!a||a&&a.$stable)||o!==s&&(o?!s||ee(o,s,l):!!s);if(1024&c)return!0;if(16&c)return o?ee(o,s,l):!!s;if(8&c){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const r=e[t];if(s[r]!==o[r]&&!Y(l,r))return!0}}return!1}(e,t,r)){if(o.asyncDep&&!o.asyncResolved)return void j(o,t,r);o.next=t,function(e){const t=v.indexOf(e);t>g&&v.splice(t,1)}(o.update),o.update()}else t.component=e.component,t.el=e.el,o.vnode=t},z=(e,t,r,i,s,a,c)=>{const l=e.effect=new o.ReactiveEffect((()=>{if(e.isMounted){let t,{next:r,bu:o,u:i,parent:l,vnode:u}=e,d=r;St(e,!1),r?(r.el=u.el,j(e,r,c)):r=u,o&&n.invokeArrayFns(o),(t=r.props&&r.props.onVnodeBeforeUpdate)&&fr(t,l,r,u),St(e,!0);const p=Z(e),h=e.subTree;e.subTree=p,y(h,p,f(h.el),ne(h),e,s,a),r.el=p.el,null===d&&te(e,p.el),i&&Ct(i,s),(t=r.props&&r.props.onVnodeUpdated)&&Ct((()=>fr(t,l,r,u)),s),__VUE_PROD_DEVTOOLS__&&H(e)}else{let o;const{el:c,props:l}=t,{bm:u,m:d,parent:p}=e,f=Ce(t);if(St(e,!1),u&&n.invokeArrayFns(u),!f&&(o=l&&l.onVnodeBeforeMount)&&fr(o,p,t),St(e,!0),c&&ce){const r=()=>{e.subTree=Z(e),ce(c,e.subTree,e,s,null)};f?t.type.__asyncLoader().then((()=>!e.isUnmounted&&r())):r()}else{const o=e.subTree=Z(e);y(null,o,r,i,e,s,a),t.el=o.el}if(d&&Ct(d,s),!f&&(o=l&&l.onVnodeMounted)){const e=t;Ct((()=>fr(o,p,e)),s)}256&t.shapeFlag&&e.a&&Ct(e.a,s),e.isMounted=!0,__VUE_PROD_DEVTOOLS__&&F(e),t=r=i=null}}),(()=>S(e.update)),e.scope),u=e.update=l.run.bind(l);u.id=e.uid,St(e,!0),u()},j=(e,t,r)=>{t.component=e;const i=e.vnode.props;e.vnode=t,e.next=null,function(e,t,r,i){const{props:s,attrs:a,vnode:{patchFlag:c}}=e,l=o.toRaw(s),[u]=e.propsOptions;let d=!1;if(!(i||c>0)||16&c){let o;tt(e,t,s,a)&&(d=!0);for(const i in l)t&&(n.hasOwn(t,i)||(o=n.hyphenate(i))!==i&&n.hasOwn(t,o))||(u?!r||void 0===r[i]&&void 0===r[o]||(s[i]=rt(u,l,i,void 0,e,!0)):delete s[i]);if(a!==l)for(const e in a)t&&n.hasOwn(t,e)||(delete a[e],d=!0)}else if(8&c){const r=e.vnode.dynamicProps;for(let o=0;o<r.length;o++){let i=r[o];if(Y(e.emitsOptions,i))continue;const c=t[i];if(u)if(n.hasOwn(a,i))c!==a[i]&&(a[i]=c,d=!0);else{const t=n.camelize(i);s[t]=rt(u,l,t,c,e,!1)}else c!==a[i]&&(a[i]=c,d=!0)}}d&&o.trigger(e,"set","$attrs")}(e,t.props,i,r),((e,t,r)=>{const{vnode:o,slots:i}=e;let s=!0,a=n.EMPTY_OBJ;if(32&o.shapeFlag){const e=t._;e?r&&1===e?s=!1:(n.extend(i,t),r||1!==e||delete i._):(s=!t.$stable,dt(t,i)),a=t}else t&&(pt(e,t),a={default:1});if(s)for(const e in i)ct(e)||e in a||delete i[e]})(e,t.children,r),o.pauseTracking(),N(void 0,e.update),o.resetTracking()},G=(e,t,r,o,n,i,s,a,c=!1)=>{const l=e&&e.children,u=e?e.shapeFlag:0,d=t.children,{patchFlag:f,shapeFlag:h}=t;if(f>0){if(128&f)return void $(l,d,r,o,n,i,s,a,c);if(256&f)return void q(l,d,r,o,n,i,s,a,c)}8&h?(16&u&&oe(l,n,i),d!==l&&p(r,d)):16&u?16&h?$(l,d,r,o,n,i,s,a,c):oe(l,n,i,!0):(8&u&&p(r,""),16&h&&w(d,r,o,n,i,s,a,c))},q=(e,t,r,o,i,s,a,c,l)=>{e=e||n.EMPTY_ARR,t=t||n.EMPTY_ARR;const u=e.length,d=t.length,p=Math.min(u,d);let f;for(f=0;f<p;f++){const o=t[f]=l?ur(t[f]):lr(t[f]);y(e[f],o,r,null,i,s,a,c,l)}u>d?oe(e,i,s,!0,!1,p):w(t,r,o,i,s,a,c,l,p)},$=(e,t,r,o,i,s,a,c,l)=>{let u=0;const d=t.length;let p=e.length-1,f=d-1;for(;u<=p&&u<=f;){const o=e[u],n=t[u]=l?ur(t[u]):lr(t[u]);if(!er(o,n))break;y(o,n,r,null,i,s,a,c,l),u++}for(;u<=p&&u<=f;){const o=e[p],n=t[f]=l?ur(t[f]):lr(t[f]);if(!er(o,n))break;y(o,n,r,null,i,s,a,c,l),p--,f--}if(u>p){if(u<=f){const e=f+1,n=e<d?t[e].el:o;for(;u<=f;)y(null,t[u]=l?ur(t[u]):lr(t[u]),r,n,i,s,a,c,l),u++}}else if(u>f)for(;u<=p;)K(e[u],i,s,!0),u++;else{const h=u,v=u,g=new Map;for(u=v;u<=f;u++){const e=t[u]=l?ur(t[u]):lr(t[u]);null!=e.key&&g.set(e.key,u)}let _,m=0;const E=f-v+1;let T=!1,b=0;const C=new Array(E);for(u=0;u<E;u++)C[u]=0;for(u=h;u<=p;u++){const o=e[u];if(m>=E){K(o,i,s,!0);continue}let n;if(null!=o.key)n=g.get(o.key);else for(_=v;_<=f;_++)if(0===C[_-v]&&er(o,t[_])){n=_;break}void 0===n?K(o,i,s,!0):(C[n-v]=u+1,n>=b?b=n:T=!0,y(o,t[n],r,null,i,s,a,c,l),m++)}const I=T?function(e){const t=e.slice(),r=[0];let o,n,i,s,a;const c=e.length;for(o=0;o<c;o++){const c=e[o];if(0!==c){if(n=r[r.length-1],e[n]<c){t[o]=n,r.push(o);continue}for(i=0,s=r.length-1;i<s;)a=i+s>>1,e[r[a]]<c?i=a+1:s=a;c<e[r[i]]&&(i>0&&(t[o]=r[i-1]),r[i]=o)}}i=r.length,s=r[i-1];for(;i-- >0;)r[i]=s,s=t[s];return r}(C):n.EMPTY_ARR;for(_=I.length-1,u=E-1;u>=0;u--){const e=v+u,n=t[e],p=e+1<d?t[e+1].el:o;0===C[u]?y(null,n,r,p,i,s,a,c,l):T&&(_<0||u!==I[_]?X(n,r,p,2):_--)}}},X=(e,t,r,o,n=null)=>{const{el:s,type:a,transition:c,children:l,shapeFlag:u}=e;if(6&u)return void X(e.component.subTree,t,r,o);if(128&u)return void e.suspense.move(t,r,o);if(64&u)return void a.move(e,t,r,se);if(a===Ft){i(s,t,r);for(let e=0;e<l.length;e++)X(l[e],t,r,o);return void i(e.anchor,t,r)}if(a===zt)return void(({el:e,anchor:t},r,o)=>{let n;for(;e&&e!==t;)n=h(e),i(e,r,o),e=n;i(t,r,o)})(e,t,r);if(2!==o&&1&u&&c)if(0===o)c.beforeEnter(s),i(s,t,r),Ct((()=>c.enter(s)),n);else{const{leave:e,delayLeave:o,afterLeave:n}=c,a=()=>i(s,t,r),l=()=>{e(s,(()=>{a(),n&&n()}))};o?o(s,a,l):l()}else i(s,t,r)},K=(e,t,r,o=!1,n=!1)=>{const{type:i,props:s,ref:a,children:c,dynamicChildren:l,shapeFlag:u,patchFlag:d,dirs:p}=e;if(null!=a&&mt(a,null,r,e,!0),256&u)return void t.ctx.deactivate(e);const f=1&u&&p,h=!Ce(e);let v;if(h&&(v=s&&s.onVnodeBeforeUnmount)&&fr(v,t,e),6&u)re(e.component,r,o);else{if(128&u)return void e.suspense.unmount(r,o);f&&ht(e,null,t,"beforeUnmount"),64&u?e.type.remove(e,t,r,n,se,o):l&&(i!==Ft||d>0&&64&d)?oe(l,t,r,!1,!0):(i===Ft&&384&d||!n&&16&u)&&oe(c,t,r),o&&J(e)}(h&&(v=s&&s.onVnodeUnmounted)||f)&&Ct((()=>{v&&fr(v,t,e),f&&ht(e,null,t,"unmounted")}),r)},J=e=>{const{type:t,el:r,anchor:o,transition:n}=e;if(t===Ft)return void Q(r,o);if(t===zt)return void I(e);const i=()=>{s(r),n&&!n.persisted&&n.afterLeave&&n.afterLeave()};if(1&e.shapeFlag&&n&&!n.persisted){const{leave:t,delayLeave:o}=n,s=()=>t(r,i);o?o(e.el,i,s):s()}else i()},Q=(e,t)=>{let r;for(;e!==t;)r=h(e),s(e),e=r;s(t)},re=(e,t,r)=>{const{bum:o,scope:i,update:s,subTree:a,um:c}=e;o&&n.invokeArrayFns(o),i.stop(),s&&(s.active=!1,K(a,e,t,r)),c&&Ct(c,t),Ct((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve()),__VUE_PROD_DEVTOOLS__&&W(e)},oe=(e,t,r,o=!1,n=!1,i=0)=>{for(let s=i;s<e.length;s++)K(e[s],t,r,o,n)},ne=e=>6&e.shapeFlag?ne(e.component.subTree):128&e.shapeFlag?e.suspense.next():h(e.anchor||e.el),ie=(e,t,r)=>{null==e?t._vnode&&K(t._vnode,null,null,!0):y(t._vnode||null,e,t,null,null,null,r),R(),t._vnode=e},se={p:y,um:K,m:X,r:J,mt:V,mc:w,pc:G,pbc:B,n:ne,o:e};let ae,ce;return t&&([ae,ce]=t(se)),{render:ie,hydrate:ae,createApp:_t(ie,ae)}}function St({effect:e,update:t},r){e.allowRecurse=t.allowRecurse=r}function Dt(e,t,r=!1){const o=e.children,i=t.children;if(n.isArray(o)&&n.isArray(i))for(let e=0;e<o.length;e++){const t=o[e];let n=i[e];1&n.shapeFlag&&!n.dynamicChildren&&((n.patchFlag<=0||32===n.patchFlag)&&(n=i[e]=ur(i[e]),n.el=t.el),r||Dt(t,n))}}const wt=e=>e&&(e.disabled||""===e.disabled),Ot=e=>"undefined"!=typeof SVGElement&&e instanceof SVGElement,Nt=(e,t)=>{const r=e&&e.to;if(n.isString(r)){if(t){return t(r)}return null}return r};function Rt(e,t,r,{o:{insert:o},m:n},i=2){0===i&&o(e.targetAnchor,t,r);const{el:s,anchor:a,shapeFlag:c,children:l,props:u}=e,d=2===i;if(d&&o(s,t,r),(!d||wt(u))&&16&c)for(let e=0;e<l.length;e++)n(l[e],t,r,2);d&&o(a,t,r)}const Bt={__isTeleport:!0,process(e,t,r,o,n,i,s,a,c,l){const{mc:u,pc:d,pbc:p,o:{insert:f,querySelector:h,createText:v,createComment:g}}=l,_=wt(t.props);let{shapeFlag:m,children:E,dynamicChildren:y}=t;if(null==e){const e=t.el=v(""),l=t.anchor=v("");f(e,r,o),f(l,r,o);const d=t.target=Nt(t.props,h),p=t.targetAnchor=v("");d&&(f(p,d),s=s||Ot(d));const g=(e,t)=>{16&m&&u(E,e,t,n,i,s,a,c)};_?g(r,l):d&&g(d,p)}else{t.el=e.el;const o=t.anchor=e.anchor,u=t.target=e.target,f=t.targetAnchor=e.targetAnchor,v=wt(e.props),g=v?r:u,m=v?o:f;if(s=s||Ot(u),y?(p(e.dynamicChildren,y,g,n,i,s,a),Dt(e,t,!0)):c||d(e,t,g,m,n,i,s,a,!1),_)v||Rt(t,r,o,l,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const e=t.target=Nt(t.props,h);e&&Rt(t,e,null,l,0)}else v&&Rt(t,u,f,l,1)}},remove(e,t,r,o,{um:n,o:{remove:i}},s){const{shapeFlag:a,children:c,anchor:l,targetAnchor:u,target:d,props:p}=e;if(d&&i(u),(s||!wt(p))&&(i(l),16&a))for(let e=0;e<c.length;e++){const o=c[e];n(o,t,r,!0,!!o.dynamicChildren)}},move:Rt,hydrate:function(e,t,r,o,n,i,{o:{nextSibling:s,parentNode:a,querySelector:c}},l){const u=t.target=Nt(t.props,c);if(u){const c=u._lpa||u.firstChild;16&t.shapeFlag&&(wt(t.props)?(t.anchor=l(s(e),t,a(e),r,o,n,i),t.targetAnchor=c):(t.anchor=s(e),t.targetAnchor=l(c,t,u,r,o,n,i)),u._lpa=t.targetAnchor&&s(t.targetAnchor))}return t.anchor&&s(t.anchor)}},Pt="components";function Lt(e,t){return kt(Pt,e,!0,t)||e}const Ut=Symbol();function Vt(e){return kt("directives",e)}function kt(e,t,r=!0,o=!1){const i=q||yr;if(i){const r=i.type;if(e===Pt){const e=Lr(r);if(e&&(e===t||e===n.camelize(t)||e===n.capitalize(n.camelize(t))))return r}const s=Mt(i[e]||r[e],t)||Mt(i.appContext[e],t);return!s&&o?r:s}}function Mt(e,t){return e&&(e[t]||e[n.camelize(t)]||e[n.capitalize(n.camelize(t))])}const Ft=Symbol(void 0),Ht=Symbol(void 0),Wt=Symbol(void 0),zt=Symbol(void 0),jt=[];let Gt=null;function Yt(e=!1){jt.push(Gt=e?null:[])}function qt(){jt.pop(),Gt=jt[jt.length-1]||null}let $t=1;function Xt(e){$t+=e}function Kt(e){return e.dynamicChildren=$t>0?Gt||n.EMPTY_ARR:null,qt(),$t>0&&Gt&&Gt.push(e),e}function Zt(e,t,r,o,n,i){return Kt(nr(e,t,r,o,n,i,!0))}function Jt(e,t,r,o,n){return Kt(ir(e,t,r,o,n,!0))}function Qt(e){return!!e&&!0===e.__v_isVNode}function er(e,t){return e.type===t.type&&e.key===t.key}const tr="__vInternal",rr=({key:e})=>null!=e?e:null,or=({ref:e,ref_key:t,ref_for:r})=>null!=e?n.isString(e)||o.isRef(e)||n.isFunction(e)?{i:q,r:e,k:t,f:!!r}:e:null;function nr(e,t=null,r=null,o=0,i=null,s=(e===Ft?0:1),a=!1,c=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&rr(t),ref:t&&or(t),scopeId:$,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:o,dynamicProps:i,dynamicChildren:null,appContext:null};return c?(dr(l,r),128&s&&e.normalize(l)):r&&(l.shapeFlag|=n.isString(r)?8:16),$t>0&&!a&&Gt&&(l.patchFlag>0||6&s)&&32!==l.patchFlag&&Gt.push(l),l}const ir=sr;function sr(e,t=null,r=null,i=0,s=null,a=!1){if(e&&e!==Ut||(e=Wt),Qt(e)){const o=ar(e,t,!0);return r&&dr(o,r),o}if(Vr(e)&&(e=e.__vccOpts),t){t=function(e){return e?o.isProxy(e)||tr in e?n.extend({},e):e:null}(t);let{class:e,style:r}=t;e&&!n.isString(e)&&(t.class=n.normalizeClass(e)),n.isObject(r)&&(o.isProxy(r)&&!n.isArray(r)&&(r=n.extend({},r)),t.style=n.normalizeStyle(r))}return nr(e,t,r,i,s,n.isString(e)?1:(e=>e.__isSuspense)(e)?128:(e=>e.__isTeleport)(e)?64:n.isObject(e)?4:n.isFunction(e)?2:0,a,!0)}function ar(e,t,r=!1){const{props:o,ref:i,patchFlag:s,children:a}=e,c=t?pr(o||{},t):o;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&rr(c),ref:t&&t.ref?r&&i?n.isArray(i)?i.concat(or(t)):[i,or(t)]:or(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ft?-1===s?16:16|s:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ar(e.ssContent),ssFallback:e.ssFallback&&ar(e.ssFallback),el:e.el,anchor:e.anchor}}function cr(e=" ",t=0){return ir(Ht,null,e,t)}function lr(e){return null==e||"boolean"==typeof e?ir(Wt):n.isArray(e)?ir(Ft,null,e.slice()):"object"==typeof e?ur(e):ir(Ht,null,String(e))}function ur(e){return null===e.el||e.memo?e:ar(e)}function dr(e,t){let r=0;const{shapeFlag:o}=e;if(null==t)t=null;else if(n.isArray(t))r=16;else if("object"==typeof t){if(65&o){const r=t.default;return void(r&&(r._c&&(r._d=!1),dr(e,r()),r._c&&(r._d=!0)))}{r=32;const o=t._;o||tr in t?3===o&&q&&(1===q.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=q}}else n.isFunction(t)?(t={default:t,_ctx:q},r=32):(t=String(t),64&o?(r=16,t=[cr(t)]):r=8);e.children=t,e.shapeFlag|=r}function pr(...e){const t={};for(let r=0;r<e.length;r++){const o=e[r];for(const e in o)if("class"===e)t.class!==o.class&&(t.class=n.normalizeClass([t.class,o.class]));else if("style"===e)t.style=n.normalizeStyle([t.style,o.style]);else if(n.isOn(e)){const r=t[e],i=o[e];!i||r===i||n.isArray(r)&&r.includes(i)||(t[e]=r?[].concat(r,i):i)}else""!==e&&(t[e]=o[e])}return t}function fr(e,t,r,o=null){d(e,t,7,[r,o])}const hr=e=>e?Ir(e)?Br(e)||e.proxy:hr(e.parent):null,vr=n.extend(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>hr(e.parent),$root:e=>hr(e.root),$emit:e=>e.emit,$options:e=>__VUE_OPTIONS_API__?$e(e):e.type,$forceUpdate:e=>()=>S(e.update),$nextTick:e=>A.bind(e.proxy),$watch:e=>__VUE_OPTIONS_API__?ue.bind(e):n.NOOP}),gr={get({_:e},t){const{ctx:r,setupState:i,data:s,props:a,accessCache:c,type:l,appContext:u}=e;let d;if("$"!==t[0]){const o=c[t];if(void 0!==o)switch(o){case 1:return i[t];case 2:return s[t];case 4:return r[t];case 3:return a[t]}else{if(i!==n.EMPTY_OBJ&&n.hasOwn(i,t))return c[t]=1,i[t];if(s!==n.EMPTY_OBJ&&n.hasOwn(s,t))return c[t]=2,s[t];if((d=e.propsOptions[0])&&n.hasOwn(d,t))return c[t]=3,a[t];if(r!==n.EMPTY_OBJ&&n.hasOwn(r,t))return c[t]=4,r[t];__VUE_OPTIONS_API__&&!je||(c[t]=0)}}const p=vr[t];let f,h;return p?("$attrs"===t&&o.track(e,"get",t),p(e)):(f=l.__cssModules)&&(f=f[t])?f:r!==n.EMPTY_OBJ&&n.hasOwn(r,t)?(c[t]=4,r[t]):(h=u.config.globalProperties,n.hasOwn(h,t)?h[t]:void 0)},set({_:e},t,r){const{data:o,setupState:i,ctx:s}=e;return i!==n.EMPTY_OBJ&&n.hasOwn(i,t)?(i[t]=r,!0):o!==n.EMPTY_OBJ&&n.hasOwn(o,t)?(o[t]=r,!0):!n.hasOwn(e.props,t)&&(("$"!==t[0]||!(t.slice(1)in e))&&(s[t]=r,!0))},has({_:{data:e,setupState:t,accessCache:r,ctx:o,appContext:i,propsOptions:s}},a){let c;return!!r[a]||e!==n.EMPTY_OBJ&&n.hasOwn(e,a)||t!==n.EMPTY_OBJ&&n.hasOwn(t,a)||(c=s[0])&&n.hasOwn(c,a)||n.hasOwn(o,a)||n.hasOwn(vr,a)||n.hasOwn(i.config.globalProperties,a)},defineProperty(e,t,r){return null!=r.get?e._.accessCache[t]=0:n.hasOwn(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};const _r=vt();let mr=0;function Er(e,t,r){const i=e.type,s=(t?t.appContext:e.appContext)||_r,a={uid:mr++,vnode:e,type:i,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new o.EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ot(i,s),emitsOptions:G(i,s),emit:null,emitted:null,propsDefaults:n.EMPTY_OBJ,inheritAttrs:i.inheritAttrs,ctx:n.EMPTY_OBJ,data:n.EMPTY_OBJ,props:n.EMPTY_OBJ,attrs:n.EMPTY_OBJ,slots:n.EMPTY_OBJ,refs:n.EMPTY_OBJ,setupState:n.EMPTY_OBJ,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=j.bind(null,a),e.ce&&e.ce(a),a}let yr=null;const Tr=()=>yr||q,br=e=>{yr=e,e.scope.on()},Cr=()=>{yr&&yr.scope.off(),yr=null};function Ir(e){return 4&e.vnode.shapeFlag}let xr,Ar,Sr=!1;function Dr(e,t=!1){Sr=t;const{props:r,children:i}=e.vnode,s=Ir(e);!function(e,t,r,i=!1){const s={},a={};n.def(a,tr,1),e.propsDefaults=Object.create(null),tt(e,t,s,a);for(const t in e.propsOptions[0])t in s||(s[t]=void 0);r?e.props=i?s:o.shallowReactive(s):e.type.props?e.props=s:e.props=a,e.attrs=a}(e,r,s,t),((e,t)=>{if(32&e.vnode.shapeFlag){const r=t._;r?(e.slots=o.toRaw(t),n.def(t,"_",r)):dt(t,e.slots={})}else e.slots={},t&&pt(e,t);n.def(e.slots,tr,1)})(e,i);const a=s?function(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=o.markRaw(new Proxy(e.ctx,gr));const{setup:i}=r;if(i){const r=e.setupContext=i.length>1?Rr(e):null;br(e),o.pauseTracking();const s=u(i,e,0,[e.props,r]);if(o.resetTracking(),Cr(),n.isPromise(s)){if(s.then(Cr,Cr),t)return s.then((r=>{wr(e,r,t)})).catch((t=>{p(t,e,0)}));e.asyncDep=s}else wr(e,s,t)}else Nr(e,t)}(e,t):void 0;return Sr=!1,a}function wr(e,t,r){n.isFunction(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:n.isObject(t)&&(__VUE_PROD_DEVTOOLS__&&(e.devtoolsRawSetupState=t),e.setupState=o.proxyRefs(t)),Nr(e,r)}const Or=()=>!xr;function Nr(e,t,r){const i=e.type;if(!e.render){if(!t&&xr&&!i.render){const t=i.template;if(t){const{isCustomElement:r,compilerOptions:o}=e.appContext.config,{delimiters:s,compilerOptions:a}=i,c=n.extend(n.extend({isCustomElement:r,delimiters:s},o),a);i.render=xr(t,c)}}e.render=i.render||n.NOOP,Ar&&Ar(e)}__VUE_OPTIONS_API__&&(br(e),o.pauseTracking(),Ge(e),o.resetTracking(),Cr())}function Rr(e){let t;return{get attrs(){return t||(t=function(e){return new Proxy(e.attrs,{get:(t,r)=>(o.track(e,"get","$attrs"),t[r])})}(e))},slots:e.slots,emit:e.emit,expose:t=>{e.exposed=t||{}}}}function Br(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(o.proxyRefs(o.markRaw(e.exposed)),{get:(t,r)=>r in t?t[r]:r in vr?vr[r](e):void 0}))}const Pr=/(?:^|[-_])(\w)/g;function Lr(e){return n.isFunction(e)&&e.displayName||e.name}function Ur(e,t,r=!1){let o=Lr(t);if(!o&&t.__file){const e=t.__file.match(/([^/\\]+)\.\w+$/);e&&(o=e[1])}if(!o&&e&&e.parent){const r=e=>{for(const r in e)if(e[r]===t)return r};o=r(e.components||e.parent.type.components)||r(e.appContext.components)}return o?o.replace(Pr,(e=>e.toUpperCase())).replace(/[-_]/g,""):r?"App":"Anonymous"}function Vr(e){return n.isFunction(e)&&"__vccOpts"in e}const kr=(e,t)=>o.computed(e,t,Sr);function Mr(e,t,r){const o=arguments.length;return 2===o?n.isObject(t)&&!n.isArray(t)?Qt(t)?ir(e,null,[t]):ir(e,t):ir(e,null,t):(o>3?r=Array.prototype.slice.call(arguments,2):3===o&&Qt(r)&&(r=[r]),ir(e,t,r))}Symbol("");function Fr(){return}const Hr="3.2.33"})),s.register("liXpq",(function(e,r){t(e.exports,"EffectScope",(()=>i)),t(e.exports,"ReactiveEffect",(()=>_)),t(e.exports,"pauseTracking",(()=>T)),t(e.exports,"resetTracking",(()=>b)),t(e.exports,"track",(()=>C)),t(e.exports,"trigger",(()=>x)),t(e.exports,"toRaw",(()=>ye)),t(e.exports,"isRef",(()=>Ae)),t(e.exports,"reactive",(()=>pe)),t(e.exports,"isShallow",(()=>me)),t(e.exports,"shallowReactive",(()=>fe)),t(e.exports,"isReactive",(()=>ge)),t(e.exports,"isProxy",(()=>Ee)),t(e.exports,"markRaw",(()=>Te)),t(e.exports,"ref",(()=>Se)),t(e.exports,"shallowRef",(()=>De)),t(e.exports,"unref",(()=>Ne)),t(e.exports,"proxyRefs",(()=>Be)),t(e.exports,"computed",(()=>Le));var o=s("47vmc");let n;class i{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&n&&(this.parent=n,this.index=(n.scopes||(n.scopes=[])).push(this)-1)}run(e){if(this.active){const t=n;try{return n=this,e()}finally{n=t}}}on(){n=this}off(){n=this.parent}stop(e){if(this.active){let t,r;for(t=0,r=this.effects.length;t<r;t++)this.effects[t].stop();for(t=0,r=this.cleanups.length;t<r;t++)this.cleanups[t]();if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].stop(!0);if(this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.active=!1}}}function a(e,t=n){t&&t.active&&t.effects.push(e)}const c=e=>{const t=new Set(e);return t.w=0,t.n=0,t},l=e=>(e.w&f)>0,u=e=>(e.n&f)>0,d=new WeakMap;let p=0,f=1;let h;const v=Symbol(""),g=Symbol("");class _{constructor(e,t=null,r){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,a(this,r)}run(){if(!this.active)return this.fn();let e=h,t=E;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=h,h=this,E=!0,f=1<<++p,p<=30?(({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=f})(this):m(this),this.fn()}finally{p<=30&&(e=>{const{deps:t}=e;if(t.length){let r=0;for(let o=0;o<t.length;o++){const n=t[o];l(n)&&!u(n)?n.delete(e):t[r++]=n,n.w&=~f,n.n&=~f}t.length=r}})(this),f=1<<--p,h=this.parent,E=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){h===this?this.deferStop=!0:this.active&&(m(this),this.onStop&&this.onStop(),this.active=!1)}}function m(e){const{deps:t}=e;if(t.length){for(let r=0;r<t.length;r++)t[r].delete(e);t.length=0}}let E=!0;const y=[];function T(){y.push(E),E=!1}function b(){const e=y.pop();E=void 0===e||e}function C(e,t,r){if(E&&h){let t=d.get(e);t||d.set(e,t=new Map);let o=t.get(r);o||t.set(r,o=c());I(o,void 0)}}function I(e,t){let r=!1;p<=30?u(e)||(e.n|=f,r=!l(e)):r=!e.has(h),r&&(e.add(h),h.deps.push(e))}function x(e,t,r,n,i,s){const a=d.get(e);if(!a)return;let l=[];if("clear"===t)l=[...a.values()];else if("length"===r&&o.isArray(e))a.forEach(((e,t)=>{("length"===t||t>=n)&&l.push(e)}));else switch(void 0!==r&&l.push(a.get(r)),t){case"add":o.isArray(e)?o.isIntegerKey(r)&&l.push(a.get("length")):(l.push(a.get(v)),o.isMap(e)&&l.push(a.get(g)));break;case"delete":o.isArray(e)||(l.push(a.get(v)),o.isMap(e)&&l.push(a.get(g)));break;case"set":o.isMap(e)&&l.push(a.get(v))}if(1===l.length)l[0]&&A(l[0]);else{const e=[];for(const t of l)t&&e.push(...t);A(c(e))}}function A(e,t){for(const t of o.isArray(e)?e:[...e])(t!==h||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const S=o.makeMap("__proto__,__v_isRef,__isVue"),D=new Set(Object.getOwnPropertyNames(Symbol).map((e=>Symbol[e])).filter(o.isSymbol)),w=P(),O=P(!1,!0),N=P(!0),R=B();function B(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{e[t]=function(...e){const r=ye(this);for(let e=0,t=this.length;e<t;e++)C(r,0,e+"");const o=r[t](...e);return-1===o||!1===o?r[t](...e.map(ye)):o}})),["push","pop","shift","unshift","splice"].forEach((t=>{e[t]=function(...e){T();const r=ye(this)[t].apply(this,e);return b(),r}})),e}function P(e=!1,t=!1){return function(r,n,i){if("__v_isReactive"===n)return!e;if("__v_isReadonly"===n)return e;if("__v_isShallow"===n)return t;if("__v_raw"===n&&i===(e?t?de:ue:t?le:ce).get(r))return r;const s=o.isArray(r);if(!e&&s&&o.hasOwn(R,n))return Reflect.get(R,n,i);const a=Reflect.get(r,n,i);if(o.isSymbol(n)?D.has(n):S(n))return a;if(e||C(r,0,n),t)return a;if(Ae(a)){return!s||!o.isIntegerKey(n)?a.value:a}return o.isObject(a)?e?he(a):pe(a):a}}const L=V(),U=V(!0);function V(e=!1){return function(t,r,n,i){let s=t[r];if(_e(s)&&Ae(s)&&!Ae(n))return!1;if(!e&&!_e(n)&&(me(n)||(n=ye(n),s=ye(s)),!o.isArray(t)&&Ae(s)&&!Ae(n)))return s.value=n,!0;const a=o.isArray(t)&&o.isIntegerKey(r)?Number(r)<t.length:o.hasOwn(t,r),c=Reflect.set(t,r,n,i);return t===ye(i)&&(a?o.hasChanged(n,s)&&x(t,"set",r,n):x(t,"add",r,n)),c}}const k={get:w,set:L,deleteProperty:function(e,t){const r=o.hasOwn(e,t),n=(e[t],Reflect.deleteProperty(e,t));return n&&r&&x(e,"delete",t,void 0),n},has:function(e,t){const r=Reflect.has(e,t);return o.isSymbol(t)&&D.has(t)||C(e,0,t),r},ownKeys:function(e){return C(e,0,o.isArray(e)?"length":v),Reflect.ownKeys(e)}},M={get:N,set:(e,t)=>!0,deleteProperty:(e,t)=>!0},F=o.extend({},k,{get:O,set:U}),H=e=>e,W=e=>Reflect.getPrototypeOf(e);function z(e,t,r=!1,o=!1){const n=ye(e=e.__v_raw),i=ye(t);t!==i&&!r&&C(n,0,t),!r&&C(n,0,i);const{has:s}=W(n),a=o?H:r?Ce:be;return s.call(n,t)?a(e.get(t)):s.call(n,i)?a(e.get(i)):void(e!==n&&e.get(t))}function j(e,t=!1){const r=this.__v_raw,o=ye(r),n=ye(e);return e!==n&&!t&&C(o,0,e),!t&&C(o,0,n),e===n?r.has(e):r.has(e)||r.has(n)}function G(e,t=!1){return e=e.__v_raw,!t&&C(ye(e),0,v),Reflect.get(e,"size",e)}function Y(e){e=ye(e);const t=ye(this);return W(t).has.call(t,e)||(t.add(e),x(t,"add",e,e)),this}function q(e,t){t=ye(t);const r=ye(this),{has:n,get:i}=W(r);let s=n.call(r,e);s||(e=ye(e),s=n.call(r,e));const a=i.call(r,e);return r.set(e,t),s?o.hasChanged(t,a)&&x(r,"set",e,t):x(r,"add",e,t),this}function $(e){const t=ye(this),{has:r,get:o}=W(t);let n=r.call(t,e);n||(e=ye(e),n=r.call(t,e));o&&o.call(t,e);const i=t.delete(e);return n&&x(t,"delete",e,void 0),i}function X(){const e=ye(this),t=0!==e.size,r=e.clear();return t&&x(e,"clear",void 0,void 0),r}function K(e,t){return function(r,o){const n=this,i=n.__v_raw,s=ye(i),a=t?H:e?Ce:be;return!e&&C(s,0,v),i.forEach(((e,t)=>r.call(o,a(e),a(t),n)))}}function Z(e,t,r){return function(...n){const i=this.__v_raw,s=ye(i),a=o.isMap(s),c="entries"===e||e===Symbol.iterator&&a,l="keys"===e&&a,u=i[e](...n),d=r?H:t?Ce:be;return!t&&C(s,0,l?g:v),{next(){const{value:e,done:t}=u.next();return t?{value:e,done:t}:{value:c?[d(e[0]),d(e[1])]:d(e),done:t}},[Symbol.iterator](){return this}}}}function J(e){return function(...t){return"delete"!==e&&this}}function Q(){const e={get(e){return z(this,e)},get size(){return G(this)},has:j,add:Y,set:q,delete:$,clear:X,forEach:K(!1,!1)},t={get(e){return z(this,e,!1,!0)},get size(){return G(this)},has:j,add:Y,set:q,delete:$,clear:X,forEach:K(!1,!0)},r={get(e){return z(this,e,!0)},get size(){return G(this,!0)},has(e){return j.call(this,e,!0)},add:J("add"),set:J("set"),delete:J("delete"),clear:J("clear"),forEach:K(!0,!1)},o={get(e){return z(this,e,!0,!0)},get size(){return G(this,!0)},has(e){return j.call(this,e,!0)},add:J("add"),set:J("set"),delete:J("delete"),clear:J("clear"),forEach:K(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach((n=>{e[n]=Z(n,!1,!1),r[n]=Z(n,!0,!1),t[n]=Z(n,!1,!0),o[n]=Z(n,!0,!0)})),[e,r,t,o]}const[ee,te,re,oe]=Q();function ne(e,t){const r=t?e?oe:re:e?te:ee;return(t,n,i)=>"__v_isReactive"===n?!e:"__v_isReadonly"===n?e:"__v_raw"===n?t:Reflect.get(o.hasOwn(r,n)&&n in t?r:t,n,i)}const ie={get:ne(!1,!1)},se={get:ne(!1,!0)},ae={get:ne(!0,!1)};const ce=new WeakMap,le=new WeakMap,ue=new WeakMap,de=new WeakMap;function pe(e){return _e(e)?e:ve(e,!1,k,ie,ce)}function fe(e){return ve(e,!1,F,se,le)}function he(e){return ve(e,!0,M,ae,ue)}function ve(e,t,r,n,i){if(!o.isObject(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const s=i.get(e);if(s)return s;const a=(c=e).__v_skip||!Object.isExtensible(c)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}(o.toRawType(c));var c;if(0===a)return e;const l=new Proxy(e,2===a?n:r);return i.set(e,l),l}function ge(e){return _e(e)?ge(e.__v_raw):!(!e||!e.__v_isReactive)}function _e(e){return!(!e||!e.__v_isReadonly)}function me(e){return!(!e||!e.__v_isShallow)}function Ee(e){return ge(e)||_e(e)}function ye(e){const t=e&&e.__v_raw;return t?ye(t):e}function Te(e){return o.def(e,"__v_skip",!0),e}const be=e=>o.isObject(e)?pe(e):e,Ce=e=>o.isObject(e)?he(e):e;function Ie(e){E&&h&&I((e=ye(e)).dep||(e.dep=c()))}function xe(e,t){(e=ye(e)).dep&&A(e.dep)}function Ae(e){return!(!e||!0!==e.__v_isRef)}function Se(e){return we(e,!1)}function De(e){return we(e,!0)}function we(e,t){return Ae(e)?e:new Oe(e,t)}class Oe{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:ye(e),this._value=t?e:be(e)}get value(){return Ie(this),this._value}set value(e){e=this.__v_isShallow?e:ye(e),o.hasChanged(e,this._rawValue)&&(this._rawValue=e,this._value=this.__v_isShallow?e:be(e),xe(this))}}function Ne(e){return Ae(e)?e.value:e}const Re={get:(e,t,r)=>Ne(Reflect.get(e,t,r)),set:(e,t,r,o)=>{const n=e[t];return Ae(n)&&!Ae(r)?(n.value=r,!0):Reflect.set(e,t,r,o)}};function Be(e){return ge(e)?e:new Proxy(e,Re)}class Pe{constructor(e,t,r,o){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new _(e,(()=>{this._dirty||(this._dirty=!0,xe(this))})),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=r}get value(){const e=ye(this);return Ie(e),!e._dirty&&e._cacheable||(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function Le(e,t,r=!1){let n,i;const s=o.isFunction(e);s?(n=e,i=o.NOOP):(n=e.get,i=e.set);return new Pe(n,i,s||!i,r)}})),s.register("47vmc",(function(e,o){function n(e,t){const r=Object.create(null),o=e.split(",");for(let e=0;e<o.length;e++)r[o[e]]=!0;return t?e=>!!r[e.toLowerCase()]:e=>!!r[e]}t(e.exports,"makeMap",(()=>n)),t(e.exports,"isGloballyWhitelisted",(()=>i)),t(e.exports,"isSpecialBooleanAttr",(()=>a)),t(e.exports,"includeBooleanAttr",(()=>c)),t(e.exports,"normalizeStyle",(()=>l)),t(e.exports,"isArray",(()=>w)),t(e.exports,"isString",(()=>P)),t(e.exports,"isObject",(()=>U)),t(e.exports,"hyphenate",(()=>X)),t(e.exports,"normalizeClass",(()=>f)),t(e.exports,"isHTMLTag",(()=>h)),t(e.exports,"isSVGTag",(()=>v)),t(e.exports,"looseEqual",(()=>g)),t(e.exports,"looseIndexOf",(()=>_)),t(e.exports,"isFunction",(()=>B)),t(e.exports,"isMap",(()=>O)),t(e.exports,"isSet",(()=>N)),t(e.exports,"isPlainObject",(()=>H)),t(e.exports,"EMPTY_OBJ",(()=>m)),t(e.exports,"EMPTY_ARR",(()=>E)),t(e.exports,"NOOP",(()=>y)),t(e.exports,"NO",(()=>T)),t(e.exports,"isOn",(()=>C)),t(e.exports,"isModelListener",(()=>I)),t(e.exports,"extend",(()=>x)),t(e.exports,"remove",(()=>A)),t(e.exports,"hasOwn",(()=>D)),t(e.exports,"isSymbol",(()=>L)),t(e.exports,"isPromise",(()=>V)),t(e.exports,"toRawType",(()=>F)),t(e.exports,"isIntegerKey",(()=>W)),t(e.exports,"isReservedProp",(()=>z)),t(e.exports,"isBuiltInDirective",(()=>j)),t(e.exports,"camelize",(()=>q)),t(e.exports,"capitalize",(()=>K)),t(e.exports,"toHandlerKey",(()=>Z)),t(e.exports,"hasChanged",(()=>J)),t(e.exports,"invokeArrayFns",(()=>Q)),t(e.exports,"def",(()=>ee)),t(e.exports,"toNumber",(()=>te)),t(e.exports,"getGlobalThis",(()=>oe));const i=n("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt");const s="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",a=n(s);function c(e){return!!e||""===e}function l(e){if(w(e)){const t={};for(let r=0;r<e.length;r++){const o=e[r],n=P(o)?p(o):l(o);if(n)for(const e in n)t[e]=n[e]}return t}return P(e)||U(e)?e:void 0}const u=/;(?![^(]*\))/g,d=/:(.+)/;function p(e){const t={};return e.split(u).forEach((e=>{if(e){const r=e.split(d);r.length>1&&(t[r[0].trim()]=r[1].trim())}})),t}function f(e){let t="";if(P(e))t=e;else if(w(e))for(let r=0;r<e.length;r++){const o=f(e[r]);o&&(t+=o+" ")}else if(U(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const h=n("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot"),v=n("svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view");function g(e,t){if(e===t)return!0;let r=R(e),o=R(t);if(r||o)return!(!r||!o)&&e.getTime()===t.getTime();if(r=w(e),o=w(t),r||o)return!(!r||!o)&&function(e,t){if(e.length!==t.length)return!1;let r=!0;for(let o=0;r&&o<e.length;o++)r=g(e[o],t[o]);return r}(e,t);if(r=U(e),o=U(t),r||o){if(!r||!o)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e){const o=e.hasOwnProperty(r),n=t.hasOwnProperty(r);if(o&&!n||!o&&n||!g(e[r],t[r]))return!1}}return String(e)===String(t)}function _(e,t){return e.findIndex((e=>g(e,t)))}const m={},E=[],y=()=>{},T=()=>!1,b=/^on[^a-z]/,C=e=>b.test(e),I=e=>e.startsWith("onUpdate:"),x=Object.assign,A=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},S=Object.prototype.hasOwnProperty,D=(e,t)=>S.call(e,t),w=Array.isArray,O=e=>"[object Map]"===M(e),N=e=>"[object Set]"===M(e),R=e=>e instanceof Date,B=e=>"function"==typeof e,P=e=>"string"==typeof e,L=e=>"symbol"==typeof e,U=e=>null!==e&&"object"==typeof e,V=e=>U(e)&&B(e.then)&&B(e.catch),k=Object.prototype.toString,M=e=>k.call(e),F=e=>M(e).slice(8,-1),H=e=>"[object Object]"===M(e),W=e=>P(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,z=n(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),j=n("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),G=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},Y=/-(\w)/g,q=G((e=>e.replace(Y,((e,t)=>t?t.toUpperCase():"")))),$=/\B([A-Z])/g,X=G((e=>e.replace($,"-$1").toLowerCase())),K=G((e=>e.charAt(0).toUpperCase()+e.slice(1))),Z=G((e=>e?`on${K(e)}`:"")),J=(e,t)=>!Object.is(e,t),Q=(e,t)=>{for(let r=0;r<e.length;r++)e[r](t)},ee=(e,t,r)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r})},te=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let re;const oe=()=>re||(re="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==r?r:{})})),s.register("8NbH7",(function(e,r){t(e.exports,"render",(()=>n)),s("bgCzB");var o=s("d4ofg");function n(e,t){return o.openBlock(),o.createElementBlock("div",null,"device-page")}})),s.register("iobKg",(function(e,r){t(e.exports,"default",(()=>o));var o=e=>{}})),s.register("bKQZe",(function(r,o){e(r.exports),t(r.exports,"default",(()=>n)),s("bgCzB");var n=s("d4ofg").defineComponent({setup(){}})})),s.register("k2hYG",(function(e,r){t(e.exports,"render",(()=>n)),s("bgCzB");var o=s("d4ofg");function n(e,t){return o.openBlock(),o.createElementBlock("div",null,"scenes-page")}})),s.register("71K30",(function(e,r){t(e.exports,"default",(()=>o));var o=e=>{}})),s.register("8hDKz",(function(r,o){e(r.exports),t(r.exports,"default",(()=>n));var n={components:{Layout:s("7sGG2").default}}})),s.register("7sGG2",(function(e,r){let o;t(e.exports,"default",(()=>n));o=s("f9VYl"),o.__esModule&&(o=o.default),o.render=s("1Wdp3").render,s("jVGbF").default(o),o.__scopeId="data-v-c07d0d",o.__file="Layout.vue";var n=o})),s.register("f9VYl",(function(r,o){e(r.exports),t(r.exports,"default",(()=>a)),s("bgCzB");var n=s("d4ofg"),i=s("1g3Eg"),a=n.defineComponent({components:{},setup(){const e=i.useRouter();return{handleToHome:()=>{e.push("/")},handleToScenes:()=>{e.push("/scenes")}}}})})),s.register("1g3Eg",(function(e,r){t(e.exports,"createWebHashHistory",(()=>F)),t(e.exports,"createRouter",(()=>Je)),t(e.exports,"useRouter",(()=>et)),s("bgCzB");var o=s("d4ofg"),n=s("liXpq"),i=s("9cwbn");const a="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,c=e=>a?Symbol(e):"_vr_"+e,l=c("rvlm"),u=c("rvd"),d=c("r"),p=c("rl"),f=c("rvl"),h="undefined"!=typeof window;const v=Object.assign;function g(e,t){const r={};for(const o in t){const n=t[o];r[o]=Array.isArray(n)?n.map(e):e(n)}return r}const _=()=>{};const m=/\/$/;function E(e,t,r="/"){let o,n={},i="",s="";const a=t.indexOf("?"),c=t.indexOf("#",a>-1?a:0);return a>-1&&(o=t.slice(0,a),i=t.slice(a+1,c>-1?c:t.length),n=e(i)),c>-1&&(o=o||t.slice(0,c),s=t.slice(c,t.length)),o=function(e,t){if(e.startsWith("/"))return e;if(!e)return t;const r=t.split("/"),o=e.split("/");let n,i,s=r.length-1;for(n=0;n<o.length;n++)if(i=o[n],1!==s&&"."!==i){if(".."!==i)break;s--}return r.slice(0,s).join("/")+"/"+o.slice(n-(n===o.length?1:0)).join("/")}(null!=o?o:t,r),{fullPath:o+(i&&"?")+i+s,path:o,query:n,hash:s}}function y(e,t){return t&&e.toLowerCase().startsWith(t.toLowerCase())?e.slice(t.length)||"/":e}function T(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function b(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(!C(e[r],t[r]))return!1;return!0}function C(e,t){return Array.isArray(e)?I(e,t):Array.isArray(t)?I(t,e):e===t}function I(e,t){return Array.isArray(t)?e.length===t.length&&e.every(((e,r)=>e===t[r])):1===e.length&&e[0]===t}var x,A,S,D;(A=x||(x={})).pop="pop",A.push="push",(D=S||(S={})).back="back",D.forward="forward",D.unknown="";function w(e){if(!e)if(h){const t=document.querySelector("base");e=(e=t&&t.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),e.replace(m,"")}const O=/^[^#]+#/;function N(e,t){return e.replace(O,"#")+t}const R=()=>({left:window.pageXOffset,top:window.pageYOffset});function B(e){let t;if("el"in e){const r=e.el,o="string"==typeof r&&r.startsWith("#");const n="string"==typeof r?o?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!n)return;t=function(e,t){const r=document.documentElement.getBoundingClientRect(),o=e.getBoundingClientRect();return{behavior:t.behavior,left:o.left-r.left-(t.left||0),top:o.top-r.top-(t.top||0)}}(n,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.pageXOffset,null!=t.top?t.top:window.pageYOffset)}function P(e,t){return(history.state?history.state.position-t:-1)+e}const L=new Map;let U=()=>location.protocol+"//"+location.host;function V(e,t){const{pathname:r,search:o,hash:n}=t,i=e.indexOf("#");if(i>-1){let t=n.includes(e.slice(i))?e.slice(i).length:1,r=n.slice(t);return"/"!==r[0]&&(r="/"+r),y(r,"")}return y(r,e)+o+n}function k(e,t,r,o=!1,n=!1){return{back:e,current:t,forward:r,replaced:o,position:window.history.length,scroll:n?R():null}}function M(e){const t=function(e){const{history:t,location:r}=window,o={value:V(e,r)},n={value:t.state};function i(o,i,s){const a=e.indexOf("#"),c=a>-1?(r.host&&document.querySelector("base")?e:e.slice(a))+o:U()+e+o;try{t[s?"replaceState":"pushState"](i,"",c),n.value=i}catch(e){console.error(e),r[s?"replace":"assign"](c)}}return n.value||i(o.value,{back:null,current:o.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:o,state:n,push:function(e,r){const s=v({},n.value,t.state,{forward:e,scroll:R()});i(s.current,s,!0),i(e,v({},k(o.value,e,null),{position:s.position+1},r),!1),o.value=e},replace:function(e,r){i(e,v({},t.state,k(n.value.back,e,n.value.forward,!0),r,{position:n.value.position}),!0),o.value=e}}}(e=w(e)),r=function(e,t,r,o){let n=[],i=[],s=null;const a=({state:i})=>{const a=V(e,location),c=r.value,l=t.value;let u=0;if(i){if(r.value=a,t.value=i,s&&s===c)return void(s=null);u=l?i.position-l.position:0}else o(a);n.forEach((e=>{e(r.value,c,{delta:u,type:x.pop,direction:u?u>0?S.forward:S.back:S.unknown})}))};function c(){const{history:e}=window;e.state&&e.replaceState(v({},e.state,{scroll:R()}),"")}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c),{pauseListeners:function(){s=r.value},listen:function(e){n.push(e);const t=()=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)};return i.push(t),t},destroy:function(){for(const e of i)e();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}}}(e,t.state,t.location,t.replace);const o=v({location:"",base:e,go:function(e,t=!0){t||r.pauseListeners(),history.go(e)},createHref:N.bind(null,e)},t,r);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function F(e){return(e=location.host?e||location.pathname+location.search:"").includes("#")||(e+="#"),M(e)}function H(e){return"string"==typeof e||"symbol"==typeof e}const W={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},z=c("nf");var j;!function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"}(j||(j={}));function G(e,t){return v(new Error,{type:e,[z]:!0},t)}function Y(e,t){return e instanceof Error&&z in e&&(null==t||!!(e.type&t))}const q="[^/]+?",$={sensitive:!1,strict:!1,start:!0,end:!0},X=/[.+*?^${}()[\]/\\]/g;function K(e,t){let r=0;for(;r<e.length&&r<t.length;){const o=t[r]-e[r];if(o)return o;r++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function Z(e,t){let r=0;const o=e.score,n=t.score;for(;r<o.length&&r<n.length;){const e=K(o[r],n[r]);if(e)return e;r++}return n.length-o.length}const J={type:0,value:""},Q=/[a-zA-Z0-9_]/;function ee(e,t,r){const o=function(e,t){const r=v({},$,t),o=[];let n=r.start?"^":"";const i=[];for(const t of e){const e=t.length?[]:[90];r.strict&&!t.length&&(n+="/");for(let o=0;o<t.length;o++){const s=t[o];let a=40+(r.sensitive?.25:0);if(0===s.type)o||(n+="/"),n+=s.value.replace(X,"\\$&"),a+=40;else if(1===s.type){const{value:e,repeatable:r,optional:c,regexp:l}=s;i.push({name:e,repeatable:r,optional:c});const u=l||q;if(u!==q){a+=10;try{new RegExp(`(${u})`)}catch(t){throw new Error(`Invalid custom RegExp for param "${e}" (${u}): `+t.message)}}let d=r?`((?:${u})(?:/(?:${u}))*)`:`(${u})`;o||(d=c&&t.length<2?`(?:/${d})`:"/"+d),c&&(d+="?"),n+=d,a+=20,c&&(a+=-8),r&&(a+=-20),".*"===u&&(a+=-50)}e.push(a)}o.push(e)}if(r.strict&&r.end){const e=o.length-1;o[e][o[e].length-1]+=.7000000000000001}r.strict||(n+="/?"),r.end?n+="$":r.strict&&(n+="(?:/|$)");const s=new RegExp(n,r.sensitive?"":"i");return{re:s,score:o,keys:i,parse:function(e){const t=e.match(s),r={};if(!t)return null;for(let e=1;e<t.length;e++){const o=t[e]||"",n=i[e-1];r[n.name]=o&&n.repeatable?o.split("/"):o}return r},stringify:function(t){let r="",o=!1;for(const n of e){o&&r.endsWith("/")||(r+="/"),o=!1;for(const e of n)if(0===e.type)r+=e.value;else if(1===e.type){const{value:i,repeatable:s,optional:a}=e,c=i in t?t[i]:"";if(Array.isArray(c)&&!s)throw new Error(`Provided param "${i}" is an array but it is not repeatable (* or + modifiers)`);const l=Array.isArray(c)?c.join("/"):c;if(!l){if(!a)throw new Error(`Missing required param "${i}"`);n.length<2&&(r.endsWith("/")?r=r.slice(0,-1):o=!0)}r+=l}}return r}}}(function(e){if(!e)return[[]];if("/"===e)return[[J]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${r})/"${l}": ${e}`)}let r=0,o=r;const n=[];let i;function s(){i&&n.push(i),i=[]}let a,c=0,l="",u="";function d(){l&&(0===r?i.push({type:0,value:l}):1===r||2===r||3===r?(i.length>1&&("*"===a||"+"===a)&&t(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:l,regexp:u,repeatable:"*"===a||"+"===a,optional:"*"===a||"?"===a})):t("Invalid state to consume buffer"),l="")}function p(){l+=a}for(;c<e.length;)if(a=e[c++],"\\"!==a||2===r)switch(r){case 0:"/"===a?(l&&d(),s()):":"===a?(d(),r=1):p();break;case 4:p(),r=o;break;case 1:"("===a?r=2:Q.test(a)?p():(d(),r=0,"*"!==a&&"?"!==a&&"+"!==a&&c--);break;case 2:")"===a?"\\"==u[u.length-1]?u=u.slice(0,-1)+a:r=3:u+=a;break;case 3:d(),r=0,"*"!==a&&"?"!==a&&"+"!==a&&c--,u="";break;default:t("Unknown state")}else o=r,r=4;return 2===r&&t(`Unfinished custom RegExp for param "${l}"`),d(),s(),n}(e.path),r),n=v(o,{record:e,parent:t,children:[],alias:[]});return t&&!n.record.aliasOf==!t.record.aliasOf&&t.children.push(n),n}function te(e,t){const r=[],o=new Map;function n(e,r,o){const a=!o,c=function(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:re(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||{}:{default:e.component}}}(e);c.aliasOf=o&&o.record;const l=ie(t,e),u=[c];if("alias"in e){const t="string"==typeof e.alias?[e.alias]:e.alias;for(const e of t)u.push(v({},c,{components:o?o.record.components:c.components,path:e,aliasOf:o?o.record:c}))}let d,p;for(const t of u){const{path:u}=t;if(r&&"/"!==u[0]){const e=r.record.path,o="/"===e[e.length-1]?"":"/";t.path=r.record.path+(u&&o+u)}if(d=ee(t,r,l),o?o.alias.push(d):(p=p||d,p!==d&&p.alias.push(d),a&&e.name&&!oe(d)&&i(e.name)),"children"in c){const e=c.children;for(let t=0;t<e.length;t++)n(e[t],d,o&&o.children[t])}o=o||d,s(d)}return p?()=>{i(p)}:_}function i(e){if(H(e)){const t=o.get(e);t&&(o.delete(e),r.splice(r.indexOf(t),1),t.children.forEach(i),t.alias.forEach(i))}else{const t=r.indexOf(e);t>-1&&(r.splice(t,1),e.record.name&&o.delete(e.record.name),e.children.forEach(i),e.alias.forEach(i))}}function s(e){let t=0;for(;t<r.length&&Z(e,r[t])>=0&&(e.record.path!==r[t].record.path||!se(e,r[t]));)t++;r.splice(t,0,e),e.record.name&&!oe(e)&&o.set(e.record.name,e)}return t=ie({strict:!1,end:!0,sensitive:!1},t),e.forEach((e=>n(e))),{addRoute:n,resolve:function(e,t){let n,i,s,a={};if("name"in e&&e.name){if(n=o.get(e.name),!n)throw G(1,{location:e});s=n.record.name,a=v(function(e,t){const r={};for(const o of t)o in e&&(r[o]=e[o]);return r}(t.params,n.keys.filter((e=>!e.optional)).map((e=>e.name))),e.params),i=n.stringify(a)}else if("path"in e)i=e.path,n=r.find((e=>e.re.test(i))),n&&(a=n.parse(i),s=n.record.name);else{if(n=t.name?o.get(t.name):r.find((e=>e.re.test(t.path))),!n)throw G(1,{location:e,currentLocation:t});s=n.record.name,a=v({},t.params,e.params),i=n.stringify(a)}const c=[];let l=n;for(;l;)c.unshift(l.record),l=l.parent;return{name:s,path:i,params:a,matched:c,meta:ne(c)}},removeRoute:i,getRoutes:function(){return r},getRecordMatcher:function(e){return o.get(e)}}}function re(e){const t={},r=e.props||!1;if("component"in e)t.default=r;else for(const o in e.components)t[o]="boolean"==typeof r?r:r[o];return t}function oe(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function ne(e){return e.reduce(((e,t)=>v(e,t.meta)),{})}function ie(e,t){const r={};for(const o in e)r[o]=o in t?t[o]:e[o];return r}function se(e,t){return t.children.some((t=>t===e||se(e,t)))}const ae=/#/g,ce=/&/g,le=/\//g,ue=/=/g,de=/\?/g,pe=/\+/g,fe=/%5B/g,he=/%5D/g,ve=/%5E/g,ge=/%60/g,_e=/%7B/g,me=/%7C/g,Ee=/%7D/g,ye=/%20/g;function Te(e){return encodeURI(""+e).replace(me,"|").replace(fe,"[").replace(he,"]")}function be(e){return Te(e).replace(pe,"%2B").replace(ye,"+").replace(ae,"%23").replace(ce,"%26").replace(ge,"`").replace(_e,"{").replace(Ee,"}").replace(ve,"^")}function Ce(e){return null==e?"":function(e){return Te(e).replace(ae,"%23").replace(de,"%3F")}(e).replace(le,"%2F")}function Ie(e){try{return decodeURIComponent(""+e)}catch(e){}return""+e}function xe(e){const t={};if(""===e||"?"===e)return t;const r=("?"===e[0]?e.slice(1):e).split("&");for(let e=0;e<r.length;++e){const o=r[e].replace(pe," "),n=o.indexOf("="),i=Ie(n<0?o:o.slice(0,n)),s=n<0?null:Ie(o.slice(n+1));if(i in t){let e=t[i];Array.isArray(e)||(e=t[i]=[e]),e.push(s)}else t[i]=s}return t}function Ae(e){let t="";for(let r in e){const o=e[r];if(r=be(r).replace(ue,"%3D"),null==o){void 0!==o&&(t+=(t.length?"&":"")+r);continue}(Array.isArray(o)?o.map((e=>e&&be(e))):[o&&be(o)]).forEach((e=>{void 0!==e&&(t+=(t.length?"&":"")+r,null!=e&&(t+="="+e))}))}return t}function Se(e){const t={};for(const r in e){const o=e[r];void 0!==o&&(t[r]=Array.isArray(o)?o.map((e=>null==e?null:""+e)):null==o?o:""+o)}return t}function De(){let e=[];return{add:function(t){return e.push(t),()=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)}},list:()=>e,reset:function(){e=[]}}}function we(e,t,r,o,n){const i=o&&(o.enterCallbacks[n]=o.enterCallbacks[n]||[]);return()=>new Promise(((s,a)=>{const c=e=>{var c;!1===e?a(G(4,{from:r,to:t})):e instanceof Error?a(e):"string"==typeof(c=e)||c&&"object"==typeof c?a(G(2,{from:t,to:e})):(i&&o.enterCallbacks[n]===i&&"function"==typeof e&&i.push(e),s())},l=e.call(o&&o.instances[n],t,r,c);let u=Promise.resolve(l);e.length<3&&(u=u.then(c)),u.catch((e=>a(e)))}))}function Oe(e,t,r,o){const n=[];for(const s of e)for(const e in s.components){let c=s.components[e];if("beforeRouteEnter"===t||s.instances[e])if("object"==typeof(i=c)||"displayName"in i||"props"in i||"__vccOpts"in i){const i=(c.__vccOpts||c)[t];i&&n.push(we(i,r,o,s,e))}else{let i=c();n.push((()=>i.then((n=>{if(!n)return Promise.reject(new Error(`Couldn't resolve component "${e}" at "${s.path}"`));const i=(c=n).__esModule||a&&"Module"===c[Symbol.toStringTag]?n.default:n;var c;s.components[e]=i;const l=(i.__vccOpts||i)[t];return l&&we(l,r,o,s,e)()}))))}}var i;return n}function Ne(e){const t=o.inject(d),r=o.inject(p),i=o.computed((()=>t.resolve(n.unref(e.to)))),s=o.computed((()=>{const{matched:e}=i.value,{length:t}=e,o=e[t-1],n=r.matched;if(!o||!n.length)return-1;const s=n.findIndex(T.bind(null,o));if(s>-1)return s;const a=Be(e[t-2]);return t>1&&Be(o)===a&&n[n.length-1].path!==a?n.findIndex(T.bind(null,e[t-2])):s})),a=o.computed((()=>s.value>-1&&function(e,t){for(const r in t){const o=t[r],n=e[r];if("string"==typeof o){if(o!==n)return!1}else if(!Array.isArray(n)||n.length!==o.length||o.some(((e,t)=>e!==n[t])))return!1}return!0}(r.params,i.value.params))),c=o.computed((()=>s.value>-1&&s.value===r.matched.length-1&&b(r.params,i.value.params)));if(__VUE_PROD_DEVTOOLS__&&h){const e=o.getCurrentInstance();if(e){const t={route:i.value,isActive:a.value,isExactActive:c.value};e.__vrl_devtools=e.__vrl_devtools||[],e.__vrl_devtools.push(t),o.watchEffect((()=>{t.route=i.value,t.isActive=a.value,t.isExactActive=c.value}),{flush:"post"})}}return{route:i,href:o.computed((()=>i.value.href)),isActive:a,isExactActive:c,navigate:function(r={}){return function(e){if(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)return;if(e.defaultPrevented)return;if(void 0!==e.button&&0!==e.button)return;if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}e.preventDefault&&e.preventDefault();return!0}(r)?t[n.unref(e.replace)?"replace":"push"](n.unref(e.to)).catch(_):Promise.resolve()}}}const Re=o.defineComponent({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Ne,setup(e,{slots:t}){const r=n.reactive(Ne(e)),{options:i}=o.inject(d),s=o.computed((()=>({[Pe(e.activeClass,i.linkActiveClass,"router-link-active")]:r.isActive,[Pe(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive})));return()=>{const n=t.default&&t.default(r);return e.custom?n:o.h("a",{"aria-current":r.isExactActive?e.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:s.value},n)}}});function Be(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Pe=(e,t,r)=>null!=e?e:null!=t?t:r;function Le(e,t){if(!e)return null;const r=e(t);return 1===r.length?r[0]:r}const Ue=o.defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(e,{attrs:t,slots:r}){const i=o.inject(f),s=o.computed((()=>e.route||i.value)),a=o.inject(u,0),c=o.computed((()=>s.value.matched[a]));o.provide(u,a+1),o.provide(l,c),o.provide(f,s);const d=n.ref();return o.watch((()=>[d.value,c.value,e.name]),(([e,t,r],[o,n,i])=>{t&&(t.instances[r]=e,n&&n!==t&&e&&e===o&&(t.leaveGuards.size||(t.leaveGuards=n.leaveGuards),t.updateGuards.size||(t.updateGuards=n.updateGuards))),!e||!t||n&&T(t,n)&&o||(t.enterCallbacks[r]||[]).forEach((t=>t(e)))}),{flush:"post"}),()=>{const n=s.value,i=c.value,l=i&&i.components[e.name],u=e.name;if(!l)return Le(r.default,{Component:l,route:n});const p=i.props[e.name],f=p?!0===p?n.params:"function"==typeof p?p(n):p:null,g=o.h(l,v({},f,t,{onVnodeUnmounted:e=>{e.component.isUnmounted&&(i.instances[u]=null)},ref:d}));if(__VUE_PROD_DEVTOOLS__&&h&&g.ref){const e={depth:a,name:i.name,path:i.path,meta:i.meta};(Array.isArray(g.ref)?g.ref.map((e=>e.i)):[g.ref.i]).forEach((t=>{t.__vrv_devtools=e}))}return Le(r.default,{Component:g,route:n})||g}}});function Ve(e,t){const r=v({},e,{matched:e.matched.map((e=>function(e,t){const r={};for(const o in e)t.includes(o)||(r[o]=e[o]);return r}(e,["instances","children","aliasOf"])))});return{_custom:{type:null,readOnly:!0,display:e.fullPath,tooltip:t,value:r}}}function ke(e){return{_custom:{display:e}}}let Me=0;function Fe(e,t,r){if(t.__hasDevtools)return;t.__hasDevtools=!0;const n=Me++;i.setupDevtoolsPlugin({id:"org.vuejs.router"+(n?"."+n:""),label:"Vue Router",packageName:"vue-router",homepage:"https://router.vuejs.org",logo:"https://router.vuejs.org/logo.png",componentStateTypes:["Routing"],app:e},(i=>{i.on.inspectComponent(((e,r)=>{e.instanceData&&e.instanceData.state.push({type:"Routing",key:"$route",editable:!1,value:Ve(t.currentRoute.value,"Current Route")})})),i.on.visitComponentTree((({treeNode:e,componentInstance:t})=>{if(t.__vrv_devtools){const r=t.__vrv_devtools;e.tags.push({label:(r.name?`${r.name.toString()}: `:"")+r.path,textColor:0,tooltip:"This component is rendered by &lt;router-view&gt;",backgroundColor:We})}Array.isArray(t.__vrl_devtools)&&(t.__devtoolsApi=i,t.__vrl_devtools.forEach((t=>{let r=Ge,o="";t.isExactActive?(r=je,o="This is exactly active"):t.isActive&&(r=ze,o="This link is active"),e.tags.push({label:t.route.path,textColor:0,tooltip:o,backgroundColor:r})})))})),o.watch(t.currentRoute,(()=>{l(),i.notifyComponentUpdate(),i.sendInspectorTree(c),i.sendInspectorState(c)}));const s="router:navigations:"+n;i.addTimelineLayer({id:s,label:`Router${n?" "+n:""} Navigations`,color:4237508}),t.onError(((e,t)=>{i.addTimelineEvent({layerId:s,event:{title:"Error during Navigation",subtitle:t.fullPath,logType:"error",time:Date.now(),data:{error:e},groupId:t.meta.__navigationId}})}));let a=0;t.beforeEach(((e,t)=>{const r={guard:ke("beforeEach"),from:Ve(t,"Current Location during this navigation"),to:Ve(e,"Target location")};Object.defineProperty(e.meta,"__navigationId",{value:a++}),i.addTimelineEvent({layerId:s,event:{time:Date.now(),title:"Start of navigation",subtitle:e.fullPath,data:r,groupId:e.meta.__navigationId}})})),t.afterEach(((e,t,r)=>{const o={guard:ke("afterEach")};r?(o.failure={_custom:{type:Error,readOnly:!0,display:r?r.message:"",tooltip:"Navigation Failure",value:r}},o.status=ke("")):o.status=ke(""),o.from=Ve(t,"Current Location during this navigation"),o.to=Ve(e,"Target location"),i.addTimelineEvent({layerId:s,event:{title:"End of navigation",subtitle:e.fullPath,time:Date.now(),data:o,logType:r?"warning":"default",groupId:e.meta.__navigationId}})}));const c="router-inspector:"+n;function l(){if(!u)return;const e=u;let o=r.getRoutes().filter((e=>!e.parent));o.forEach(Ke),e.filter&&(o=o.filter((t=>Ze(t,e.filter.toLowerCase())))),o.forEach((e=>Xe(e,t.currentRoute.value))),e.rootNodes=o.map(Ye)}let u;i.addInspector({id:c,label:"Routes"+(n?" "+n:""),icon:"book",treeFilterPlaceholder:"Search routes"}),i.on.getInspectorTree((t=>{u=t,t.app===e&&t.inspectorId===c&&l()})),i.on.getInspectorState((t=>{if(t.app===e&&t.inspectorId===c){const e=r.getRoutes().find((e=>e.record.__vd_id===t.nodeId));e&&(t.state={options:He(e)})}})),i.sendInspectorTree(c),i.sendInspectorState(c)}))}function He(e){const{record:t}=e,r=[{editable:!1,key:"path",value:t.path}];return null!=t.name&&r.push({editable:!1,key:"name",value:t.name}),r.push({editable:!1,key:"regexp",value:e.re}),e.keys.length&&r.push({editable:!1,key:"keys",value:{_custom:{type:null,readOnly:!0,display:e.keys.map((e=>`${e.name}${function(e){return e.optional?e.repeatable?"*":"?":e.repeatable?"+":""}(e)}`)).join(" "),tooltip:"Param keys",value:e.keys}}}),null!=t.redirect&&r.push({editable:!1,key:"redirect",value:t.redirect}),e.alias.length&&r.push({editable:!1,key:"aliases",value:e.alias.map((e=>e.record.path))}),r.push({key:"score",editable:!1,value:{_custom:{type:null,readOnly:!0,display:e.score.map((e=>e.join(", "))).join(" | "),tooltip:"Score used to sort routes",value:e.score}}}),r}const We=15485081,ze=2450411,je=8702998,Ge=16486972;function Ye(e){const t=[],{record:r}=e;null!=r.name&&t.push({label:String(r.name),textColor:0,backgroundColor:2282478}),r.aliasOf&&t.push({label:"alias",textColor:0,backgroundColor:Ge}),e.__vd_match&&t.push({label:"matches",textColor:0,backgroundColor:We}),e.__vd_exactActive&&t.push({label:"exact",textColor:0,backgroundColor:je}),e.__vd_active&&t.push({label:"active",textColor:0,backgroundColor:ze}),r.redirect&&t.push({label:"redirect: "+("string"==typeof r.redirect?r.redirect:"Object"),textColor:16777215,backgroundColor:6710886});let o=r.__vd_id;return null==o&&(o=String(qe++),r.__vd_id=o),{id:o,label:r.path,tags:t,children:e.children.map(Ye)}}let qe=0;const $e=/^\/(.*)\/([a-z]*)$/;function Xe(e,t){const r=t.matched.length&&T(t.matched[t.matched.length-1],e.record);e.__vd_exactActive=e.__vd_active=r,r||(e.__vd_active=t.matched.some((t=>T(t,e.record)))),e.children.forEach((e=>Xe(e,t)))}function Ke(e){e.__vd_match=!1,e.children.forEach(Ke)}function Ze(e,t){const r=String(e.re).match($e);if(e.__vd_match=!1,!r||r.length<3)return!1;if(new RegExp(r[1].replace(/\$$/,""),r[2]).test(t))return e.children.forEach((e=>Ze(e,t))),("/"!==e.record.path||"/"===t)&&(e.__vd_match=e.re.test(t),!0);const o=e.record.path.toLowerCase(),n=Ie(o);return!(t.startsWith("/")||!n.includes(t)&&!o.includes(t))||(!(!n.startsWith(t)&&!o.startsWith(t))||(!(!e.record.name||!String(e.record.name).includes(t))||e.children.some((e=>Ze(e,t)))))}function Je(e){const t=te(e.routes,e),r=e.parseQuery||xe,i=e.stringifyQuery||Ae,s=e.history,a=De(),c=De(),l=De(),u=n.shallowRef(W);let m=W;h&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const y=g.bind(null,(e=>""+e)),C=g.bind(null,Ce),I=g.bind(null,Ie);function A(e,o){if(o=v({},o||u.value),"string"==typeof e){const n=E(r,e,o.path),i=t.resolve({path:n.path},o),a=s.createHref(n.fullPath);return v(n,i,{params:I(i.params),hash:Ie(n.hash),redirectedFrom:void 0,href:a})}let n;if("path"in e)n=v({},e,{path:E(r,e.path,o.path).path});else{const t=v({},e.params);for(const e in t)null==t[e]&&delete t[e];n=v({},e,{params:C(e.params)}),o.params=C(o.params)}const a=t.resolve(n,o),c=e.hash||"";a.params=y(I(a.params));const l=function(e,t){const r=t.query?e(t.query):"";return t.path+(r&&"?")+r+(t.hash||"")}(i,v({},e,{hash:(d=c,Te(d).replace(_e,"{").replace(Ee,"}").replace(ve,"^")),path:a.path}));var d;const p=s.createHref(l);return v({fullPath:l,hash:c,query:i===Ae?Se(e.query):e.query||{}},a,{redirectedFrom:void 0,href:p})}function S(e){return"string"==typeof e?E(r,e,u.value.path):v({},e)}function D(e,t){if(m!==e)return G(8,{from:t,to:e})}function w(e){return N(e)}function O(e){const t=e.matched[e.matched.length-1];if(t&&t.redirect){const{redirect:r}=t;let o="function"==typeof r?r(e):r;return"string"==typeof o&&(o=o.includes("?")||o.includes("#")?o=S(o):{path:o},o.params={}),v({query:e.query,hash:e.hash,params:e.params},o)}}function N(e,t){const r=m=A(e),o=u.value,n=e.state,s=e.force,a=!0===e.replace,c=O(r);if(c)return N(v(S(c),{state:n,force:s,replace:a}),t||r);const l=r;let d;return l.redirectedFrom=t,!s&&function(e,t,r){const o=t.matched.length-1,n=r.matched.length-1;return o>-1&&o===n&&T(t.matched[o],r.matched[n])&&b(t.params,r.params)&&e(t.query)===e(r.query)&&t.hash===r.hash}(i,o,r)&&(d=G(16,{to:l,from:o}),Z(o,o,!0,!1)),(d?Promise.resolve(d):V(l,o)).catch((e=>Y(e)?Y(e,2)?e:K(e):X(e,l,o))).then((e=>{if(e){if(Y(e,2))return N(v(S(e.to),{state:n,force:s,replace:a}),t||l)}else e=M(l,o,!0,a,n);return k(l,o,e),e}))}function U(e,t){const r=D(e,t);return r?Promise.reject(r):Promise.resolve()}function V(e,t){let r;const[o,n,i]=function(e,t){const r=[],o=[],n=[],i=Math.max(t.matched.length,e.matched.length);for(let s=0;s<i;s++){const i=t.matched[s];i&&(e.matched.find((e=>T(e,i)))?o.push(i):r.push(i));const a=e.matched[s];a&&(t.matched.find((e=>T(e,a)))||n.push(a))}return[r,o,n]}(e,t);r=Oe(o.reverse(),"beforeRouteLeave",e,t);for(const n of o)n.leaveGuards.forEach((o=>{r.push(we(o,e,t))}));const s=U.bind(null,e,t);return r.push(s),Qe(r).then((()=>{r=[];for(const o of a.list())r.push(we(o,e,t));return r.push(s),Qe(r)})).then((()=>{r=Oe(n,"beforeRouteUpdate",e,t);for(const o of n)o.updateGuards.forEach((o=>{r.push(we(o,e,t))}));return r.push(s),Qe(r)})).then((()=>{r=[];for(const o of e.matched)if(o.beforeEnter&&!t.matched.includes(o))if(Array.isArray(o.beforeEnter))for(const n of o.beforeEnter)r.push(we(n,e,t));else r.push(we(o.beforeEnter,e,t));return r.push(s),Qe(r)})).then((()=>(e.matched.forEach((e=>e.enterCallbacks={})),r=Oe(i,"beforeRouteEnter",e,t),r.push(s),Qe(r)))).then((()=>{r=[];for(const o of c.list())r.push(we(o,e,t));return r.push(s),Qe(r)})).catch((e=>Y(e,8)?e:Promise.reject(e)))}function k(e,t,r){for(const o of l.list())o(e,t,r)}function M(e,t,r,o,n){const i=D(e,t);if(i)return i;const a=t===W,c=h?history.state:{};r&&(o||a?s.replace(e.fullPath,v({scroll:a&&c&&c.scroll},n)):s.push(e.fullPath,n)),u.value=e,Z(e,t,r,a),K()}let F;function z(){F=s.listen(((e,t,r)=>{const o=A(e),n=O(o);if(n)return void N(v(n,{replace:!0}),o).catch(_);m=o;const i=u.value;var a,c;h&&(a=P(i.fullPath,r.delta),c=R(),L.set(a,c)),V(o,i).catch((e=>Y(e,12)?e:Y(e,2)?(N(e.to,o).then((e=>{Y(e,20)&&!r.delta&&r.type===x.pop&&s.go(-1,!1)})).catch(_),Promise.reject()):(r.delta&&s.go(-r.delta,!1),X(e,o,i)))).then((e=>{(e=e||M(o,i,!1))&&(r.delta?s.go(-r.delta,!1):r.type===x.pop&&Y(e,20)&&s.go(-1,!1)),k(o,i,e)})).catch(_)}))}let j,q=De(),$=De();function X(e,t,r){K(e);const o=$.list();return o.length?o.forEach((o=>o(e,t,r))):console.error(e),Promise.reject(e)}function K(e){return j||(j=!e,z(),q.list().forEach((([t,r])=>e?r(e):t())),q.reset()),e}function Z(t,r,n,i){const{scrollBehavior:s}=e;if(!h||!s)return Promise.resolve();const a=!n&&function(e){const t=L.get(e);return L.delete(e),t}(P(t.fullPath,0))||(i||!n)&&history.state&&history.state.scroll||null;return o.nextTick().then((()=>s(t,r,a))).then((e=>e&&B(e))).catch((e=>X(e,t,r)))}const J=e=>s.go(e);let Q;const ee=new Set;return{currentRoute:u,addRoute:function(e,r){let o,n;return H(e)?(o=t.getRecordMatcher(e),n=r):n=e,t.addRoute(n,o)},removeRoute:function(e){const r=t.getRecordMatcher(e);r&&t.removeRoute(r)},hasRoute:function(e){return!!t.getRecordMatcher(e)},getRoutes:function(){return t.getRoutes().map((e=>e.record))},resolve:A,options:e,push:w,replace:function(e){return w(v(S(e),{replace:!0}))},go:J,back:()=>J(-1),forward:()=>J(1),beforeEach:a.add,beforeResolve:c.add,afterEach:l.add,onError:$.add,isReady:function(){return j&&u.value!==W?Promise.resolve():new Promise(((e,t)=>{q.add([e,t])}))},install(e){const r=this;e.component("RouterLink",Re),e.component("RouterView",Ue),e.config.globalProperties.$router=r,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:()=>n.unref(u)}),h&&!Q&&u.value===W&&(Q=!0,w(s.location).catch((e=>{})));const i={};for(const e in W)i[e]=o.computed((()=>u.value[e]));e.provide(d,r),e.provide(p,n.reactive(i)),e.provide(f,u);const a=e.unmount;ee.add(e),e.unmount=function(){ee.delete(e),ee.size<1&&(m=W,F&&F(),u.value=W,Q=!1,j=!1),a()},__VUE_PROD_DEVTOOLS__&&h&&Fe(e,r,t)}}}function Qe(e){return e.reduce(((e,t)=>e.then((()=>t()))),Promise.resolve())}function et(){return o.inject(d)}})),s.register("9cwbn",(function(e,r){t(e.exports,"setupDevtoolsPlugin",(()=>a));var o=s("lCgUZ"),n=s("lfREf"),i=s("hCZlO");function a(e,t){const r=e,s=o.getTarget(),a=o.getDevtoolsGlobalHook(),c=o.isProxyAvailable&&r.enableEarlyProxy;if(!a||!s.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&c){const e=c?new i.ApiProxy(r,a):null;(s.__VUE_DEVTOOLS_PLUGINS__=s.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:r,setupFn:t,proxy:e}),e&&t(e.proxiedTarget)}else a.emit(n.HOOK_SETUP,e,t)}})),s.register("lCgUZ",(function(e,o){function n(){return i().__VUE_DEVTOOLS_GLOBAL_HOOK__}function i(){return"undefined"!=typeof navigator&&"undefined"!=typeof window?window:void 0!==r?r:{}}t(e.exports,"getDevtoolsGlobalHook",(()=>n)),t(e.exports,"getTarget",(()=>i)),t(e.exports,"isProxyAvailable",(()=>s));const s="function"==typeof Proxy})),s.register("lfREf",(function(e,r){t(e.exports,"HOOK_SETUP",(()=>o)),t(e.exports,"HOOK_PLUGIN_SETTINGS_SET",(()=>n));const o="devtools-plugin:setup",n="plugin:settings:set"})),s.register("hCZlO",(function(e,r){t(e.exports,"ApiProxy",(()=>i));var o=s("lfREf"),n=s("fYCRC");class i{constructor(e,t){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=t;const r={};if(e.settings)for(const t in e.settings){const o=e.settings[t];r[t]=o.defaultValue}const i=`__vue-devtools-plugin-settings__${e.id}`;let s=Object.assign({},r);try{const e=localStorage.getItem(i),t=JSON.parse(e);Object.assign(s,t)}catch(e){}this.fallbacks={getSettings:()=>s,setSettings(e){try{localStorage.setItem(i,JSON.stringify(e))}catch(e){}s=e},now:()=>n.now()},t&&t.on(o.HOOK_PLUGIN_SETTINGS_SET,((e,t)=>{e===this.plugin.id&&this.fallbacks.setSettings(t)})),this.proxiedOn=new Proxy({},{get:(e,t)=>this.target?this.target.on[t]:(...e)=>{this.onQueue.push({method:t,args:e})}}),this.proxiedTarget=new Proxy({},{get:(e,t)=>this.target?this.target[t]:"on"===t?this.proxiedOn:Object.keys(this.fallbacks).includes(t)?(...e)=>(this.targetQueue.push({method:t,args:e,resolve:()=>{}}),this.fallbacks[t](...e)):(...e)=>new Promise((r=>{this.targetQueue.push({method:t,args:e,resolve:r})}))})}async setRealTarget(e){this.target=e;for(const e of this.onQueue)this.target.on[e.method](...e.args);for(const e of this.targetQueue)e.resolve(await this.target[e.method](...e.args))}}})),s.register("fYCRC",(function(e,o){let n,i;function s(){return void 0!==n||("undefined"!=typeof window&&window.performance?(n=!0,i=window.performance):void 0!==r&&(null===(e=r.perf_hooks)||void 0===e?void 0:e.performance)?(n=!0,i=r.perf_hooks.performance):n=!1),n?i.now():Date.now();var e}t(e.exports,"now",(()=>s))})),s.register("1Wdp3",(function(e,r){t(e.exports,"render",(()=>i)),s("bgCzB");var o=s("d4ofg");const n={class:"layout"};function i(e,t){const r=o.resolveComponent("router-view");return o.openBlock(),o.createElementBlock("div",n,[o.createElementVNode("button",{onClick:t[0]||(t[0]=(...t)=>e.handleToHome&&e.handleToHome(...t))},"to home"),o.createElementVNode("button",{onClick:t[1]||(t[1]=(...t)=>e.handleToScenes&&e.handleToScenes(...t))},"to scenes"),o.createVNode(r)])}})),s.register("jVGbF",(function(e,r){t(e.exports,"default",(()=>o));var o=e=>{}})),s.register("7wwKG",(function(e,r){t(e.exports,"render",(()=>n)),s("bgCzB");var o=s("d4ofg");function n(e,t){const r=o.resolveComponent("Layout");return o.openBlock(),o.createBlock(r)}})),s.register("ilrXW",(function(e,r){t(e.exports,"default",(()=>o));var o=e=>{}})),s.register("6arPh",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0});var r=s("983NH");r.__exportStar(s("dyQul"),e.exports),r.__exportStar(s("7BXp7"),e.exports)})),s.register("983NH",(function(e,r){t(e.exports,"__extends",(()=>n)),t(e.exports,"__assign",(()=>i)),t(e.exports,"__rest",(()=>s)),t(e.exports,"__awaiter",(()=>a)),t(e.exports,"__generator",(()=>c)),t(e.exports,"__exportStar",(()=>u)),t(e.exports,"__values",(()=>d)),t(e.exports,"__read",(()=>p)),t(e.exports,"__spread",(()=>f)),t(e.exports,"__importStar",(()=>v)),t(e.exports,"__importDefault",(()=>g));var o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var i=function(){return i=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},i.apply(this,arguments)};function s(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(r[o[n]]=e[o[n]])}return r}function a(e,t,r,o){return new(r||(r=Promise))((function(n,i){function s(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((o=o.apply(e,t||[])).next())}))}function c(e,t){var r,o,n,i,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,o&&(n=2&i[0]?o.return:i[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,i[1])).done)return n;switch(o=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(n=s.trys,(n=n.length>0&&n[n.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){s.label=i[1];break}if(6===i[0]&&s.label<n[1]){s.label=n[1],n=i;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(i);break}n[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],o=0}finally{r=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var l=Object.create?function(e,t,r,o){void 0===o&&(o=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,o,n)}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]};function u(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||l(t,e,r)}function d(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],o=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,n,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return s}function f(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e}var h=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&l(t,e,r);return h(t,e),t}function g(e){return e&&e.__esModule?e:{default:e}}})),s.register("dyQul",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),s("983NH").__exportStar(s("79s7j"),e.exports)})),s.register("79s7j",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.StandardDeviceAdapter=e.exports.LLSyncDeviceAdapter=void 0;var r=s("983NH"),o=r.__importStar(s("jc4SE")),n=s("fOlEO"),i=r.__importStar(s("6TYuz")),a=s("9ZDLh"),c=s("7BXp7"),l=s("97ZCr"),u=s("8IFDn"),d=n.AppDevSdk.utils.arrayBufferToHexStringArray,p=function(e){if("number"!=typeof e)throw new Error("timestamp should be a number");return e.toString().length>=13?e:1e3*e},f=function(e){function t(i){var c=e.call(this,i)||this;c._enableWsEventHandle=!0,c._enableLLEventHandle=!0;var d=function(e){return function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];return r.__awaiter(c,void 0,void 0,(function(){return r.__generator(this,(function(o){switch(o.label){case 0:return[4,this.init()];case 1:return o.sent(),[2,e.apply(void 0,r.__spread(t))]}}))}))}};c.models=new a.Models(t.options.appDevSdk),c.userIdentify=t.getUserIdentify(),c.on("disconnect",(function(){c.authorized=!1})),c.appDevSdk=t.options.appDevSdk,c.protocol=new u.LLSyncProtocol(c),c.otaProcessor=new l.LLSyncOtaProcessor(c),Object.assign(c,{bindDevice:d(c.bindDevice.bind(c)),unbindDevice:d(c.unbindDevice.bind(c)),controlDevice:d(c.controlDevice.bind(c)),controlAction:d(c.controlAction.bind(c)),authenticateConnection:d(c.authenticateConnection.bind(c)),reconnectDevice:d(c.authenticateConnection.bind(c)),startOta:d(c.startOta.bind(c)),cancelOta:d(c.cancelOta.bind(c)),userCancelBindDevice:d(c.protocol.cancelUserCheck.bind(c.protocol,"cancel"))}),c.init(),c.reporter={info:function(e,n){void 0===e&&(e=""),void 0===n&&(n={});var i=n.message,a=void 0===i?"":i,l=n.serviceId,u=r.__rest(n,["message","serviceId"]),d=c,p=d.explorerDeviceId,f=d.deviceId,h=d.isConnected;t.options.appDevSdk.reporter.info(s("jc4SE").REPORT_EVENT_TYPE,{serviceId:l||t.serviceId,message:a||(e&&o.ACTION_DESC[e]?e+"("+o.ACTION_DESC[e]+")":e),timeCost:u.timeCost||0,action:e,data:r.__assign({deviceId:p,bleDeviceId:f,isConnected:h},u)})},error:function(e,n){void 0===e&&(e=""),void 0===n&&(n={});var i=n.error,a=r.__rest(n,["error"]),l=c,u=l.explorerDeviceId,d=l.deviceId,p=l.isConnected;i.code&&o.ERROR_MESSAGES[i.code]&&(i.msg=o.ERROR_MESSAGES[i.code]),t.options.appDevSdk.reporter.error(s("jc4SE").REPORT_EVENT_TYPE,{message:o.ERROR_MESSAGES[e]?e+"("+o.ERROR_MESSAGES[e]+""+(i&&(i.message||i.errMsg||i.msg||i.code))+")":"",timeCost:a.timeCost||0,action:e,error:i,data:r.__assign(r.__assign({deviceId:u,bleDeviceId:d,isConnected:p},a),i)})}};var p=function(e){var t=e.deviceId,r=e.deviceData;if(c._enableWsEventHandle&&(console.log("llsync receive onControl",t,r,c.ready,c.explorerDeviceId),c.ready&&t===c.explorerDeviceId)){var o={};Object.keys(r).forEach((function(e){o[e]=r[e].Value})),c.controlDevice({deviceData:o})}},f=function(e){var t=e.deviceId,r=e.Payload;c._enableWsEventHandle&&c.ready&&t===c.explorerDeviceId&&c.controlAction({actionData:r})};return c.on("authorized",(function(){c.init(!0),c.appDevSdk.on(n.AppDevSdk.constants.EventTypes.WsControl,p),c.appDevSdk.on(n.AppDevSdk.constants.EventTypes.WsActionPush,f)})).on("disconnect",(function(){c.appDevSdk.off(n.AppDevSdk.constants.EventTypes.WsControl,p),c.appDevSdk.off(n.AppDevSdk.constants.EventTypes.WsActionPush,f)})),c}return r.__extends(t,e),t.getUserIdentify=function(){var e,r,o,n;return s("6TYuz").getUserIdentify(null===(n=null===(o=null===(r=null===(e=t.options)||void 0===e?void 0:e.appDevSdk)||void 0===r?void 0:r.loginManager)||void 0===o?void 0:o.userInfo)||void 0===n?void 0:n.UserID)},t.injectOptions=function(e){t.options=e},Object.defineProperty(t.prototype,"ready",{get:function(){return console.log("isConnected",this.isConnected,"isAuthorized",this.authorized),this.isConnected&&this.authorized},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"needUserCheck",{get:function(){var e,t,r;try{return!!parseInt((null===(r=null===(t=null===(e=null==this?void 0:this.productConfig)||void 0===e?void 0:e.BleConfig)||void 0===t?void 0:t.bindingBootConfig)||void 0===r?void 0:r.confirmRequired)||"0")}catch(e){return console.warn("LLSync check confirmRequired fail",e),!1}},enumerable:!1,configurable:!0}),t.prototype.normalizeError=function(t){return!(t=e.prototype._normalizeError.call(this,t)).msg&&t.code&&o.ERROR_MESSAGES[t.code]&&(t.msg=o.ERROR_MESSAGES[t.code]),t},t.prototype.init=function(o){return r.__awaiter(this,void 0,void 0,(function(){var n=this;return r.__generator(this,(function(i){switch(i.label){case 0:if(!t.options)throw"Options";return[4,e.prototype.init.call(this)];case 1:return i.sent(),o&&(this.productInfo=this.productConfig=this._initPromise=null),[2,this._initPromise||(this._initPromise=new Promise((function(e,t){return r.__awaiter(n,void 0,void 0,(function(){var o,n,i,a,c,l,u;return r.__generator(this,(function(d){switch(d.label){case 0:return d.trys.push([0,2,,3]),n=(o=this).productConfig,i=o.productInfo,[4,Promise.all([n?Promise.resolve(n):this.models.getProduct({ProductId:this.productId}),i?Promise.resolve(i):this.models.getProductConfig({ProductId:this.productId})])];case 1:return a=r.__read.apply(void 0,[d.sent(),2]),c=a[0],l=a[1],this.dataTemplate=s("6TYuz").getProductDateTemplate(c),this.productInfo=c,this.productConfig=l,console.log("init llsync done",{productInfo:this.productInfo,productConfig:this.productConfig,dataTemplate:this.dataTemplate}),e(),[3,3];case 2:return u=d.sent(),console.error("init standard device adapter fail",u),t(u),this._initPromise=null,[3,3];case 3:return[2]}}))}))})))]}}))}))},t.prototype.getDevicePsk=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t,n,i,s,a,c;return r.__generator(this,(function(l){switch(l.label){case 0:return t={DeviceId:this.productId+"/"+(e||this.deviceName),DeviceKey:u.LLSyncConfig.BLE_PSK_DEVICE_KEY},[4,Promise.all([this.models.getDeviceConfig(r.__assign(r.__assign({},t),{isUserConfig:!0})),this.models.getDeviceConfig(t)])];case 1:if(n=r.__read.apply(void 0,[l.sent(),2]),i=n[0],s=n[1],!i||s)return[3,5];l.label=2;case 2:return l.trys.push([2,4,,5]),[4,this.models.setDeviceConfig({DeviceId:t.DeviceId,DeviceKey:t.DeviceKey,DeviceValue:i})];case 3:return l.sent(),[3,5];case 4:return a=l.sent(),console.error("update psk to DeviceConfig fail",a),[3,5];case 5:if(!(c=s||i))throw{code:o.PSK_GET_ERROR};return[2,c]}}))}))},t.prototype.startOta=function(e){var t=e.onProgress;return this.otaProcessor.startOta({onProgress:t})},t.prototype.cancelOta=function(){return this.otaProcessor.cancelOta()},t.prototype.startListenLLEvents=function(){this.on(o.PROPERTY_REPORT,i.wrapEventHandler(this.onPropertyReport.bind(this),o.PROPERTY_REPORT)),this.on(o.GET_STATUS,this.onGetStatus.bind(this)),this.on(o.EVENT_REPORT,i.wrapEventHandler(this.onEventReport.bind(this),o.EVENT_REPORT))},t.prototype.stopListenLLEvents=function(){this.off(o.PROPERTY_REPORT),this.off(o.GET_STATUS),this.off(o.EVENT_REPORT)},t.prototype.setWsEventHandleEnabled=function(e){this._enableWsEventHandle=e},t.prototype.setLLEventHandleEnabled=function(e){this._enableLLEventHandle=e},t.prototype.onPropertyReport=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t,n,s,a,c;return r.__generator(this,(function(r){switch(r.label){case 0:if(!this._enableLLEventHandle)return[2];r.label=1;case 1:return r.trys.push([1,3,,4]),console.log("onPropertyReport check this",this),t=i.convertPropertiesTlvToJsObject(e.slice(2),this.dataTemplate),this.reporter.info(o.REPORT_RESULT,{data:i.formatArrayToReportString(e),jsObj:t}),n=t["_sys _timestamp"],[4,this.models.reportBlueToothDeviceData({ProductId:this.productId,DeviceName:this.deviceName,Data:t,DataTimeStamp:n?p(n):Date.now()})];case 2:return(s=r.sent().Data)&&(a=JSON.parse(s),this.protocol.reportPropertyReportResult(a.code)),[3,4];case 3:return c=r.sent(),this.reporter.error(o.REPORT_RESULT_ERROR,{error:c}),this.protocol.reportPropertyReportResult(-1),[3,4];case 4:return[2]}}))}))},t.prototype.onGetStatus=function(){return r.__awaiter(this,void 0,void 0,(function(){var e,t,n,s,a,c;return r.__generator(this,(function(r){switch(r.label){case 0:if(!this._enableLLEventHandle)return[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.models.getDeviceData({ProductId:this.productId,DeviceName:this.deviceName})];case 2:return e=r.sent(),t={},Object.keys(e).forEach((function(r){t[r]=e[r].Value})),n=i.convertPropertiesChangeToTlv(t,this.dataTemplate),s=n.tlvData,a=n.tmpData,this.reporter.info(o.GET_STATUS,{properties:t,tlvData:i.formatArrayToReportString(s),tmpData:a}),this.protocol.reportGetStatusResult(0,s,a),[3,4];case 3:return c=r.sent(),this.reporter.error(o.GET_STATUS_ERROR,{error:c}),this.protocol.reportGetStatusResult(-1),[2,Promise.reject(this.normalizeError(c))];case 4:return[2]}}))}))},t.prototype.onEventReport=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t,n,s,a,c,l,u,d;return r.__generator(this,(function(p){switch(p.label){case 0:if(!this._enableLLEventHandle)return[2];p.label=1;case 1:p.trys.push([1,9,,10]),console.log("onEventReport check this",this),t=i.getStrLength(e),n=i.convertEventTlvToJsObject(e.slice(2,2+t),this.dataTemplate),s=n.eventId,a=n.params,c=n.eventIndex,l={DeviceId:this.explorerDeviceId,EventId:s,Params:JSON.stringify(a)},this.reporter.info(o.EVENT_REPLY,r.__assign(r.__assign({},l),{eventIndex:c})),p.label=2;case 2:return p.trys.push([2,7,,8]),[4,this.models.reportDeviceEvent(l)];case 3:return p.sent(),console.log("reportDeviceEvent success"),e.length-2>t?(console.log("have more event data to report",e.length,t),[4,this.onEventReport({data:e.slice(t+2+1)})]):[3,5];case 4:return p.sent(),[3,6];case 5:this.protocol.reportEventReportResult(0,c),p.label=6;case 6:return[3,8];case 7:throw u=p.sent(),console.error({error:u,eventIndex:c}),this.protocol.reportEventReportResult(-1,c),u;case 8:return[3,10];case 9:return d=p.sent(),this.reporter.error(o.EVENT_REPLY_ERROR,{error:d}),[2,Promise.reject(this.normalizeError(d))];case 10:return[2]}}))}))},t.prototype.bindDevice=function(e){var t=e.familyId,n=e.roomId;return r.__awaiter(this,void 0,void 0,(function(){var e,i,s,a,c,l,u,d,p,f,h;return r.__generator(this,(function(v){switch(v.label){case 0:return v.trys.push([0,7,,8]),this.reporter.info(o.BIND_AUTH),e=Date.now(),[4,this.protocol.requestBindDevice({needUserCheck:this.needUserCheck,isDynamicRegister:this.extendInfo.isDynamicRegister})];case 1:i=v.sent(),s=i.sign,a=i.timestamp,c=i.nonce,l=i.deviceName,this.deviceName=l,v.label=2;case 2:return v.trys.push([2,4,,5]),u={Signature:s,DeviceTimestamp:a,DeviceId:this.explorerDeviceId,ConnId:""+c,FamilyId:t,RoomId:n,BindType:"bluetooth_sign"},this.reporter.info(o.BIND_AUTH_DETAIL,u),[4,this.models.addDeviceBySigInFamily(u)];case 3:return v.sent(),[3,5];case 4:return d=v.sent(),this.protocol.reportBindError(d.code),[2,Promise.reject(this.normalizeError(d))];case 5:return p=this,[4,this.protocol.reportBindSuccess(e)];case 6:p.localPsk=v.sent();try{if(this.reporter.info(o.BIND_AUTH_DETAIL,r.__assign({},this.extendInfo)),!this.extendInfo.macStr)return[2];f={productId:this.productId,deviceName:l,deviceInfo:{mac:this.extendInfo.macStr}},this.reporter.info(o.BIND_AUTH_DETAIL,r.__assign({msg:"START_REPORT_DEVICE_INFO"},f)),this.models.reportDeviceInfo(f)}catch(e){}return[2,this.explorerDeviceId];case 7:return h=v.sent(),console.log(h),console.log("error in bindDevice",h),this.reporter.error(o.BIND_AUTH_FAIL,{error:h}),[2,Promise.reject(this.normalizeError(h))];case 8:return[2]}}))}))},t.prototype.unbindDevice=function(e){var t=e.familyId,n=e.deviceName;return r.__awaiter(this,void 0,void 0,(function(){var e,s,a,c,l;return r.__generator(this,(function(r){switch(r.label){case 0:if(r.trys.push([0,5,,6]),!n)throw{code:o.DEVICE_NAME_IS_EMPTY};return e=Date.now(),[4,this.getDevicePsk(n)];case 1:return s=r.sent(),this.reporter.info(o.UNBIND_AUTH,{localPsk:s}),[4,this.protocol.getUnbindAuthSign()];case 2:if(a=r.sent().sign,c=i.encrypt(o.UNBIND_RESPONSE,s),a!==c)throw{code:o.UNBIND_REPLY_ERROR};return this.localPsk=s,this.deviceName=n,[4,this.models.deleteDeviceFromFamily({FamilyId:t,DeviceId:this.explorerDeviceId})];case 3:return r.sent(),this.reporter.info(o.UNBIND_RESULT_AUTH_SUCCESS,{timeCost:Date.now()-e}),[4,this.protocol.reportUnbindResult("success")];case 4:return r.sent(),this.stopListenLLEvents(),this.authorized=!1,this.disconnectDevice(),[3,6];case 5:return l=r.sent(),this.protocol.reportUnbindResult("fail"),this.reporter.error(o.UNBIND_RESULT_AUTH_FAIL,{error:l}),[2,Promise.reject(this.normalizeError(l))];case 6:return[2]}}))}))},t.prototype.controlDevice=function(e){var t=e.deviceData;return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),console.log("controlDevice check this",this),this.reporter.info(o.CONTROL_DEVICE,{deviceData:t}),[4,this.protocol.controlDeviceProperty(t)];case 1:return r.sent(),[4,this.models.reportBlueToothDeviceData({ProductId:this.productId,DeviceName:this.deviceName,Data:t,DataTimeStamp:Date.now()})];case 2:return r.sent(),[3,4];case 3:return e=r.sent(),this.reporter.error(o.CONTROL_DEVICE_REPLY_ERROR,{error:e}),[2,Promise.reject(this.normalizeError(e))];case 4:return[2]}}))}))},t.prototype.controlAction=function(e){var t=e.actionData;return r.__awaiter(this,void 0,void 0,(function(){var e,n,s,a,c,l;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),console.log("controlAction check this",this),[4,this.protocol.controlDeviceAction(t)];case 1:return e=r.sent().output,[4,i.convertActionOutputTlvToJsObject(e,this.dataTemplate)];case 2:return n=r.sent(),s=n.outputParams,a=n.actionIndex,c=n.actionId,[4,this.models.publishDeviceActionMessage({deviceName:this.deviceName,productId:this.productId,actionId:c,clientToken:t.clientToken,output:s})];case 3:return r.sent(),this.reporter.info(o.CONTROL_ACTION_SUCCESS,{outputParams:s,actionIndex:a,actionId:c}),[3,5];case 4:return l=r.sent(),this.reporter.error(o.CONTROL_ACTION_ERROR,{error:l}),[2,Promise.reject(this.normalizeError(l))];case 5:return[2]}}))}))},t.prototype.authenticateConnection=function(e){var t=(void 0===e?{}:e).deviceName;return r.__awaiter(this,void 0,void 0,(function(){var e,n,s,a,c,l,u,d,p,f,h,v;return r.__generator(this,(function(r){switch(r.label){case 0:if(r.trys.push([0,8,,9]),console.log("start authenticate connection",t),!t)throw{code:o.DEVICE_NAME_IS_EMPTY};return e=Date.now(),[4,this.getDevicePsk(t)];case 1:return n=r.sent(),this.localPsk=n,this.reporter.info(o.CONNECT_AUTH,{localPsk:n}),[4,this.protocol.getDeviceAuthInfo()];case 2:if(s=r.sent(),a=s.sign,c=s.timestamp,l=i.encrypt(""+(c+60)+this.productId+t,n),a!==l)throw{code:o.CONNECT_SIGN_AUTH_ERROR};return[4,this.protocol.getDeviceInfo()];case 3:if(u=r.sent(),d=u.version,p=u.mtu,f=u.needSetMtu,h=u.otaVersion,this.deviceName=t,this.bleVersion=d,this.mtu=p,!f)return[3,7];r.label=4;case 4:return r.trys.push([4,6,,7]),[4,this.setMtu(this.mtu)];case 5:return r.sent(),this.writeMtuResult("success"),[3,7];case 6:return r.sent(),this.writeMtuResult("fail"),[3,7];case 7:return this.otaVersion=h,h&&this.models.reportOTAVersion({Version:h,DeviceId:this.explorerDeviceId}),this.reporter.info(o.CONNECT_RESULT_WRITE_SUCCESS,{timeCost:Date.now()-e,version:d,mtu:p,otaVersion:h}),this.authorized=!0,this.emit("authorized",{version:d,mtu:p,otaVersion:h}),this.stopListenLLEvents(),this.startListenLLEvents(),[3,9];case 8:return v=r.sent(),this.protocol.reportConnectError(),this.reporter.error(o.CONNECT_RESULT_WRITE_FAIL,{error:v}),[2,Promise.reject(this.normalizeError(v))];case 9:return[2]}}))}))},t.prototype.toString=function(){return"[LLSyncDeviceAdapter]"},t.serviceId16="0000FFE0-0000-1000-8000-00805F9B34FB",t.serviceId="0000FFE0-65D0-4E20-B56A-E493541BA4E2",t.deviceFilter=function(e,n){if(!e.advertisServiceUUIDs||!e.advertisServiceUUIDs.find((function(e){return e===t.serviceId16}))||!e.advertisData)return null;var a=t.options.appDevSdk.reporter;try{var c=Math.floor(10*Math.random())%10==1||!0,l=d(e.advertisData);c&&a.info(s("jc4SE").REPORT_EVENT_TYPE,{message:"",serviceId:t.serviceId,hexArr:l.join(",")});var u=parseInt(l[2],16)-(parseInt(l[2],16)>>2<<2),p=parseInt(l[2],16)>>4,f=parseInt(l[2],16)>>2&1,h=n.productId&&n.deviceName?n.productId+"/"+n.deviceName:"",v=h?i.get8ByteFromStr(""+h.replace("/","")):"",g=!!h,_="",m="",E="",y=o.DEVICE_STATE_MAP[u],T=[o.DEVICE_HAS_BINDED,o.DEVICE_HAS_CONNECTED].indexOf(y)>-1;if(T)E=l.slice(3,11).join("").toLocaleLowerCase(),m=l.slice(11).join("").toLocaleLowerCase(),_=n.productId;else{var b=l.slice(3,9);e.name&&-1===e.name.indexOf("_")&&(e.name=e.name+"_"+b.slice(0,2).join("")),_=s("6TYuz").hex2str(l.slice(9))}c&&a.info(s("jc4SE").REPORT_EVENT_TYPE,{message:"",serviceId:t.serviceId,data:{bindState:y||"x",targetDeviceId:h,targetDeviceIdentify:v,deviceUserIdentify:m||"x",deviceProductId:_||"x",deviceIdentify:E||"x",isDynamicRegister:!!f,macStr:T?"":l.slice(3,9).join(":")}});var C=function(){var i=r.__assign(r.__assign({},e),{serviceId:t.serviceId,deviceName:n.deviceName||"",productId:_,extendInfo:{bindState:o.DEVICE_STATE_MAP[y],moduleVersion:p,isDynamicRegister:!!f,standard:!0,macStr:T?"":l.slice(3,9).join(":")}});return console.log("------",i),i};return g&&T&&E===v?C():g||T?null:C()}catch(e){console.error("llsync device filter error",e),a.error(s("jc4SE").REPORT_EVENT_TYPE,{message:"",error:e})}},t}(c.LLSyncDeviceAdapterBase);e.exports.LLSyncDeviceAdapter=f,e.exports.StandardDeviceAdapter=f})),s.register("jc4SE",(function(e,t){"use strict";var r,o,n,i,a,c,l,u,d,p,f;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.ERROR_MESSAGES=e.exports.MAX_WRITE_DATA_WAIT_GAP=e.exports.UPDATE_WRITE_ERROR_TIMES_PER_CIRCLE=e.exports.WAIT_MODULE_UPDATE_CONNECT_TIME_GAP=e.exports.WAIT_MODULE_UPDATE_CONNECT_TIMES=e.exports.MODULE_UPDATE_REPLAY_DATA_CODE_MAP=e.exports.MODULE_UPDATE_DATA_REPLAY_CODE_MAP=e.exports.MODULE_UPDATE_REPLAY_CODE_MAP=e.exports.BLE_COMBO_ERRORS=e.exports.OTA_UPDATE_ERRORS=e.exports.OTA_UPDATE_STEPS_MESSAGE=e.exports.OTA_UPDATE_STEPS=e.exports.GET_DEV_LOG_INFO_TIMEOUT=e.exports.GET_DEV_LOG_INFO_INVALID=e.exports.SET_WIFI_TOKEN_RESULT_TIMEOUT=e.exports.SET_WIFI_TOKEN_RESULT_INVALID=e.exports.SET_WIFI_CONNECT_RESULT_TIMEOUT=e.exports.SET_WIFI_CONNECT_RESULT_INVALID=e.exports.SET_WIFI_INFO_RESULT_TIMEOUT=e.exports.SET_WIFI_INFO_RESULT_INVALID=e.exports.SET_WIFI_MODE_RESULT_TIMEOUT=e.exports.SET_WIFI_MODE_RESULT_INVALID=e.exports.WAIT_MODULE_UPDATE_TIMEOUT=e.exports.WAIT_GET_UPDATE_INFO_TIMEOUT=e.exports.DEVICE_INFO_INVALID=e.exports.WAIT_GET_DEVICE_INFO_TIMEOUT=e.exports.BLE_WRITE_ERROR=e.exports.EVENT_REPLY_ERROR=e.exports.GET_STATUS_ERROR=e.exports.REPORT_RESULT_ERROR=e.exports.CONTROL_DEVICE_REPLY_ERROR=e.exports.CONTROL_REPLY_CODE_INVALID=e.exports.UNBIND_REPLY_ERROR=e.exports.CONNECT_SIGN_AUTH_ERROR=e.exports.PSK_GET_ERROR=e.exports.DEVICE_NAME_IS_EMPTY=e.exports.CANNOT_FIND_DEVICE=e.exports.CONNECT_DEVICE_ERROR=e.exports.CONTROL_ACTION_ERROR=e.exports.CONTROL_REPLY_INVALID=e.exports.UNBIND_REPLY_INVALID=e.exports.WAIT_CONTROL_ACTION_REPLY_TIMEOUT=e.exports.WAIT_CONTROL_DEVICE_REPLY_TIMEOUT=e.exports.WAIT_UNBIND_REPLY_TIMEOUT=e.exports.CONNECT_REPLY_INVALID=e.exports.WAIT_CONNECT_REPLY_TIMEOUT=e.exports.USER_NEED_LOGIN=e.exports.LL_OTA_WRITE_PREFIX=e.exports.OTA_UPDATE_DATA_END=e.exports.OTA_UPDATE_DATA=e.exports.OTA_UPDATE_REQUEST=e.exports.BLE_IOT_DATA_TYPE_ARRAY=e.exports.BLE_IOT_DATA_TYPE_STRUCT=e.exports.BLE_IOT_DATA_TYPE_TIME=e.exports.BLE_IOT_DATA_TYPE_ENUM=e.exports.BLE_IOT_DATA_TYPE_FLOAT=e.exports.BLE_IOT_DATA_TYPE_STRING=e.exports.BLE_IOT_DATA_TYPE_INT=e.exports.BLE_IOT_DATA_TYPE_BOOL=e.exports.ACTION_DESC=e.exports.WIFI_LOG_TYPE_MAP=e.exports.WIFI_MODE_MAP=e.exports.DEVICE_DATA_WRITE_SUFFIX=e.exports.DEVICE_DATA_WRITE_HEAD=e.exports.DEVICE_INFO_WRITE_PREFIX=e.exports.INDICATE_TYPE_MAP=e.exports.UNBIND_RESPONSE=e.exports.UNBIND_REQUEST=e.exports.REGISTER_DEVICE_SUCCESS=e.exports.REGISTER_DEVICE_ERROR=e.exports.REGISTER_DEVICE_INFO_REPLY_INVALID=e.exports.WAIT_REGISTER_DEVICE_INFO_REPLY_TIMEOUT=e.exports.SEND_REGISTER_DEVICE_PAYLOAD=e.exports.REGISTER_DEVICE_INFO_REPLY=e.exports.WRITE_USER_CHECK_CANCEL=e.exports.WRITE_USER_CHECK_TIMEOUT=e.exports.GET_USER_CHECK_TIMEOUT_SUCCESS=e.exports.GET_USER_CHECK_TIMEOUT_ERROR=e.exports.GET_USER_CHECK_TIMEOUT_TIMEOUT=e.exports.USER_CHECK_TIMEOUT_CALLBACK=e.exports.USER_CHECK_TIMEOUT=e.exports.GET_USER_CHECK_REJECT=e.exports.GET_USER_CHECK_APPROVE=e.exports.WAIT_USER_CHECK_TIMEOUT=e.exports.NULL_WIFI_MODE=e.exports.STA_WIFI_MODE=e.exports.GET_DEV_LOG_INFO=e.exports.SET_WIFI_TOKEN_RESULT=e.exports.SET_WIFI_CONNECT_RESULT=e.exports.SET_WIFI_INFO_RESULT=e.exports.SET_WIFI_MODE_RESULT=e.exports.GET_DEV_LOG=e.exports.SET_WIFI_TOKEN=e.exports.SET_WIFI_CONNECT=e.exports.SET_WIFI_INFO=e.exports.SET_WIFI_MODE=e.exports.GET_DEVICE_INFO=e.exports.MTU_MODULE_CALLBACK=e.exports.WRITE_MTU_RESULT=e.exports.CONTROL_ACTION_SUCCESS=e.exports.TIME_SYNC=e.exports.UNBIND_AUTH=e.exports.UNBIND_RESULT_AUTH_FAIL=e.exports.UNBIND_RESULT_AUTH_SUCCESS=e.exports.CONNECT_RESULT_WRITE_FAIL=e.exports.CONNECT_RESULT_WRITE_SUCCESS=e.exports.ANDROID_SET_MTU=e.exports.DEVICE_INFO=e.exports.CONNECT_AUTH=e.exports.BIND_AUTH_FAIL=e.exports.BIND_AUTH_SUCCESS=e.exports.BIND_AUTH_DETAIL=e.exports.SET_MTU_BEFORE_CONNECT=e.exports.BIND_AUTH=e.exports.UPDATE_REPLY_INVALID=e.exports.UPDATE_DATA_CHECK_REPLY=e.exports.UPDATE_DATA_REPLY=e.exports.UPDATE_REPLY=e.exports.ACTION_REPLY=e.exports.EVENT_REPLY=e.exports.EVENT_REPORT=e.exports.GET_STATUS=e.exports.CONTROL_REPLY=e.exports.REPORT_RESULT=e.exports.CONTROL_ACTION=e.exports.CONTROL_DEVICE=e.exports.PROPERTY_REPORT=e.exports.LL_OTA_WRITE_ID=e.exports.DEVICE_EVENT_WRITE_ID=e.exports.DEVICE_DATA_WRITE_ID=e.exports.DEVICE_INFO_WRITE_ID=e.exports.DEVICE_STATE_MAP=e.exports.DEVICE_HAS_CONNECTED=e.exports.DEVICE_WAITING_BIND=e.exports.DEVICE_NOT_BIND=e.exports.DEVICE_HAS_BINDED=e.exports.REPORT_EVENT_TYPE=void 0;var h=s("983NH");e.exports.REPORT_EVENT_TYPE="standard-ble",e.exports.DEVICE_HAS_BINDED="DEVICE_HAS_BINDED",e.exports.DEVICE_NOT_BIND="DEVICE_NOT_BIND",e.exports.DEVICE_WAITING_BIND="DEVICE_WAITING_BIND",e.exports.DEVICE_HAS_CONNECTED="DEVICE_HAS_CONNECTED",e.exports.DEVICE_STATE_MAP={0:e.exports.DEVICE_NOT_BIND,1:e.exports.DEVICE_WAITING_BIND,2:e.exports.DEVICE_HAS_BINDED,3:e.exports.DEVICE_HAS_CONNECTED},e.exports.DEVICE_INFO_WRITE_ID="0000FFE1-65D0-4E20-B56A-E493541BA4E2",e.exports.DEVICE_DATA_WRITE_ID="0000FFE2-65D0-4E20-B56A-E493541BA4E2",e.exports.DEVICE_EVENT_WRITE_ID="0000FFE3-65D0-4E20-B56A-E493541BA4E2",e.exports.LL_OTA_WRITE_ID="0000FFE4-65D0-4E20-B56A-E493541BA4E2",e.exports.PROPERTY_REPORT="PROPERTY_REPORT",e.exports.CONTROL_DEVICE="CONTROL_DEVICE",e.exports.CONTROL_ACTION="CONTROL_ACTION",e.exports.REPORT_RESULT="REPORT_RESULT",e.exports.CONTROL_REPLY="CONTROL_REPLY",e.exports.GET_STATUS="GET_STATUS",e.exports.EVENT_REPORT="EVENT_REPORT",e.exports.EVENT_REPLY="EVENT_REPLY",e.exports.ACTION_REPLY="ACTION_REPLY",e.exports.UPDATE_REPLY="UPDATE_REPLY",e.exports.UPDATE_DATA_REPLY="UPDATE_DATA_REPLY",e.exports.UPDATE_DATA_CHECK_REPLY="UPDATE_DATA_CHECK_REPLY",e.exports.UPDATE_REPLY_INVALID="UPDATE_REPLY_INVALID",e.exports.BIND_AUTH="BIND_AUTH",e.exports.SET_MTU_BEFORE_CONNECT="SET_MTU_BEFORE_CONNECT",e.exports.BIND_AUTH_DETAIL="BIND_AUTH_DETAIL",e.exports.BIND_AUTH_SUCCESS="BIND_AUTH_SUCCESS",e.exports.BIND_AUTH_FAIL="BIND_AUTH_FAIL",e.exports.CONNECT_AUTH="CONNECT_AUTH",e.exports.DEVICE_INFO="DEVICE_INFO",e.exports.ANDROID_SET_MTU="ANDROID_SET_MTU",e.exports.CONNECT_RESULT_WRITE_SUCCESS="CONNECT_RESULT_WRITE_SUCCESS",e.exports.CONNECT_RESULT_WRITE_FAIL="CONNECT_RESULT_WRITE_FAIL",e.exports.UNBIND_RESULT_AUTH_SUCCESS="UNBIND_RESULT_AUTH_SUCCESS",e.exports.UNBIND_RESULT_AUTH_FAIL="UNBIND_RESULT_AUTH_FAIL",e.exports.UNBIND_AUTH="UNBIND_AUTH",e.exports.TIME_SYNC="TIME_SYNC",e.exports.CONTROL_ACTION_SUCCESS="CONTROL_ACTION_SUCCESS",e.exports.WRITE_MTU_RESULT="WRITE_MTU_RESULT",e.exports.MTU_MODULE_CALLBACK="MTU_MODULE_CALLBACK",e.exports.GET_DEVICE_INFO="GET_DEVICE_INFO",e.exports.SET_WIFI_MODE="SET_WIFI_MODE",e.exports.SET_WIFI_INFO="SET_WIFI_INFO",e.exports.SET_WIFI_CONNECT="SET_WIFI_CONNECT",e.exports.SET_WIFI_TOKEN="SET_WIFI_TOKEN",e.exports.GET_DEV_LOG="GET_DEV_LOG",e.exports.SET_WIFI_MODE_RESULT="SET_WIFI_MODE_RESULT",e.exports.SET_WIFI_INFO_RESULT="SET_WIFI_INFO_RESULT",e.exports.SET_WIFI_CONNECT_RESULT="SET_WIFI_CONNECT_RESULT",e.exports.SET_WIFI_TOKEN_RESULT="SET_WIFI_TOKEN_RESULT",e.exports.GET_DEV_LOG_INFO="GET_DEV_LOG_INFO",e.exports.STA_WIFI_MODE="STA_WIFI_MODE",e.exports.NULL_WIFI_MODE="NULL_WIFI_MODE",e.exports.WAIT_USER_CHECK_TIMEOUT="WAIT_USER_CHECK_TIMEOUT",e.exports.GET_USER_CHECK_APPROVE="GET_USER_CHECK_APPROVE",e.exports.GET_USER_CHECK_REJECT="GET_USER_CHECK_REJECT",e.exports.USER_CHECK_TIMEOUT="USER_CHECK_TIMEOUT",e.exports.USER_CHECK_TIMEOUT_CALLBACK="USER_CHECK_TIMEOUT_CALLBACK",e.exports.GET_USER_CHECK_TIMEOUT_TIMEOUT="GET_USER_CHECK_TIMEOUT_TIMEOUT",e.exports.GET_USER_CHECK_TIMEOUT_ERROR="GET_USER_CHECK_TIMEOUT_ERROR",e.exports.GET_USER_CHECK_TIMEOUT_SUCCESS="GET_USER_CHECK_TIMEOUT_SUCCESS",e.exports.WRITE_USER_CHECK_TIMEOUT=1,e.exports.WRITE_USER_CHECK_CANCEL=0,e.exports.REGISTER_DEVICE_INFO_REPLY="REGISTER_DEVICE_INFO_REPLY",e.exports.SEND_REGISTER_DEVICE_PAYLOAD="SEND_REGISTER_DEVICE_PAYLOAD",e.exports.WAIT_REGISTER_DEVICE_INFO_REPLY_TIMEOUT="WAIT_REGISTER_DEVICE_INFO_REPLY_TIMEOUT",e.exports.REGISTER_DEVICE_INFO_REPLY_INVALID="REGISTER_DEVICE_INFO_REPLY_INVALID",e.exports.REGISTER_DEVICE_ERROR="REGISTER_DEVICE_ERROR",e.exports.REGISTER_DEVICE_SUCCESS="REGISTER_DEVICE_SUCCESS",e.exports.UNBIND_REQUEST="UnbindRequest",e.exports.UNBIND_RESPONSE="UnbindResponse",e.exports.INDICATE_TYPE_MAP={0:e.exports.PROPERTY_REPORT,1:e.exports.CONTROL_REPLY,2:e.exports.GET_STATUS,3:e.exports.EVENT_REPORT,4:e.exports.ACTION_REPLY,5:e.exports.BIND_AUTH,6:e.exports.CONNECT_AUTH,7:e.exports.UNBIND_AUTH,8:e.exports.DEVICE_INFO,9:e.exports.UPDATE_REPLY,10:e.exports.UPDATE_DATA_REPLY,11:e.exports.UPDATE_DATA_CHECK_REPLY,12:e.exports.MTU_MODULE_CALLBACK,13:e.exports.USER_CHECK_TIMEOUT_CALLBACK,14:e.exports.REGISTER_DEVICE_INFO_REPLY,224:e.exports.SET_WIFI_MODE_RESULT,225:e.exports.SET_WIFI_INFO_RESULT,226:e.exports.SET_WIFI_CONNECT_RESULT,227:e.exports.SET_WIFI_TOKEN_RESULT,228:e.exports.GET_DEV_LOG_INFO},e.exports.DEVICE_INFO_WRITE_PREFIX=((r={})[e.exports.TIME_SYNC]="00",r[e.exports.CONNECT_AUTH]="01",r[e.exports.BIND_AUTH_SUCCESS]="02",r[e.exports.BIND_AUTH_FAIL]="03",r[e.exports.UNBIND_AUTH]="04",r[e.exports.CONNECT_RESULT_WRITE_SUCCESS]="05",r[e.exports.CONNECT_RESULT_WRITE_FAIL]="06",r[e.exports.UNBIND_RESULT_AUTH_SUCCESS]="07",r[e.exports.UNBIND_RESULT_AUTH_FAIL]="08",r[e.exports.WRITE_MTU_RESULT]="09",r[e.exports.USER_CHECK_TIMEOUT]="0A",r[e.exports.SEND_REGISTER_DEVICE_PAYLOAD]="0B",r[e.exports.GET_DEVICE_INFO]="E0",r[e.exports.SET_WIFI_MODE]="E1",r[e.exports.SET_WIFI_INFO]="E2",r[e.exports.SET_WIFI_CONNECT]="E3",r[e.exports.SET_WIFI_TOKEN]="E4",r[e.exports.GET_DEV_LOG]="E5",r),e.exports.DEVICE_DATA_WRITE_HEAD=((o={})[e.exports.CONTROL_DEVICE]="000",o[e.exports.REPORT_RESULT]="001",o[e.exports.GET_STATUS]="001",o[e.exports.EVENT_REPLY]="011",o[e.exports.CONTROL_ACTION]="100",o),e.exports.DEVICE_DATA_WRITE_SUFFIX=((n={})[e.exports.CONTROL_DEVICE]="00000",n[e.exports.REPORT_RESULT]="00000",n[e.exports.GET_STATUS]="00010",n),e.exports.WIFI_MODE_MAP=((i={})[e.exports.NULL_WIFI_MODE]=0,i[e.exports.STA_WIFI_MODE]=1,i),e.exports.WIFI_LOG_TYPE_MAP={ERROR_LOG:0,NORMAL_LOG:1},e.exports.ACTION_DESC=((a={})[e.exports.CONTROL_DEVICE]="",a[e.exports.REPORT_RESULT]="",a[e.exports.GET_STATUS]="",a[e.exports.EVENT_REPLY]="",a[e.exports.CONTROL_ACTION]="",a[e.exports.CONTROL_ACTION_SUCCESS]="",a[e.exports.TIME_SYNC]="",a[e.exports.CONNECT_AUTH]="",a[e.exports.BIND_AUTH]="",a[e.exports.BIND_AUTH_DETAIL]="",a[e.exports.BIND_AUTH_SUCCESS]="",a[e.exports.UNBIND_AUTH]="",a[e.exports.CONNECT_RESULT_WRITE_SUCCESS]="",a[e.exports.UNBIND_RESULT_AUTH_SUCCESS]="",a),e.exports.BLE_IOT_DATA_TYPE_BOOL="bool",e.exports.BLE_IOT_DATA_TYPE_INT="int",e.exports.BLE_IOT_DATA_TYPE_STRING="string",e.exports.BLE_IOT_DATA_TYPE_FLOAT="float",e.exports.BLE_IOT_DATA_TYPE_ENUM="enum",e.exports.BLE_IOT_DATA_TYPE_TIME="timestamp",e.exports.BLE_IOT_DATA_TYPE_STRUCT="struct",e.exports.BLE_IOT_DATA_TYPE_ARRAY="array",e.exports.OTA_UPDATE_REQUEST="OTA_UPDATE_REQUEST",e.exports.OTA_UPDATE_DATA="OTA_UPDATE_DATA",e.exports.OTA_UPDATE_DATA_END="OTA_UPDATE_DATA_END",e.exports.LL_OTA_WRITE_PREFIX=((c={})[e.exports.OTA_UPDATE_REQUEST]="00",c[e.exports.OTA_UPDATE_DATA]="01",c[e.exports.OTA_UPDATE_DATA_END]="02",c),e.exports.USER_NEED_LOGIN="USER_NEED_LOGIN",e.exports.WAIT_CONNECT_REPLY_TIMEOUT="WAIT_CONNECT_REPLY_TIMEOUT",e.exports.CONNECT_REPLY_INVALID="CONNECT_REPLY_INVALID",e.exports.WAIT_UNBIND_REPLY_TIMEOUT="WAIT_UNBIND_REPLY_TIMEOUT",e.exports.WAIT_CONTROL_DEVICE_REPLY_TIMEOUT="WAIT_CONTROL_DEVICE_REPLY_TIMEOUT",e.exports.WAIT_CONTROL_ACTION_REPLY_TIMEOUT="WAIT_CONTROL_ACTION_REPLY_TIMEOUT",e.exports.UNBIND_REPLY_INVALID="UNBIND_REPLY_INVALID",e.exports.CONTROL_REPLY_INVALID="CONTROL_REPLY_INVALID",e.exports.CONTROL_ACTION_ERROR="CONTROL_ACTION_ERROR",e.exports.CONNECT_DEVICE_ERROR="CONNECT_DEVICE_ERROR",e.exports.CANNOT_FIND_DEVICE="CANNOT_FIND_DEVICE",e.exports.DEVICE_NAME_IS_EMPTY="DEVICE_NAME_IS_EMPTY",e.exports.PSK_GET_ERROR="PSK_GET_ERROR",e.exports.CONNECT_SIGN_AUTH_ERROR="CONNECT_SIGN_AUTH_ERROR",e.exports.UNBIND_REPLY_ERROR="UNBIND_REPLY_ERROR",e.exports.CONTROL_REPLY_CODE_INVALID="CONTROL_REPLY_CODE_INVALID",e.exports.CONTROL_DEVICE_REPLY_ERROR="CONTROL_DEVICE_REPLY_ERROR",e.exports.REPORT_RESULT_ERROR="REPORT_RESULT_ERROR",e.exports.GET_STATUS_ERROR="GET_STATUS_ERROR",e.exports.EVENT_REPLY_ERROR="EVENT_REPLY_ERROR",e.exports.BLE_WRITE_ERROR="BLE_WRITE_ERROR",e.exports.WAIT_GET_DEVICE_INFO_TIMEOUT="WAIT_GET_DEVICE_INFO_TIMEOUT",e.exports.DEVICE_INFO_INVALID="DEVICE_INFO_INVALID",e.exports.WAIT_GET_UPDATE_INFO_TIMEOUT="WAIT_GET_UPDATE_INFO_TIMEOUT",e.exports.WAIT_MODULE_UPDATE_TIMEOUT="WAIT_MODULE_UPDATE_TIMEOUT",e.exports.SET_WIFI_MODE_RESULT_INVALID="SET_WIFI_MODE_RESULT_INVALID",e.exports.SET_WIFI_MODE_RESULT_TIMEOUT="SET_WIFI_MODE_RESULT_TIMEOUT",e.exports.SET_WIFI_INFO_RESULT_INVALID="SET_WIFI_INFO_INVALID",e.exports.SET_WIFI_INFO_RESULT_TIMEOUT="SET_WIFI_INFO_TIMEOUT",e.exports.SET_WIFI_CONNECT_RESULT_INVALID="SET_WIFI_CONNECT_RESULT_INVALID",e.exports.SET_WIFI_CONNECT_RESULT_TIMEOUT="SET_WIFI_CONNECT_RESULT_TIMEOUT",e.exports.SET_WIFI_TOKEN_RESULT_INVALID="SET_WIFI_TOKEN_RESULT_INVALID",e.exports.SET_WIFI_TOKEN_RESULT_TIMEOUT="SET_WIFI_TOKEN_RESULT_TIMEOUT",e.exports.GET_DEV_LOG_INFO_INVALID="GET_DEV_LOG_INFO_INVALID",e.exports.GET_DEV_LOG_INFO_TIMEOUT="GET_DEV_LOG_INFO_TIMEOUT",e.exports.OTA_UPDATE_STEPS={GET_OTA_UPDATE_INFO:"GET_OTA_UPDATE_INFO",GET_OTA_UPDATE_INFO_SUCCESS:"GET_OTA_UPDATE_INFO_SUCCESS",DOWNLOADING_OTA_FILE:"DOWNLOADING_OTA_FILE",DOWNLOADING_OTA_FILE_DETAIL:"DOWNLOADING_OTA_FILE_DETAIL",DOWNLOAD_OTA_FILE_SUCCESS:"DOWNLOAD_OTA_FILE_SUCCESS",REQUEST_MODULE_UPDATE_START:"REQUEST_MODULE_UPDATE",REQUEST_MODULE_UPDATE_SUCCESS:"REQUEST_MODULE_UPDATE_SUCCESS",MODULE_UPDATE_CHECK_FILE_SUCCESS:"MODULE_UPDATE_CHECK_FILE_SUCCESS",SEND_UPDATE_DATA_START:"SEND_UPDATE_DATA_START",SEND_UPDATE_DATA_DETAIL:"SEND_UPDATE_DATA_DETAIL",SEND_UPDATE_DATA_SUCCESS:"SEND_UPDATE_DATA_SUCCESS",WAITING_MODULE_UPDATE:"WAITING_MODULE_UPDATE",MODULE_UPDATE_SUCCESS:"MODULE_UPDATE_SUCCESS"},e.exports.OTA_UPDATE_STEPS_MESSAGE=((l={})[e.exports.OTA_UPDATE_STEPS.GET_OTA_UPDATE_INFO]="",l[e.exports.OTA_UPDATE_STEPS.GET_OTA_UPDATE_INFO_SUCCESS]="",l[e.exports.OTA_UPDATE_STEPS.DOWNLOADING_OTA_FILE]="OTA",l[e.exports.OTA_UPDATE_STEPS.DOWNLOADING_OTA_FILE_DETAIL]="OTA",l[e.exports.OTA_UPDATE_STEPS.DOWNLOAD_OTA_FILE_SUCCESS]="OTA",l[e.exports.OTA_UPDATE_STEPS.REQUEST_MODULE_UPDATE_START]="",l[e.exports.OTA_UPDATE_STEPS.REQUEST_MODULE_UPDATE_SUCCESS]="",l[e.exports.OTA_UPDATE_STEPS.SEND_UPDATE_DATA_START]="",l[e.exports.OTA_UPDATE_STEPS.SEND_UPDATE_DATA_DETAIL]="",l[e.exports.OTA_UPDATE_STEPS.SEND_UPDATE_DATA_SUCCESS]="",l[e.exports.OTA_UPDATE_STEPS.WAITING_MODULE_UPDATE]="",l[e.exports.OTA_UPDATE_STEPS.MODULE_UPDATE_SUCCESS]="",l),e.exports.OTA_UPDATE_ERRORS=((u={GET_OTA_INFO_FAIL:"OTA",MODULE_VERSION_IS_UPDATED:"",MODULE_DONNOT_SUPPORT:"",USER_CANCEL_OTA_UPDATE:"",MODULE_DONNOT_ALLOW:"",MODULE_UPDATE_CHECK_FILE_FAIL:"",GET_FILE_CRC_ERROR:"crc"})[e.exports.WAIT_GET_UPDATE_INFO_TIMEOUT]="",u[e.exports.WAIT_MODULE_UPDATE_TIMEOUT]="",u.UPDATE_DATA_REPLAY_TIMEOUT="",u.MODULE_UPDATE_FAIL="",u.MODULE_UPDATE_CONNECT_TIMEOUT="",u.BLE_CONNECTION_BREAK="",u),e.exports.BLE_COMBO_ERRORS=((d={})[e.exports.SET_WIFI_MODE_RESULT_INVALID]="WiFi",d[e.exports.SET_WIFI_MODE_RESULT_TIMEOUT]="WiFi",d[e.exports.SET_WIFI_INFO_RESULT_INVALID]="WiFi",d[e.exports.SET_WIFI_INFO_RESULT_TIMEOUT]="WiFi",d[e.exports.SET_WIFI_CONNECT_RESULT_INVALID]="WiFi",d[e.exports.SET_WIFI_CONNECT_RESULT_TIMEOUT]="WiFi",d[e.exports.SET_WIFI_TOKEN_RESULT_INVALID]="token",d[e.exports.SET_WIFI_TOKEN_RESULT_TIMEOUT]="token",d[e.exports.GET_DEV_LOG_INFO_INVALID]="",d[e.exports.GET_DEV_LOG_INFO_TIMEOUT]="",d),e.exports.MODULE_UPDATE_REPLAY_CODE_MAP={0:"",1:""},e.exports.MODULE_UPDATE_DATA_REPLAY_CODE_MAP={1:e.exports.OTA_UPDATE_STEPS.MODULE_UPDATE_CHECK_FILE_SUCCESS,0:"MODULE_UPDATE_CHECK_FILE_FAIL"},e.exports.MODULE_UPDATE_REPLAY_DATA_CODE_MAP={0:"CRC",1:"",2:""},e.exports.WAIT_MODULE_UPDATE_CONNECT_TIMES=5,e.exports.WAIT_MODULE_UPDATE_CONNECT_TIME_GAP=2e3,e.exports.UPDATE_WRITE_ERROR_TIMES_PER_CIRCLE=5,e.exports.MAX_WRITE_DATA_WAIT_GAP=200,e.exports.ERROR_MESSAGES=h.__assign(h.__assign(((p={})[e.exports.USER_NEED_LOGIN]="",p[e.exports.CONTROL_ACTION_ERROR]="",p[e.exports.CONNECT_DEVICE_ERROR]="",p[e.exports.CANNOT_FIND_DEVICE]="",p[e.exports.USER_NEED_LOGIN]="",p[e.exports.WAIT_CONNECT_REPLY_TIMEOUT]="",p[e.exports.CONNECT_REPLY_INVALID]="",p[e.exports.GET_USER_CHECK_REJECT]="",p[e.exports.WAIT_USER_CHECK_TIMEOUT]="",p[e.exports.GET_USER_CHECK_TIMEOUT_TIMEOUT]="",p[e.exports.GET_USER_CHECK_TIMEOUT_ERROR]="",p[e.exports.DEVICE_NAME_IS_EMPTY]="",p[e.exports.PSK_GET_ERROR]="local psk",p[e.exports.CONNECT_SIGN_AUTH_ERROR]="",p[e.exports.WAIT_UNBIND_REPLY_TIMEOUT]="",p[e.exports.UNBIND_REPLY_INVALID]="",p[e.exports.UNBIND_REPLY_ERROR]="",p[e.exports.WAIT_CONTROL_DEVICE_REPLY_TIMEOUT]="",p[e.exports.CONTROL_DEVICE_REPLY_ERROR]="",p[e.exports.CONTROL_REPLY_INVALID]="",p[e.exports.BIND_AUTH_FAIL]="",p[e.exports.UNBIND_RESULT_AUTH_FAIL]="",p[e.exports.CONNECT_RESULT_WRITE_FAIL]="",p[e.exports.CONTROL_REPLY_CODE_INVALID]="code0",p[e.exports.REPORT_RESULT_ERROR]="",p[e.exports.GET_STATUS_ERROR]="",p[e.exports.EVENT_REPLY_ERROR]="EVENT_REPLY_ERROR",p[e.exports.BLE_WRITE_ERROR]="",p[e.exports.WAIT_GET_DEVICE_INFO_TIMEOUT]="",p[e.exports.DEVICE_INFO_INVALID]="MTU",p.ID_TEMPLATE_IS_NOT_EXIT="id",p.TYPE_IN_MODULE_IS_WRONG="type",p),e.exports.OTA_UPDATE_ERRORS),((f={})[e.exports.REGISTER_DEVICE_ERROR]="",f[e.exports.REGISTER_DEVICE_INFO_REPLY_INVALID]="",f[e.exports.WAIT_REGISTER_DEVICE_INFO_REPLY_TIMEOUT]="",f))})),s.register("fOlEO",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),s("983NH").__exportStar(s("4iO8q"),e.exports)})),s.register("4iO8q",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.AppDevSdk=e.exports.AppDevPlugin=void 0;var r=s("983NH"),o=r.__importDefault(s("5YP49")),n=s("PWoIU"),i=r.__importStar(s("9Bkuj")),a=r.__importStar(s("AVmHb")),c=0,l=1,u=2,d=function(){function e(){}return e.install=function(e){},e}();e.exports.AppDevPlugin=d;var p=function(e){function t(t){var o=t.getAccessToken,d=t.appKey,p=void 0===d?"":d,f=t.apiPlatform,h=void 0===f?"":f,v=t.apiRegionId,g=void 0===v?1:v,_=t.debug,m=void 0!==_&&_,E=t.apiUrl,y=t.wsConfig,T=void 0===y?{}:y,b=T.autoReconnect,C=void 0===b||b,I=T.disconnectWhenAppHide,x=void 0===I||I,A=T.connectWhenAppShow,S=void 0===A||A,D=r.__rest(T,["autoReconnect","disconnectWhenAppHide","connectWhenAppShow"]),w=t.reporter,O=t.plugins,N=void 0===O?[]:O,R=t.defaultUin,B=void 0===R?"unknown":R,P=t.enableAccessTokenCache,L=void 0===P||P,U=e.call(this)||this;U.isManuallyClose=!1,U._defaultFamilyIdPromise=null,U.constants=a,U.utils=i,U.plugins={},U._defaultUin=B,U._apiUrl=E,U._debug=m,s("9Bkuj").logger.config({debug:m});var V=w||s("9Bkuj").noop;return U.reporter={info:function(e,t){void 0===t&&(t={});try{V(e,r.__assign({level:c},t))}catch(e){s("9Bkuj").logger.warn(e)}},warn:function(e,t){void 0===t&&(t={});try{V(e,r.__assign({level:l},t))}catch(e){s("9Bkuj").logger.warn(e)}},error:function(e,t){void 0===t&&(t={});try{V(e,r.__assign({level:u},t))}catch(e){s("9Bkuj").logger.warn(e)}}},U.ws=new n.IotWebsocket(U,r.__assign(r.__assign({},D),{apiPlatform:h})),U.loginManager=new n.LoginManager(U,{getAccessToken:o,appKey:p,enableAccessTokenCache:L}),U._apiPlatform=h,U._apiRegionId=g,U.loginManager.on(a.EventTypes.LoginStateChange,(function(e){return U.emit(a.EventTypes.LoginStateChange,{isLogin:e})})),U.ws.on("error",(function(e){s("9Bkuj").logger.debug("websocket error",e),U.emit(a.EventTypes.WsError,e),C&&U._reconnectWs()})),U.ws.on("close",(function(e){var t=void 0===e?{}:e,r=t.code,o=t.reason;s("9Bkuj").logger.debug("websocket close",{code:r,reason:o}),U.emit(a.EventTypes.WsClose,{code:r,reason:o}),C&&U._onWebsocketClose()})),U.ws.on("push",(function(e){return U._handlePushEvent(e)})),s("9Bkuj").envDetect.isMiniProgram&&(wx.onAppHide((function(){x&&(U.isManuallyClose=!0,U.ws.disconnect())})),wx.onAppShow((function(){S&&U.isLogin&&U.ws.connect()}))),(null==N?void 0:N.length)&&N.forEach((function(e){return U.usePlugin(e)})),U}return r.__extends(t,e),t.prototype.usePlugin=function(e){e.install(this)},Object.defineProperty(t.prototype,"userInfo",{get:function(){return this.loginManager.userInfo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLogin",{get:function(){return this.loginManager.isLogin},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userId",{get:function(){return this.loginManager.userId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uin",{get:function(){return this.loginManager.userId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nickName",{get:function(){return this.loginManager.nickName},enumerable:!1,configurable:!0}),t.prototype.init=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t=this;return r.__generator(this,(function(o){return e||(e={}),e.reload&&(this._initPromise=null),this.isLogin?[2,Promise.resolve()]:[2,this._initPromise||(this._initPromise=new Promise((function(o,n){return r.__awaiter(t,void 0,void 0,(function(){var t;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,4,5]),[4,this.loginManager.login({reload:e.reload})];case 1:return r.sent(),[4,this.ws.connect()];case 2:return r.sent(),o(),[3,5];case 3:return t=r.sent(),n(s("9Bkuj").normalizeError(t)),[3,5];case 4:return this._initPromise=null,[7];case 5:return[2]}}))}))})))]}))}))},t.prototype.getDefaultFamilyId=function(){var e=this;return this._defaultFamilyIdPromise||(this._defaultFamilyIdPromise=new Promise((function(t,o){return r.__awaiter(e,void 0,void 0,(function(){var e,n,i,s;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),[4,this.requestApi("AppGetFamilyList",{Offset:0,Limit:100})];case 1:return e=r.sent(),n=e.FamilyList,e.Total?[3,3]:[4,this.requestApi("AppCreateFamily",{Name:this.loginManager.nickName})];case 2:return i=r.sent().Data.FamilyId,[2,t(i)];case 3:return t(n[0].FamilyId),[3,5];case 4:return s=r.sent(),o(s),this._defaultFamilyIdPromise=null,[3,5];case 5:return[2]}}))}))})))},t.prototype.sendWebsocketMessage=function(e,t){return void 0===t&&(t={}),r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(r){switch(r.label){case 0:return[4,this.init()];case 1:return r.sent(),[2,this.ws.send(e,t)]}}))}))},t.prototype.connectWebsocket=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return[4,this.init()];case 1:return e.sent(),[4,this.ws.connect()];case 2:return e.sent(),[2]}}))}))},t.prototype.disconnectWebsocket=function(){this.ws.disconnect()},t.prototype.subscribeDevices=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.ws.connect((e||[]).map((function(e){return"string"==typeof e?e:(null==e?void 0:e.DeviceId)?e.DeviceId:null})).filter(Boolean))];case 1:return r.sent(),[3,3];case 2:return t=r.sent(),s("9Bkuj").logger.warn("subscribeDevices fail",t),[3,3];case 3:return[2]}}))}))},t.prototype.requestApi=function(e,t,o){void 0===t&&(t={}),void 0===o&&(o={});var i=o.doNotRetry,a=void 0!==i&&i,c=o.needLogin,l=void 0===c||c,u=o.doNotReport,d=void 0!==u&&u,p=r.__rest(o,["doNotRetry","needLogin","doNotReport"]);return r.__awaiter(this,void 0,void 0,(function(){var o,i,c,u,f,h,v;return r.__generator(this,(function(g){switch(g.label){case 0:return g.trys.push([0,6,,13]),l?[4,this.loginManager.checkLogin()]:[3,2];case 1:g.sent(),g.label=2;case 2:return o=this.loginManager,i=o.accessToken,c=o.userId,t&&"default"===t.FamilyId?(u=t,[4,this.getDefaultFamilyId()]):[3,4];case 3:u.FamilyId=g.sent(),g.label=4;case 4:return f=r.__assign({uin:this._debug?this._defaultUin:c,RegionId:this._apiRegionId},t),i&&(f.AccessToken=i),this._apiPlatform&&(f.Platform=this._apiPlatform),[4,n.requestTokenApi(e,f,r.__assign({reporter:this.reporter,doNotReport:d,url:this._apiUrl},p))];case 5:return[2,g.sent()];case 6:if(h=g.sent(),s("9Bkuj").logger.debug("requestApi fail",h),!s("9Bkuj").isVerifyLoginError(h))return[3,12];if(a)return[3,11];g.label=7;case 7:return g.trys.push([7,9,,10]),[4,this.loginManager.reLogin()];case 8:return g.sent(),[3,10];case 9:return v=g.sent(),s("9Bkuj").logger.error("reLogin fail",v),[2,Promise.reject(s("9Bkuj").genVerifyLoginFailError(h))];case 10:return[2,this.requestApi(e,t,r.__assign({doNotRetry:!0},p))];case 11:return[2,Promise.reject(s("9Bkuj").genVerifyLoginFailError(h))];case 12:return[2,Promise.reject(s("9Bkuj").normalizeError(h))];case 13:return[2]}}))}))},t.prototype._handlePushEvent=function(e){var t,o,n,i;e||(e={}),this.emit(a.EventTypes.WsPush,e);var c=e.action,l=e.params;l||(l={});var u=l.DeviceId,d=l.Type,p=l.SubType,f=l.Time,h=l.Payload,v=new Date(f).getTime();if(h)try{h=JSON.parse(s("9Bkuj").base64.decode(h))}catch(e){return void s("9Bkuj").logger.error(e)}if(s("9Bkuj").logger.debug("websocket push payload",h),"DeviceChange"===c)switch(d){case"Property":case"Shadow":case"Template":switch(p){case"Report":var g={};try{if(h){var _=h.method,m=h.params,E=h.type,y=h.state;if(E&&"update"===E&&y&&y.reported&&(_="report",m=y.reported),m||(m={}),"report"===_)try{for(var T=r.__values(Object.keys(m)),b=T.next();!b.done;b=T.next())g[A=b.value]={Value:m[A],lastUpdate:v,LastUpdate:v}}catch(e){t={error:e}}finally{try{b&&!b.done&&(o=T.return)&&o.call(T)}finally{if(t)throw t.error}}}}catch(e){s("9Bkuj").logger.error("handle report event error",e)}this.emit(a.EventTypes.WsReport,{deviceId:u,deviceData:g});break;case"Push":g={};try{if(h){_=h.method,m=h.params,E=h.type;var C=h.payload;if(E&&"delta"===E&&C&&C.state&&(_="control",m=C.state),"control"===_&&m){try{for(var I=r.__values(Object.keys(m)),x=I.next();!x.done;x=I.next()){var A;g[A=x.value]={Value:m[A],LastUpdate:v}}}catch(e){n={error:e}}finally{try{x&&!x.done&&(i=I.return)&&i.call(I)}finally{if(n)throw n.error}}this.emit(a.EventTypes.WsControl,{deviceId:u,deviceData:g})}}}catch(e){s("9Bkuj").logger.error(e)}}break;case"Event":"Report"===p&&this.emit(a.EventTypes.WsEventReport,{Payload:h,deviceId:u});break;case"Action":switch(p){case"Push":this.emit(a.EventTypes.WsActionPush,{Payload:h,deviceId:u});break;case"Report":this.emit(a.EventTypes.WsActionReport,{Payload:h,deviceId:u})}break;case"StatusChange":switch(p){case"Bind":this.emit(a.EventTypes.WsDeviceBind,{Payload:h,deviceId:u});break;case"Unbind":this.emit(a.EventTypes.WsDeviceUnbind,{Payload:h,deviceId:u});break;case"Online":case"Offline":var S="Online"===p?1:0;this.emit(a.EventTypes.WsStatusChange,{deviceId:u,deviceStatus:S});break;default:console.warn("unknown subtype "+p+" of statusChange")}case"Gateway":switch(p){case"bind":this.emit(a.EventTypes.WsSubDeviceBind,{gatewayDeviceId:u,subDeviceList:h}),this.emit(a.EventTypes.WsSubDeviceChange,{gatewayDeviceId:u,subDeviceList:h,action:"bind"});break;case"unbind":this.emit(a.EventTypes.WsSubDeviceUnbind,{gatewayDeviceId:u,subDeviceList:h}),this.emit(a.EventTypes.WsSubDeviceChange,{gatewayDeviceId:u,subDeviceList:h,action:"unbind"})}}},t.prototype._onWebsocketClose=function(){if(!this.isManuallyClose)return this._reconnectWs();this.isManuallyClose=!1},t.prototype._reconnectWs=function(){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),s("9Bkuj").logger.debug("websocket reconnecting in 2 seconds"),[4,s("9Bkuj").delay(2e3)];case 1:return t.sent(),[4,this.ws.connect()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),s("9Bkuj").logger.error("error when reconnect ws",e),[2,Promise.reject(e)];case 4:return[2]}}))}))},t.utils=i,t.constants=a,t}(o.default);e.exports.AppDevSdk=p})),s.register("5YP49",(function(e,t){var r=Object.defineProperty,o=Object.create,n=Object.prototype.hasOwnProperty,i={configurable:!0,enumerable:!1,writable:!0},s="__ee__";function a(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e}function c(e){for(var t=e.length,r=new Array(t),o=0;o<t;++o)r[o]=e[o];return r}function l(){}l.prototype.on=function(e,t){var c;return a(t),n.call(this,s)?c=this.__ee__:(c=i.value=o(null),r(this,s,i),i.value=null),c[e]?c[e].push(t):c[e]=[t],this},l.prototype.once=function(e,t){var r=this;return a(t),this.on.call(r,e,(function o(){this.off.call(r,e,o),t.apply(r,arguments)})),this},l.prototype.off=function(e,t){if(!n.call(this,s))return this;var r=this.__ee__;if(!r[e])return this;if(t){var o=r[e]||[],i=o.indexOf(t);i>-1&&o.splice(i,1)}else r[e].length=0;return this},l.prototype.emit=function(){var e=Array.prototype.slice.call(arguments),t=e.splice(0,1);if(n.call(this,s)){var r=this.__ee__[t];if(r&&r.length){r=c(r);var o=this;return Promise.all(r.map((function(t){return t.apply(o,e)})))}}},e.exports=l})),s.register("PWoIU",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0});var r=s("983NH");r.__exportStar(s("1at3u"),e.exports),r.__exportStar(s("l0F1s"),e.exports),r.__exportStar(s("1Y4Kq"),e.exports)})),s.register("1at3u",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.IotWebsocket=void 0;var r=s("983NH"),o=r.__importDefault(s("5YP49")),n=r.__importDefault(s("hK4CE")),i=s("9Bkuj"),a={url:"wss://iot.cloud.tencent.com/ws/explorer",heartbeatInterval:6e4},c=function(e){function t(t,r){var o=e.call(this)||this;return o.sdk=t,o.requestHandlerMap=new Map,o.options=Object.assign({},a,r),o._connected=!1,o._subscribeDeviceIdList=[],o._heartBeatTimer=null,o}return r.__extends(t,e),t.prototype.isConnected=function(){return!!this._connected},t.prototype.doConnectWs=function(){return r.__awaiter(this,void 0,void 0,(function(){var e=this;return r.__generator(this,(function(t){return[2,this._doConnectWsPromise||(this._doConnectWsPromise=new Promise((function(t,o){return r.__awaiter(e,void 0,void 0,(function(){var e,n,s=this;return r.__generator(this,(function(a){e=function(e){o(e),s.emit("error",e),s.disconnect(),s.sdk.reporter.error("websocket-error",{error:e})};try{n=this.options.url,this.ws=new i.WebSocket(i.appendParams(n,{uin:this.sdk._debug?this.sdk._defaultUin:this.sdk.loginManager.userId})),this.ws.onOpen((function(){s._connected=!0,s.emit("connect"),t(),i.logger.debug("websocket connected"),s.sdk.reporter.info("websocket-connect")})),this.ws.onError(e),this.ws.onMessage((function(e){var t=e.data;s.emit("message",t);try{t=JSON.parse(t)}catch(e){return void i.logger.warn("onMessage parse event.data error: "+t)}t.push?(s.emit("push",t),s.sdk.reporter.info("websocket-push",{data:t})):void 0!==t.reqId&&s.requestHandlerMap.has(t.reqId)?s.requestHandlerMap.get(t.reqId)(null,t):s.sdk.reporter.info("websocket-onmessage",{data:t})})),this.ws.onClose((function(e){return r.__awaiter(s,void 0,void 0,(function(){return r.__generator(this,(function(t){return i.logger.debug("websocket closed"),this.disconnect(),this.emit("close",e),this.sdk.reporter.info("websocket-close",{data:e}),[2]}))}))}))}catch(t){e(t)}return[2]}))}))})))]}))}))},t.prototype.connect=function(e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return e&&(this._subscribeDeviceIdList=e),[4,this.sdk.loginManager.checkLogin()];case 1:return t.sent(),this.isConnected()||!this._subscribeDeviceIdList.length?[3,3]:[4,this.doConnectWs()];case 2:t.sent(),t.label=3;case 3:return[2,this.activePush()]}}))}))},t.prototype.disconnect=function(){this.ws&&(this.ws.close(),this._connected=!1,this._doConnectWsPromise=null,this.ws=null,clearInterval(this._heartBeatTimer),this._heartBeatTimer=null)},t.prototype.send=function(e,t,o){void 0===t&&(t={});var s=(void 0===o?{}:o).reqId;return r.__awaiter(this,void 0,void 0,(function(){var o,a,c,l,u=this;return r.__generator(this,(function(d){switch(d.label){case 0:if(s||(s=n.default()),!this.ws)return[3,6];o=Date.now(),this.ws.send({data:JSON.stringify({action:e,reqId:s,params:t})}),a={reqBody:i.cutoffLong(JSON.stringify(t)),action:e,reqId:s,timeCost:null},d.label=1;case 1:return d.trys.push([1,3,4,5]),[4,Promise.race([new Promise((function(e,t){u.requestHandlerMap.set(s,(function(n,s){if(a.timeCost=Date.now()-o,!n)return s.data||!s.error&&!s.error_message?(u.sdk.reporter.info("websocket-response",r.__assign(r.__assign({},a),{resBody:i.cutoffLong(JSON.stringify(s.data))})),e(s.data)):(c="error",void t({code:s.error,msg:s.error_message}));t(n),c="fail"}))})),new Promise((function(e,t){setTimeout((function(){t({code:"TIMEOUT"}),c="timeout"}),2e4)}))])];case 2:return[2,d.sent()];case 3:return l=d.sent(),this.sdk.reporter.info("websocket-"+c,r.__assign(r.__assign({},a),{error:l,timeCost:Date.now()-o})),[3,5];case 4:return this.requestHandlerMap.delete(s),[7];case 5:return[3,7];case 6:i.logger.warn("Try send ws message but no ws instance",e,t),d.label=7;case 7:return[2]}}))}))},t.prototype.sendWsHeatBeat=function(){var e;if(null===(e=this._subscribeDeviceIdList)||void 0===e?void 0:e.length){var t=n.default(),r={Action:"AppDeviceTraceHeartBeat",ActionParams:Object.assign({},{Platform:this.sdk._apiPlatform,RequestId:t,AccessToken:this.sdk.loginManager.accessToken,DeviceIds:this._subscribeDeviceIdList})};return this.send("YunApi",r,{reqId:t})}},t.prototype.activePush=function(){var e=this,t=this.sdk.loginManager,r=t.isLogin,o=t.accessToken,n=t.appKey;r&&o&&this._subscribeDeviceIdList&&(this.sdk.reporter.info("websocket activepush("+this._subscribeDeviceIdList.join(";")+")",{data:{DeviceIds:this._subscribeDeviceIdList,Platform:"weapp",AccessToken:o,RegionId:this.sdk._apiRegionId}}),this.send("ActivePush",{DeviceIds:this._subscribeDeviceIdList,Platform:"weapp",AccessToken:o,AppKey:n,RegionId:this.sdk._apiRegionId}),this.sendWsHeatBeat(),clearInterval(this._heartBeatTimer),this._heartBeatTimer=setInterval((function(){return e.sendWsHeatBeat()}),this.options.heartbeatInterval))},t}(o.default);e.exports.IotWebsocket=c})),s.register("hK4CE",(function(e,t){"use strict";e.exports=s("gdGJH")})),s.register("gdGJH",(function(e,t){"use strict";var r=s("2YHhf"),o=s("kCebr"),n=s("daAkQ"),i=s("5eeVQ")||0;function a(){return o(i)}e.exports=a,e.exports.generate=a,e.exports.seed=function(t){return r.seed(t),e.exports},e.exports.worker=function(t){return i=t,e.exports},e.exports.characters=function(e){return void 0!==e&&r.characters(e),r.shuffled()},e.exports.isValid=n})),s.register("2YHhf",(function(e,t){"use strict";var r,o,n,i=s("lLbCt"),a="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";function c(){n=!1}function l(e){if(e){if(e!==r){if(e.length!==a.length)throw new Error("Custom alphabet for shortid must be "+a.length+" unique characters. You submitted "+e.length+" characters: "+e);var t=e.split("").filter((function(e,t,r){return t!==r.lastIndexOf(e)}));if(t.length)throw new Error("Custom alphabet for shortid must be "+a.length+" unique characters. These characters were not unique: "+t.join(", "));r=e,c()}}else r!==a&&(r=a,c())}function u(){return n||(n=function(){r||l(a);for(var e,t=r.split(""),o=[],n=i.nextValue();t.length>0;)n=i.nextValue(),e=Math.floor(n*t.length),o.push(t.splice(e,1)[0]);return o.join("")}())}e.exports={get:function(){return r||a},characters:function(e){return l(e),r},seed:function(e){i.seed(e),o!==e&&(c(),o=e)},lookup:function(e){return u()[e]},shuffled:u}})),s.register("lLbCt",(function(e,t){"use strict";var r=1;e.exports={nextValue:function(){return(r=(9301*r+49297)%233280)/233280},seed:function(e){r=e}}})),s.register("kCebr",(function(e,t){"use strict";var r=s("57Ovu");s("2YHhf");var o,n;e.exports=function(e){var t="",i=Math.floor(.001*(Date.now()-1567752802062));return i===n?o++:(o=0,n=i),t+=r(7),t+=r(e),o>0&&(t+=r(o)),t+=r(i)}})),s.register("57Ovu",(function(e,t){"use strict";var r=s("2YHhf"),o=s("lHZym"),n=s("9p8W7");e.exports=function(e){for(var t,i=0,s="";!t;)s+=n(o,r.get(),1),t=e<Math.pow(16,i+1),i++;return s}})),s.register("lHZym",(function(e,t){"use strict";var r,o="object"==typeof window&&(window.crypto||window.msCrypto);r=o&&o.getRandomValues?function(e){return o.getRandomValues(new Uint8Array(e))}:function(e){for(var t=[],r=0;r<e;r++)t.push(Math.floor(256*Math.random()));return t},e.exports=r})),s.register("9p8W7",(function(e,t){e.exports=function(e,t,r){for(var o=(2<<Math.log(t.length-1)/Math.LN2)-1,n=Math.ceil(1.6*o*r/t.length),i="";;)for(var s=e(n),a=0;a<n;a++){var c=s[a]&o;if(t[c]&&(i+=t[c]).length===r)return i}}})),s.register("daAkQ",(function(e,t){"use strict";var r=s("2YHhf");e.exports=function(e){return!(!e||"string"!=typeof e||e.length<6)&&!new RegExp("[^"+r.get().replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")+"]").test(e)}})),s.register("5eeVQ",(function(e,t){"use strict";e.exports=0})),s.register("9Bkuj",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.byteUtil=e.exports.CryptoJS=e.exports.tips=e.exports.envDetect=e.exports.shortid=e.exports.EventEmitter=e.exports.WebSocket=void 0;var r=s("983NH"),o=r.__importDefault(s("5YP49"));e.exports.EventEmitter=o.default;var n=r.__importDefault(s("hK4CE"));e.exports.shortid=n.default;var i=s("lDpae");Object.defineProperty(e.exports,"WebSocket",{enumerable:!0,get:function(){return i.WebSocket}});var a=r.__importStar(s("dRASr"));e.exports.envDetect=a;var c=r.__importDefault(s("jp5t0"));e.exports.tips=c.default;var l=r.__importDefault(s("2Mw0K"));e.exports.CryptoJS=l.default;var u=s("7TKmK");Object.defineProperty(e.exports,"byteUtil",{enumerable:!0,get:function(){return u.byteUtil}});var d=s("jBAbU");Object.defineProperty(e.exports,"base64",{enumerable:!0,get:function(){return d.Base64}});var p=s("b9zES");Object.defineProperty(e.exports,"storage",{enumerable:!0,get:function(){return p.storage}});var f=s("4Ear4");Object.defineProperty(e.exports,"pify",{enumerable:!0,get:function(){return f.pify}}),r.__exportStar(s("bU2tr"),e.exports),r.__exportStar(s("2TgUi"),e.exports),r.__exportStar(s("54ek8"),e.exports),r.__exportStar(s("bXSEl"),e.exports)})),s.register("lDpae",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.WebSocket=void 0;var r=s("983NH").__importStar(s("dRASr")),o=function(){function e(e){this.url=e,this.ws=null,this.initWs()}return e.prototype.initWs=function(){r.isMiniProgram?this.ws=wx.connectSocket({url:this.url}):this.ws=new window.WebSocket(this.url)},e.prototype.send=function(e){var t=e.data;r.isMiniProgram?this.ws.send({data:t}):this.ws.send(t)},e.prototype.close=function(){this.ws.close()},e.prototype.onOpen=function(e){r.isMiniProgram?this.ws.onOpen(e):this.ws.addEventListener("open",e)},e.prototype.onClose=function(e){r.isMiniProgram?this.ws.onClose(e):this.ws.addEventListener("close",e)},e.prototype.onMessage=function(e){r.isMiniProgram?this.ws.onMessage(e):this.ws.addEventListener("message",e)},e.prototype.onError=function(e){r.isMiniProgram?this.ws.onError(e):this.ws.addEventListener("error",e)},e}();e.exports.WebSocket=o})),s.register("dRASr",(function(e,t){var r,o=s("aybWt");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.isAndroid=e.exports.isIOS=e.exports.isRN=e.exports.isNode=e.exports.isBrowser=e.exports.isMiniProgram=void 0,e.exports.isMiniProgram=function(){try{return!(!(null===wx||void 0===wx?void 0:wx.request)||!(null===wx||void 0===wx?void 0:wx.connectSocket))}catch(e){return!1}}(),e.exports.isBrowser=function(){try{return!e.exports.isMiniProgram&&"undefined"!=typeof window&&void 0!==window.document}catch(e){return!1}}(),e.exports.isNode=function(){try{return!!o.versions.node}catch(e){return!1}}(),e.exports.isRN=function(){try{return"ReactNative"===navigator.product}catch(e){return!1}}(),e.exports.isIOS=e.exports.isMiniProgram?wx.getSystemInfoSync().platform.toLowerCase().indexOf("ios")>-1:!!e.exports.isBrowser&&(["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||(null===(r=null===navigator||void 0===navigator?void 0:navigator.userAgent)||void 0===r?void 0:r.includes("Mac"))&&"ontouchend"in document),e.exports.isAndroid=function(){var t;return e.exports.isMiniProgram?wx.getSystemInfoSync().platform.toLowerCase().indexOf("android")>-1:!!e.exports.isBrowser&&(null===(t=null===navigator||void 0===navigator?void 0:navigator.userAgent)||void 0===t?void 0:t.toLowerCase().indexOf("android"))>-1}()})),s.register("aybWt",(function(e,t){})),s.register("jp5t0",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0});var r=s("983NH"),o=s("AVmHb"),n=s("4Ear4"),i=s("2TgUi"),a=/\((\d+)\).+/;e.exports.default={showModal:function(e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.hideToast(),[4,n.pify(wx.showModal)(r.__assign({confirmColor:o.themeColorMap.primary,cancelColor:o.themeColorMap.weak},e)).then((function(e){return!!e.confirm})).catch((function(){return!1}))];case 1:return[2,t.sent()]}}))}))},hideModal:function(){return this.hideToast()},alert:function(e,t){return void 0===t&&(t={}),r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(r){switch(r.label){case 0:return[4,this.showModal(Object.assign({content:e,showCancel:!1},t))];case 1:return[2,"boolean"==typeof r.sent()]}}))}))},confirm:function(e,t,o){return void 0===t&&(t=""),void 0===o&&(o={}),r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(r){return[2,this.showModal(Object.assign({title:e,content:t},o))]}))}))},showLoading:function(e,t){return void 0===e&&(e=""),e.endsWith("")||e.endsWith("...")||(e+=""),n.pify(wx.showLoading)(r.__assign({title:e},t))},showInfo:function(e,t){void 0===t&&(t={});var o=t.duration,n=void 0===o?1500:o,i=r.__rest(t,["duration"]);return this.show(r.__assign({title:e,mode:"none",duration:n},i))},showError:function(e,t){return r.__awaiter(this,void 0,void 0,(function(){var o;return r.__generator(this,(function(n){return(null==e?void 0:e.errMsg)&&/cancel/.test(e.errMsg)?[2]:(this.hideToast(),o="",e&&(o=this.getErrorMsg(e,t))?[2,this.showInfo(o,r.__assign(r.__assign({},t),{duration:3e3}))]:[2])}))}))},getErrorMsg:function(e,t){var r=void 0===t?{}:t,o=r.defaultMsg,n=void 0===o?"":o,s=r.errMsgKey,c=void 0===s?"msg":s;return function(){if(e){var t="";return"string"==typeof e?e:(console.log(e,e.stack),i.isPlainObject(e)&&(t=e[c]||e.Message||e.msg||e.message||e.errMsg||"",e.reqId?t+="("+e.reqId+")":e.code&&!a.test(t)&&(t+="("+e.code+")")),t||(t=n||""),t)}}()},show:function(e){var t=e.text,r=e.title,o=e.icon,n=e.image,s=e.duration,a=e.mask,c=e.mode,l=e.waitForHide,u=void 0!==l&&l;if(!o&&c&&(o=c),t&&!r&&(r=t),wx.showToast({title:r,icon:o,image:n,duration:s,mask:a}),u)return i.delay(s)},hide:function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return[4,this.hideLoading()];case 1:return e.sent(),[4,this.hideInfo()];case 2:return e.sent(),[2]}}))}))},hideLoading:function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,n.pify(wx.hideLoading)()];case 1:case 2:return e.sent(),[3,3];case 3:return[2]}}))}))},hideToast:function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,n.pify(wx.hideToast)()];case 1:case 2:return e.sent(),[3,3];case 3:return[2]}}))}))},hideInfo:function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.hideToast()]}))}))}}})),s.register("AVmHb",(function(e,t){"use strict";var r,o,n,i,s,a,c;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.themeColorMap=e.exports.SmartConfigStepMsg=e.exports.SoftApStepMsg=e.exports.ConnectDeviceStepCode=e.exports.SmartConfigErrorMsg=e.exports.SoftApErrorMsg=e.exports.ConnectDeviceErrorCode=e.exports.ErrorCode=e.exports.EventTypes=void 0,(c=e.exports.EventTypes||(e.exports.EventTypes={})).Ready="ready",c.Error="error",c.LoginStateChange="LoginStateChange",c.WsError="wsError",c.WsClose="wsClose",c.WsPush="wsPush",c.WsReport="wsReport",c.WsControl="wsControl",c.WsStatusChange="wsStatusChange",c.WsDeviceBind="wsDeviceBind",c.WsDeviceUnbind="wsDeviceUnbind",c.WsEventReport="wsEventReport",c.WsActionReport="wsActionReport",c.WsActionPush="wsActionPush",c.WsSubDeviceChange="wsSubDeviceChange",c.WsSubDeviceBind="wsSubDeviceBind",c.WsSubDeviceUnbind="wsSubDeviceUnbind",function(e){e.WX_API_NEED_AUTH="WX_API_NEED_AUTH",e.GET_USERINFO_NEED_AUTH="GET_USERINFO_NEED_AUTH",e.WX_API_FAIL="WX_API_FAIL",e.VERIFY_LOGIN_FAIL="VERIFY_LOGIN_FAIL",e.INTERNAL_ERROR="INTERNAL_ERROR"}(e.exports.ErrorCode||(e.exports.ErrorCode={})),function(e){e.UDP_NOT_RESPONSED="UDP_NOT_RESPONSED",e.SSID_NOT_MATCH="SSID_NOT_MATCH",e.CONNECT_SOFTAP_FAIL="CONNECT_SOFTAP_FAIL",e.CONNECT_TARGET_WIFI_FAIL="CONNECT_TARGET_WIFI_FAIL",e.UDP_ERROR="UDP_ERROR",e.DEVICE_ERROR="DEVICE_ERROR",e.INVALID_UDP_RESPONSE="INVALID_UDP_RESPONSE",e.DEVICE_CONNECT_MQTT_FAIL="DEVICE_CONNECT_MQTT_FAIL",e.DEVICE_CONNECT_WIFI_FAIL="DEVICE_CONNECT_WIFI_FAIL",e.ADD_DEVICE_FAIL="ADD_DEVICE_FAIL",e.SEND_UDP_MSG_FAIL="SEND_UDP_MSG_FAIL",e.QUERY_BIND_TOKEN_TIMEOUT="QUERY_BIND_TOKEN_TIMEOUT",e.QUERY_BIND_TOKEN_FAIL="QUERY_BIND_TOKEN_FAIL",e.DEVICE_RESP_TIMOUT="DEVICE_RESP_TIMOUT",e.CONNECT_DEVICE_ERROR="CONNECT_DEVICE_ERROR",e.SMART_CONFIG_FAIL="SMART_CONFIG_FAIL",e.SMART_CONFIG_TIMEOUT="SMART_CONFIG_TIMEOUT",e.SMART_CONFIG_INVALID_RESPONSE="SMART_CONFIG_INVALID_RESPONSE"}(s=e.exports.ConnectDeviceErrorCode||(e.exports.ConnectDeviceErrorCode={})),e.exports.SoftApErrorMsg=((r={})[s.UDP_NOT_RESPONSED]="",r[s.CONNECT_SOFTAP_FAIL]="",r[s.CONNECT_TARGET_WIFI_FAIL]="WiFi",r[s.UDP_ERROR]="",r[s.DEVICE_ERROR]="",r[s.INVALID_UDP_RESPONSE]="",r[s.DEVICE_CONNECT_MQTT_FAIL]="",r[s.DEVICE_CONNECT_WIFI_FAIL]="WiFi",r[s.ADD_DEVICE_FAIL]="",r[s.SEND_UDP_MSG_FAIL]="",r[s.QUERY_BIND_TOKEN_TIMEOUT]="",r[s.QUERY_BIND_TOKEN_FAIL]="",r),e.exports.SmartConfigErrorMsg=Object.assign({},e.exports.SoftApErrorMsg,((o={})[s.DEVICE_RESP_TIMOUT]="",o[s.CONNECT_DEVICE_ERROR]="",o[s.SMART_CONFIG_FAIL]="SmartConfig",o[s.SMART_CONFIG_TIMEOUT]="SmartConfig",o[s.SMART_CONFIG_INVALID_RESPONSE]="SmartConfig",o)),function(e){e.CONNECT_DEVICE_START="CONNECT_DEVICE_START",e.CONNECT_SOFTAP_START="CONNECT_SOFTAP_START",e.CONNECT_SOFTAP_SUCCESS="CONNECT_SOFTAP_SUCCESS",e.CONNECT_SMARTCONFIG_START="CONNECT_SMARTCONFIG_START",e.CONNECT_SMARTCONFIG_SUCCESS="CONNECT_SMARTCONFIG_SUCCESS",e.CREATE_UDP_CONNECTION_START="CREATE_UDP_CONNECTION_START",e.CREATE_UDP_CONNECTION_SUCCESS="CREATE_UDP_CONNECTION_SUCCESS",e.SEND_TARGET_WIFIINFO_START="SEND_TARGET_WIFIINFO_START",e.SEND_TARGET_WIFIINFO_SUCCESS="SEND_TARGET_WIFIINFO_SUCCESS",e.GET_DEVICE_SIGNATURE_START="GET_DEVICE_SIGNATURE_START",e.GET_DEVICE_SIGNATURE_SUCCESS="GET_DEVICE_SIGNATURE_SUCCESS",e.CONNECT_TARGET_WIFI_START="RECONNECT_TARGET_WIFI_START",e.CONNECT_TARGET_WIFI_SUCCESS="RECONNECT_TARGET_WIFI_SUCCESS",e.ADD_DEVICE_START="ADD_DEVICE_START",e.ADD_DEVICE_SUCCESS="ADD_DEVICE_SUCCESS",e.CONNECT_DEVICE_SUCCESS="CONNECT_DEVICE_SUCCESS",e.QUERY_TOKEN_STATE_START="QUERY_TOKEN_STATE_START",e.QUERY_TOKEN_STATE_SUCCESS="QUERY_TOKEN_STATE_SUCCESS",e.SMARTCONFIG_SEND_TOKEN_START="SMARTCONFIG_SEND_TOKEN_START",e.SMARTCONFIG_SEND_TOKEN_SUCCESS="SMARTCONFIG_SEND_TOKEN_SUCCESS"}(a=e.exports.ConnectDeviceStepCode||(e.exports.ConnectDeviceStepCode={})),e.exports.SoftApStepMsg=((n={})[a.CONNECT_DEVICE_START]="",n[a.CONNECT_SOFTAP_START]="",n[a.CONNECT_SOFTAP_SUCCESS]="",n[a.CREATE_UDP_CONNECTION_START]="UDP",n[a.CREATE_UDP_CONNECTION_SUCCESS]="UDP",n[a.SEND_TARGET_WIFIINFO_START]="WiFi",n[a.SEND_TARGET_WIFIINFO_SUCCESS]="WiFi",n[a.GET_DEVICE_SIGNATURE_START]="",n[a.GET_DEVICE_SIGNATURE_SUCCESS]="",n[a.CONNECT_TARGET_WIFI_START]="WiFi",n[a.CONNECT_TARGET_WIFI_SUCCESS]="WiFi",n[a.ADD_DEVICE_START]="",n[a.ADD_DEVICE_SUCCESS]="",n[a.CONNECT_DEVICE_SUCCESS]="",n),e.exports.SmartConfigStepMsg=((i={})[a.CONNECT_DEVICE_START]="",i[a.CONNECT_SMARTCONFIG_START]="WI-FI",i[a.CONNECT_SMARTCONFIG_SUCCESS]="",i[a.CREATE_UDP_CONNECTION_START]="UDP",i[a.CREATE_UDP_CONNECTION_SUCCESS]="UDP",i[a.SMARTCONFIG_SEND_TOKEN_START]="token",i[a.SMARTCONFIG_SEND_TOKEN_SUCCESS]="token",i[a.QUERY_TOKEN_STATE_START]="",i[a.QUERY_TOKEN_STATE_SUCCESS]="",i[a.ADD_DEVICE_START]="",i[a.ADD_DEVICE_SUCCESS]="",i[a.CONNECT_DEVICE_SUCCESS]="",i),e.exports.themeColorMap={primary:"#0052d9",success:"#29cc85",grey:"#bbb",danger:"#ff584c",weak:"#888",muted:"#bbb"}})),s.register("4Ear4",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.pify=void 0;var r=s("983NH");e.exports.pify=function(e,t){return void 0===t&&(t=wx),function(o){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return new Promise((function(i,s){e?e.call.apply(e,r.__spread([t,r.__assign(r.__assign({},o),{success:i,fail:s})],n)):wx.showModal({title:"",content:"",complete:function(){return s()},confirmColor:"#006eff",showCancel:!1})}))}}})),s.register("2TgUi",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.hexToArrayBuffer=e.exports.arrayBufferToHexStringArray=e.exports.hexToStr=e.exports.tryCallHandler=e.exports.isObject=e.exports.isEmpty=e.exports.isArray=e.exports.getType=e.exports.fetchAllList=e.exports.jsonp2json=e.exports.cutoffLong=e.exports.showModal=e.exports.hasModalShow=e.exports.isPlainObject=e.exports.getErrorMsg=e.exports.noop=e.exports.genPromise=e.exports.delay=e.exports.appendParams=void 0;var r=s("983NH"),o=s("AVmHb"),n=s("bXSEl");e.exports.appendParams=function(t,r){void 0===r&&(r={});var o=[];return Object.keys(r).forEach((function(t){var n=r[t];if(void 0!==n){if(e.exports.isPlainObject(n))try{n=JSON.stringify(n)}catch(e){}o.push(t+"="+encodeURIComponent(n))}})),o.length?(t.indexOf("?")>-1?t+"&":t+"?")+o.join("&"):t},e.exports.delay=function(e){return new Promise((function(t){return setTimeout(t,e)}))},e.exports.genPromise=function(){var e,t;return{promise:new Promise((function(r,o){e=r,t=o})),resolve:e,reject:t}},e.exports.noop=function(){},e.exports.getErrorMsg=function(e){if(e){var t="";return"string"==typeof e?e:(t=e.msg||e.Message||e.message||e.errMsg||"",e.reqId&&(t+="("+e.reqId+")"),t||(t=""),t)}},e.exports.isPlainObject=function(e){if("object"!=(void 0===e?"undefined":typeof e)||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},e.exports.hasModalShow=!1,e.exports.showModal=function(t,n,i){void 0===n&&(n="");var s=i.confirmText,a=void 0===s?"":s,c=i.confirmColor,l=void 0===c?o.themeColorMap.primary:c,u=i.cancelText,d=void 0===u?"":u,p=i.cancelColor,f=void 0===p?o.themeColorMap.weak:p,h=r.__rest(i,["confirmText","confirmColor","cancelText","cancelColor"]);return wx.hideToast(),e.exports.hasModalShow=!0,new Promise((function(o){wx.showModal(r.__assign(r.__assign({title:t,content:n,confirmText:a,confirmColor:l,cancelColor:f,cancelText:d},h),{success:function(e){var t=e.confirm;o(!!t)},fail:function(){o(!1)},complete:function(){e.exports.hasModalShow=!1}}))}))},e.exports.cutoffLong=function(e,t,r,o){void 0===t&&(t=4096),void 0===r&&(r=10),void 0===o&&(o=20);try{function i(e,t,r){return e?"string"==typeof e&&e.length>t?e.substr(0,t)+"... ("+(e.length-t)+" characters truncated)":Array.isArray(e)?e.length>r?e.slice(0,r).map((function(e){return i(e,t,r)})).concat("... ("+(e.length-r)+" items truncated)"):e:"object"==typeof e?Object.keys(e).reduce((function(n,s,a,c){return a<o?n[s]=i(e[s],t,r):a===o&&(n[c.length-o+" keys truncated"]=1),n}),{}):e:e}return i(e,t,r)}catch(s){return n.logger.debug("cutoffLong fail",s),e}},e.exports.jsonp2json=function(e){var t=e.indexOf("("),r={};if(t>-1)try{"'"===(e=e.substring(t+1,e.length-1))[0]&&"'"===e[e.length-1]&&(e=e.substring(1,e.length-1)),r=JSON.parse(e)}catch(e){console.error(e)}return r},e.exports.fetchAllList=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t,o,n,i,s;return r.__generator(this,(function(r){switch(r.label){case 0:t=100,o=0,n=100,i=[],r.label=1;case 1:return 0===o||i.length<n?[4,e({offset:o,limit:t})]:[3,3];case 2:return(s=r.sent()).list.length?(n=s.total,o+=t,i=i.concat(s.list),[3,1]):[2,i];case 3:return[2,i]}}))}))};var i=/^\[object\s(\w+)\]$/;function a(e){var t=Object.prototype.toString.call(e).toLowerCase().match(i);return t?t[1]:"unknown"}e.exports.getType=a,e.exports.isArray=function(e){return"array"===a(e)},e.exports.isEmpty=function(e){if(!e)return!0;if(Array.isArray(e))return 0===e.length;for(var t in e)return!1;return!0},e.exports.isObject=function(e){var t=typeof e;return("function"===t||"object"===t)&&!!e},e.exports.tryCallHandler=function(e,t){for(var o=[],n=2;n<arguments.length;n++)o[n-2]=arguments[n];"function"==typeof e["_"+t+"Handler"]&&e["_"+t+"Handler"].apply(e,r.__spread(o))},e.exports.hexToStr=function(e){var t,r=String(e).trim(),o="0x"===r.substr(0,2).toLowerCase()?r.substr(2):r,n=o.length;if(n%2!=0)throw"Illegal Format ASCII Code";for(var i=[],s=0;s<n;s+=2)t=parseInt(o.substr(s,2),16),i.push(String.fromCharCode(t));return i.join("")},e.exports.arrayBufferToHexStringArray=function(e){try{if(Array.isArray(e)&&e.every((function(e){return"string"==typeof e})))return e;if("string"==typeof e){var t=[""];return e.split("").forEach((function(e,r){t[t.length-1]+=e,r%2&&t.push("")})),t.splice(t.length-1,1),t}if("[object ArrayBuffer]"!==Object.prototype.toString.call(e))throw"invalid array buffer";for(var r=new DataView(e),o=[],n=0,i=r.byteLength;n<i;n++){var s=(255&r.getUint8(n)).toString(16);s=1===s.length?"0"+s:s,o.push(s.toUpperCase())}return o}catch(e){return console.error("arrayBufferToHexStringArray error",e),[]}},e.exports.hexToArrayBuffer=function(e){return new Uint8Array(e.match(/[\da-f]{2}/gi).map((function(e){return parseInt(e,16)}))).buffer}})),s.register("bXSEl",(function(e,t){"use strict";var r,o;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.logger=e.exports.LogLevel=void 0;var n,i=s("2TgUi");(n=o=e.exports.LogLevel||(e.exports.LogLevel={})).Debug="Debug",n.Info="Info",n.Warn="Warn",n.Error="Error";var a=((r={})[o.Debug]=console.log,r[o.Info]=console.info,r[o.Warn]=console.warn,r[o.Error]=console.error,r),c=function(){function e(){this.options={debug:!1}}return e.prototype._getLogger=function(e){return e in o||(e=o.Debug),this.options.debug?a[e].bind(console,"["+e+"]"):i.noop},e.prototype.config=function(e){Object.assign(this.options,e)},Object.defineProperty(e.prototype,"info",{get:function(){return this._getLogger(o.Info)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"debug",{get:function(){return this._getLogger(o.Debug)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"warn",{get:function(){return this._getLogger(o.Warn)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"error",{get:function(){return this._getLogger(o.Error)},enumerable:!1,configurable:!0}),e}();e.exports.logger=new c})),s.register("2Mw0K",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0});e.exports.default=function(){var e,t,r,o,n,i,s,a,c,l,u,d,p,f,h,v,g,_,m,E,y,T,b,C,I,x,A,S,D,w,O,N,R,B,P,L,U,V=V||(o=Math,n=Object.create||function(){function e(){}return function(t){var r;return e.prototype=t,r=new e,e.prototype=null,r}}(),s=(i={}).lib={},a=s.Base={extend:function(e){var t=n(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},c=s.WordArray=a.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||u).stringify(this)},concat:function(e){var t=this.words,r=e.words,o=this.sigBytes,n=e.sigBytes;if(this.clamp(),o%4)for(var i=0;i<n;i++){var s=r[i>>>2]>>>24-i%4*8&255;t[o+i>>>2]|=s<<24-(o+i)%4*8}else for(i=0;i<n;i+=4)t[o+i>>>2]=r[i>>>2];return this.sigBytes+=n,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=o.ceil(t/4)},clone:function(){var e=a.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t,r=[],n=function(e){var t=987654321,r=4294967295;return function(){var n=((t=36969*(65535&t)+(t>>16)&r)<<16)+(e=18e3*(65535&e)+(e>>16)&r)&r;return n/=4294967296,(n+=.5)*(o.random()>.5?1:-1)}},i=0;i<e;i+=4){var s=n(4294967296*(t||o.random()));t=987654071*s(),r.push(4294967296*s()|0)}return new c.init(r,e)}}),l=i.enc={},u=l.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,o=[],n=0;n<r;n++){var i=t[n>>>2]>>>24-n%4*8&255;o.push((i>>>4).toString(16)),o.push((15&i).toString(16))}return o.join("")},parse:function(e){for(var t=e.length,r=[],o=0;o<t;o+=2)r[o>>>3]|=parseInt(e.substr(o,2),16)<<24-o%8*4;return new c.init(r,t/2)}},d=l.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,o=[],n=0;n<r;n++){var i=t[n>>>2]>>>24-n%4*8&255;o.push(String.fromCharCode(i))}return o.join("")},parse:function(e){for(var t=e.length,r=[],o=0;o<t;o++)r[o>>>2]|=(255&e.charCodeAt(o))<<24-o%4*8;return new c.init(r,t)}},p=l.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}},f=s.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=p.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t=this._data,r=t.words,n=t.sigBytes,i=this.blockSize,s=n/(4*i),a=(s=e?o.ceil(s):o.max((0|s)-this._minBufferSize,0))*i,l=o.min(4*a,n);if(a){for(var u=0;u<a;u+=i)this._doProcessBlock(r,u);var d=r.splice(0,a);t.sigBytes-=l}return new c.init(d,l)},clone:function(){var e=a.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),s.Hasher=f.extend({cfg:a.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new h.HMAC.init(e,r).finalize(t)}}}),h=i.algo={},i);if(U=(L=V).lib.WordArray,L.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,o=this._map;e.clamp();for(var n=[],i=0;i<r;i+=3)for(var s=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,a=0;a<4&&i+.75*a<r;a++)n.push(o.charAt(s>>>6*(3-a)&63));var c=o.charAt(64);if(c)for(;n.length%4;)n.push(c);return n.join("")},parse:function(e){var t=e.length,r=this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var n=0;n<r.length;n++)o[r.charCodeAt(n)]=n}var i=r.charAt(64);if(i){var s=e.indexOf(i);-1!==s&&(t=s)}return function(e,t,r){for(var o=[],n=0,i=0;i<t;i++)if(i%4){var s=r[e.charCodeAt(i-1)]<<i%4*2,a=r[e.charCodeAt(i)]>>>6-i%4*2;o[n>>>2]|=(s|a)<<24-n%4*8,n++}return U.create(o,n)}(e,t,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(e){var t=V,r=t.lib,o=r.WordArray,n=r.Hasher,i=t.algo,s=[];!function(){for(var t=0;t<64;t++)s[t]=4294967296*e.abs(e.sin(t+1))|0}();var a=i.MD5=n.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var o=t+r,n=e[o];e[o]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8)}var i=this._hash.words,a=e[t+0],p=e[t+1],f=e[t+2],h=e[t+3],v=e[t+4],g=e[t+5],_=e[t+6],m=e[t+7],E=e[t+8],y=e[t+9],T=e[t+10],b=e[t+11],C=e[t+12],I=e[t+13],x=e[t+14],A=e[t+15],S=i[0],D=i[1],w=i[2],O=i[3];S=c(S,D,w,O,a,7,s[0]),O=c(O,S,D,w,p,12,s[1]),w=c(w,O,S,D,f,17,s[2]),D=c(D,w,O,S,h,22,s[3]),S=c(S,D,w,O,v,7,s[4]),O=c(O,S,D,w,g,12,s[5]),w=c(w,O,S,D,_,17,s[6]),D=c(D,w,O,S,m,22,s[7]),S=c(S,D,w,O,E,7,s[8]),O=c(O,S,D,w,y,12,s[9]),w=c(w,O,S,D,T,17,s[10]),D=c(D,w,O,S,b,22,s[11]),S=c(S,D,w,O,C,7,s[12]),O=c(O,S,D,w,I,12,s[13]),w=c(w,O,S,D,x,17,s[14]),S=l(S,D=c(D,w,O,S,A,22,s[15]),w,O,p,5,s[16]),O=l(O,S,D,w,_,9,s[17]),w=l(w,O,S,D,b,14,s[18]),D=l(D,w,O,S,a,20,s[19]),S=l(S,D,w,O,g,5,s[20]),O=l(O,S,D,w,T,9,s[21]),w=l(w,O,S,D,A,14,s[22]),D=l(D,w,O,S,v,20,s[23]),S=l(S,D,w,O,y,5,s[24]),O=l(O,S,D,w,x,9,s[25]),w=l(w,O,S,D,h,14,s[26]),D=l(D,w,O,S,E,20,s[27]),S=l(S,D,w,O,I,5,s[28]),O=l(O,S,D,w,f,9,s[29]),w=l(w,O,S,D,m,14,s[30]),S=u(S,D=l(D,w,O,S,C,20,s[31]),w,O,g,4,s[32]),O=u(O,S,D,w,E,11,s[33]),w=u(w,O,S,D,b,16,s[34]),D=u(D,w,O,S,x,23,s[35]),S=u(S,D,w,O,p,4,s[36]),O=u(O,S,D,w,v,11,s[37]),w=u(w,O,S,D,m,16,s[38]),D=u(D,w,O,S,T,23,s[39]),S=u(S,D,w,O,I,4,s[40]),O=u(O,S,D,w,a,11,s[41]),w=u(w,O,S,D,h,16,s[42]),D=u(D,w,O,S,_,23,s[43]),S=u(S,D,w,O,y,4,s[44]),O=u(O,S,D,w,C,11,s[45]),w=u(w,O,S,D,A,16,s[46]),S=d(S,D=u(D,w,O,S,f,23,s[47]),w,O,a,6,s[48]),O=d(O,S,D,w,m,10,s[49]),w=d(w,O,S,D,x,15,s[50]),D=d(D,w,O,S,g,21,s[51]),S=d(S,D,w,O,C,6,s[52]),O=d(O,S,D,w,h,10,s[53]),w=d(w,O,S,D,T,15,s[54]),D=d(D,w,O,S,p,21,s[55]),S=d(S,D,w,O,E,6,s[56]),O=d(O,S,D,w,A,10,s[57]),w=d(w,O,S,D,_,15,s[58]),D=d(D,w,O,S,I,21,s[59]),S=d(S,D,w,O,v,6,s[60]),O=d(O,S,D,w,b,10,s[61]),w=d(w,O,S,D,f,15,s[62]),D=d(D,w,O,S,y,21,s[63]),i[0]=i[0]+S|0,i[1]=i[1]+D|0,i[2]=i[2]+w|0,i[3]=i[3]+O|0},_doFinalize:function(){var t=this._data,r=t.words,o=8*this._nDataBytes,n=8*t.sigBytes;r[n>>>5]|=128<<24-n%32;var i=e.floor(o/4294967296),s=o;r[15+(n+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),r[14+(n+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),t.sigBytes=4*(r.length+1),this._process();for(var a=this._hash,c=a.words,l=0;l<4;l++){var u=c[l];c[l]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return a},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}});function c(e,t,r,o,n,i,s){var a=e+(t&r|~t&o)+n+s;return(a<<i|a>>>32-i)+t}function l(e,t,r,o,n,i,s){var a=e+(t&o|r&~o)+n+s;return(a<<i|a>>>32-i)+t}function u(e,t,r,o,n,i,s){var a=e+(t^r^o)+n+s;return(a<<i|a>>>32-i)+t}function d(e,t,r,o,n,i,s){var a=e+(r^(t|~o))+n+s;return(a<<i|a>>>32-i)+t}t.MD5=n._createHelper(a),t.HmacMD5=n._createHmacHelper(a)}(Math),w=(D=V).lib,O=w.WordArray,N=w.Hasher,R=D.algo,B=[],P=R.SHA1=N.extend({_doReset:function(){this._hash=new O.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=this._hash.words,o=r[0],n=r[1],i=r[2],s=r[3],a=r[4],c=0;c<80;c++){if(c<16)B[c]=0|e[t+c];else{var l=B[c-3]^B[c-8]^B[c-14]^B[c-16];B[c]=l<<1|l>>>31}var u=(o<<5|o>>>27)+a+B[c];u+=c<20?1518500249+(n&i|~n&s):c<40?1859775393+(n^i^s):c<60?(n&i|n&s|i&s)-1894007588:(n^i^s)-899497514,a=s,s=i,i=n<<30|n>>>2,n=o,o=u}r[0]=r[0]+o|0,r[1]=r[1]+n|0,r[2]=r[2]+i|0,r[3]=r[3]+s|0,r[4]=r[4]+a|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,o=8*e.sigBytes;return t[o>>>5]|=128<<24-o%32,t[14+(o+64>>>9<<4)]=Math.floor(r/4294967296),t[15+(o+64>>>9<<4)]=r,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=N.clone.call(this);return e._hash=this._hash.clone(),e}}),D.SHA1=N._createHelper(P),D.HmacSHA1=N._createHmacHelper(P),function(e){var t=V,r=t.lib,o=r.WordArray,n=r.Hasher,i=t.algo,s=[],a=[];!function(){function t(t){for(var r=e.sqrt(t),o=2;o<=r;o++)if(!(t%o))return!1;return!0}function r(e){return 4294967296*(e-(0|e))|0}for(var o=2,n=0;n<64;)t(o)&&(n<8&&(s[n]=r(e.pow(o,.5))),a[n]=r(e.pow(o,1/3)),n++),o++}();var c=[],l=i.SHA256=n.extend({_doReset:function(){this._hash=new o.init(s.slice(0))},_doProcessBlock:function(e,t){for(var r=this._hash.words,o=r[0],n=r[1],i=r[2],s=r[3],l=r[4],u=r[5],d=r[6],p=r[7],f=0;f<64;f++){if(f<16)c[f]=0|e[t+f];else{var h=c[f-15],v=(h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3,g=c[f-2],_=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;c[f]=v+c[f-7]+_+c[f-16]}var m=o&n^o&i^n&i,E=(o<<30|o>>>2)^(o<<19|o>>>13)^(o<<10|o>>>22),y=p+((l<<26|l>>>6)^(l<<21|l>>>11)^(l<<7|l>>>25))+(l&u^~l&d)+a[f]+c[f];p=d,d=u,u=l,l=s+y|0,s=i,i=n,n=o,o=y+(E+m)|0}r[0]=r[0]+o|0,r[1]=r[1]+n|0,r[2]=r[2]+i|0,r[3]=r[3]+s|0,r[4]=r[4]+l|0,r[5]=r[5]+u|0,r[6]=r[6]+d|0,r[7]=r[7]+p|0},_doFinalize:function(){var t=this._data,r=t.words,o=8*this._nDataBytes,n=8*t.sigBytes;return r[n>>>5]|=128<<24-n%32,r[14+(n+64>>>9<<4)]=e.floor(o/4294967296),r[15+(n+64>>>9<<4)]=o,t.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=n._createHelper(l),t.HmacSHA256=n._createHmacHelper(l)}(Math),function(){var e=V,t=e.lib.WordArray,r=e.enc;function o(e){return e<<8&4278255360|e>>>8&16711935}r.Utf16=r.Utf16BE={stringify:function(e){for(var t=e.words,r=e.sigBytes,o=[],n=0;n<r;n+=2){var i=t[n>>>2]>>>16-n%4*8&65535;o.push(String.fromCharCode(i))}return o.join("")},parse:function(e){for(var r=e.length,o=[],n=0;n<r;n++)o[n>>>1]|=e.charCodeAt(n)<<16-n%2*16;return t.create(o,2*r)}},r.Utf16LE={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i+=2){var s=o(t[i>>>2]>>>16-i%4*8&65535);n.push(String.fromCharCode(s))}return n.join("")},parse:function(e){for(var r=e.length,n=[],i=0;i<r;i++)n[i>>>1]|=o(e.charCodeAt(i)<<16-i%2*16);return t.create(n,2*r)}}}(),function(){if("function"==typeof ArrayBuffer){var e=V.lib.WordArray,t=e.init,r=e.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var r=e.byteLength,o=[],n=0;n<r;n++)o[n>>>2]|=e[n]<<24-n%4*8;t.call(this,o,r)}else t.apply(this,arguments)};r.prototype=e}}(),
/** @preserve
    (c) 2012 by Cdric Mesnil. All rights reserved.
  
    Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
  
        - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
        - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
  
    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
    */
function(e){var t=V,r=t.lib,o=r.WordArray,n=r.Hasher,i=t.algo,s=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),a=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),c=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),l=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),u=o.create([0,1518500249,1859775393,2400959708,2840853838]),d=o.create([1352829926,1548603684,1836072691,2053994217,0]),p=i.RIPEMD160=n.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var o=t+r,n=e[o];e[o]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8)}var i,p,E,y,T,b,C,I,x,A,S,D=this._hash.words,w=u.words,O=d.words,N=s.words,R=a.words,B=c.words,P=l.words;for(b=i=D[0],C=p=D[1],I=E=D[2],x=y=D[3],A=T=D[4],r=0;r<80;r+=1)S=i+e[t+N[r]]|0,S+=r<16?f(p,E,y)+w[0]:r<32?h(p,E,y)+w[1]:r<48?v(p,E,y)+w[2]:r<64?g(p,E,y)+w[3]:_(p,E,y)+w[4],S=(S=m(S|=0,B[r]))+T|0,i=T,T=y,y=m(E,10),E=p,p=S,S=b+e[t+R[r]]|0,S+=r<16?_(C,I,x)+O[0]:r<32?g(C,I,x)+O[1]:r<48?v(C,I,x)+O[2]:r<64?h(C,I,x)+O[3]:f(C,I,x)+O[4],S=(S=m(S|=0,P[r]))+A|0,b=A,A=x,x=m(I,10),I=C,C=S;S=D[1]+E+x|0,D[1]=D[2]+y+A|0,D[2]=D[3]+T+b|0,D[3]=D[4]+i+C|0,D[4]=D[0]+p+I|0,D[0]=S},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,o=8*e.sigBytes;t[o>>>5]|=128<<24-o%32,t[14+(o+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),e.sigBytes=4*(t.length+1),this._process();for(var n=this._hash,i=n.words,s=0;s<5;s++){var a=i[s];i[s]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}return n},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}});function f(e,t,r){return e^t^r}function h(e,t,r){return e&t|~e&r}function v(e,t,r){return(e|~t)^r}function g(e,t,r){return e&r|t&~r}function _(e,t,r){return e^(t|~r)}function m(e,t){return e<<t|e>>>32-t}t.RIPEMD160=n._createHelper(p),t.HmacRIPEMD160=n._createHmacHelper(p)}(Math),A=(x=V).lib.Base,S=x.enc.Utf8,x.algo.HMAC=A.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=S.parse(t));var r=e.blockSize,o=4*r;t.sigBytes>o&&(t=e.finalize(t)),t.clamp();for(var n=this._oKey=t.clone(),i=this._iKey=t.clone(),s=n.words,a=i.words,c=0;c<r;c++)s[c]^=1549556828,a[c]^=909522486;n.sigBytes=i.sigBytes=o,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,r=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(r))}}),m=(_=V).lib,E=m.Base,y=m.WordArray,T=_.algo,b=T.SHA1,C=T.HMAC,I=T.PBKDF2=E.extend({cfg:E.extend({keySize:4,hasher:b,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r=this.cfg,o=C.create(r.hasher,e),n=y.create(),i=y.create([1]),s=n.words,a=i.words,c=r.keySize,l=r.iterations;s.length<c;){var u=o.update(t).finalize(i);o.reset();for(var d=u.words,p=d.length,f=u,h=1;h<l;h++){f=o.finalize(f),o.reset();for(var v=f.words,g=0;g<p;g++)d[g]^=v[g]}n.concat(u),a[0]++}return n.sigBytes=4*c,n}}),_.PBKDF2=function(e,t,r){return I.create(r).compute(e,t)},function(){var e=V,t=e.lib,r=t.Base,o=t.WordArray,n=e.algo,i=n.MD5,s=n.EvpKDF=r.extend({cfg:r.extend({keySize:4,hasher:i,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r=this.cfg,n=r.hasher.create(),i=o.create(),s=i.words,a=r.keySize,c=r.iterations;s.length<a;){l&&n.update(l);var l=n.update(e).finalize(t);n.reset();for(var u=1;u<c;u++)l=n.finalize(l),n.reset();i.concat(l)}return i.sigBytes=4*a,i}});e.EvpKDF=function(e,t,r){return s.create(r).compute(e,t)}}(),function(){var e=V,t=e.lib.WordArray,r=e.algo,o=r.SHA256,n=r.SHA224=o.extend({_doReset:function(){this._hash=new t.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=o._doFinalize.call(this);return e.sigBytes-=4,e}});e.SHA224=o._createHelper(n),e.HmacSHA224=o._createHmacHelper(n)}(),function(e){var t=V,r=t.lib,o=r.Base,n=r.WordArray,i=t.x64={};i.Word=o.extend({init:function(e,t){this.high=e,this.low=t}}),i.WordArray=o.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,r=[],o=0;o<t;o++){var i=e[o];r.push(i.high),r.push(i.low)}return n.create(r,this.sigBytes)},clone:function(){for(var e=o.clone.call(this),t=e.words=this.words.slice(0),r=t.length,n=0;n<r;n++)t[n]=t[n].clone();return e}})}(),function(e){var t=V,r=t.lib,o=r.WordArray,n=r.Hasher,i=t.x64.Word,s=t.algo,a=[],c=[],l=[];!function(){for(var e=1,t=0,r=0;r<24;r++){a[e+5*t]=(r+1)*(r+2)/2%64;var o=(2*e+3*t)%5;e=t%5,t=o}for(e=0;e<5;e++)for(t=0;t<5;t++)c[e+5*t]=t+(2*e+3*t)%5*5;for(var n=1,s=0;s<24;s++){for(var u=0,d=0,p=0;p<7;p++){if(1&n){var f=(1<<p)-1;f<32?d^=1<<f:u^=1<<f-32}128&n?n=n<<1^113:n<<=1}l[s]=i.create(u,d)}}();var u=[];!function(){for(var e=0;e<25;e++)u[e]=i.create()}();var d=s.SHA3=n.extend({cfg:n.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new i.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var r=this._state,o=this.blockSize/2,n=0;n<o;n++){var i=e[t+2*n],s=e[t+2*n+1];i=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),s=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),(D=r[n]).high^=s,D.low^=i}for(var d=0;d<24;d++){for(var p=0;p<5;p++){for(var f=0,h=0,v=0;v<5;v++)f^=(D=r[p+5*v]).high,h^=D.low;var g=u[p];g.high=f,g.low=h}for(p=0;p<5;p++){var _=u[(p+4)%5],m=u[(p+1)%5],E=m.high,y=m.low;for(f=_.high^(E<<1|y>>>31),h=_.low^(y<<1|E>>>31),v=0;v<5;v++)(D=r[p+5*v]).high^=f,D.low^=h}for(var T=1;T<25;T++){var b=(D=r[T]).high,C=D.low,I=a[T];I<32?(f=b<<I|C>>>32-I,h=C<<I|b>>>32-I):(f=C<<I-32|b>>>64-I,h=b<<I-32|C>>>64-I);var x=u[c[T]];x.high=f,x.low=h}var A=u[0],S=r[0];for(A.high=S.high,A.low=S.low,p=0;p<5;p++)for(v=0;v<5;v++){var D=r[T=p+5*v],w=u[T],O=u[(p+1)%5+5*v],N=u[(p+2)%5+5*v];D.high=w.high^~O.high&N.high,D.low=w.low^~O.low&N.low}D=r[0];var R=l[d];D.high^=R.high,D.low^=R.low}},_doFinalize:function(){var t=this._data,r=t.words,n=(this._nDataBytes,8*t.sigBytes),i=32*this.blockSize;r[n>>>5]|=1<<24-n%32,r[(e.ceil((n+1)/i)*i>>>5)-1]|=128,t.sigBytes=4*r.length,this._process();for(var s=this._state,a=this.cfg.outputLength/8,c=a/8,l=[],u=0;u<c;u++){var d=s[u],p=d.high,f=d.low;p=16711935&(p<<8|p>>>24)|4278255360&(p<<24|p>>>8),f=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),l.push(f),l.push(p)}return new o.init(l,a)},clone:function(){for(var e=n.clone.call(this),t=e._state=this._state.slice(0),r=0;r<25;r++)t[r]=t[r].clone();return e}});t.SHA3=n._createHelper(d),t.HmacSHA3=n._createHmacHelper(d)}(Math),function(){var e=V,t=e.lib.Hasher,r=e.x64,o=r.Word,n=r.WordArray,i=e.algo;function s(){return o.create.apply(o,arguments)}var a=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],c=[];!function(){for(var e=0;e<80;e++)c[e]=s()}();var l=i.SHA512=t.extend({_doReset:function(){this._hash=new n.init([new o.init(1779033703,4089235720),new o.init(3144134277,2227873595),new o.init(1013904242,4271175723),new o.init(2773480762,1595750129),new o.init(1359893119,2917565137),new o.init(2600822924,725511199),new o.init(528734635,4215389547),new o.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var r=this._hash.words,o=r[0],n=r[1],i=r[2],s=r[3],l=r[4],u=r[5],d=r[6],p=r[7],f=o.high,h=o.low,v=n.high,g=n.low,_=i.high,m=i.low,E=s.high,y=s.low,T=l.high,b=l.low,C=u.high,I=u.low,x=d.high,A=d.low,S=p.high,D=p.low,w=f,O=h,N=v,R=g,B=_,P=m,L=E,U=y,V=T,k=b,M=C,F=I,H=x,W=A,z=S,j=D,G=0;G<80;G++){var Y=c[G];if(G<16)var q=Y.high=0|e[t+2*G],$=Y.low=0|e[t+2*G+1];else{var X=c[G-15],K=X.high,Z=X.low,J=(K>>>1|Z<<31)^(K>>>8|Z<<24)^K>>>7,Q=(Z>>>1|K<<31)^(Z>>>8|K<<24)^(Z>>>7|K<<25),ee=c[G-2],te=ee.high,re=ee.low,oe=(te>>>19|re<<13)^(te<<3|re>>>29)^te>>>6,ne=(re>>>19|te<<13)^(re<<3|te>>>29)^(re>>>6|te<<26),ie=c[G-7],se=ie.high,ae=ie.low,ce=c[G-16],le=ce.high,ue=ce.low;q=(q=(q=J+se+(($=Q+ae)>>>0<Q>>>0?1:0))+oe+(($+=ne)>>>0<ne>>>0?1:0))+le+(($+=ue)>>>0<ue>>>0?1:0),Y.high=q,Y.low=$}var de,pe=V&M^~V&H,fe=k&F^~k&W,he=w&N^w&B^N&B,ve=O&R^O&P^R&P,ge=(w>>>28|O<<4)^(w<<30|O>>>2)^(w<<25|O>>>7),_e=(O>>>28|w<<4)^(O<<30|w>>>2)^(O<<25|w>>>7),me=(V>>>14|k<<18)^(V>>>18|k<<14)^(V<<23|k>>>9),Ee=(k>>>14|V<<18)^(k>>>18|V<<14)^(k<<23|V>>>9),ye=a[G],Te=ye.high,be=ye.low,Ce=z+me+((de=j+Ee)>>>0<j>>>0?1:0),Ie=_e+ve;z=H,j=W,H=M,W=F,M=V,F=k,V=L+(Ce=(Ce=(Ce=Ce+pe+((de+=fe)>>>0<fe>>>0?1:0))+Te+((de+=be)>>>0<be>>>0?1:0))+q+((de+=$)>>>0<$>>>0?1:0))+((k=U+de|0)>>>0<U>>>0?1:0)|0,L=B,U=P,B=N,P=R,N=w,R=O,w=Ce+(ge+he+(Ie>>>0<_e>>>0?1:0))+((O=de+Ie|0)>>>0<de>>>0?1:0)|0}h=o.low=h+O,o.high=f+w+(h>>>0<O>>>0?1:0),g=n.low=g+R,n.high=v+N+(g>>>0<R>>>0?1:0),m=i.low=m+P,i.high=_+B+(m>>>0<P>>>0?1:0),y=s.low=y+U,s.high=E+L+(y>>>0<U>>>0?1:0),b=l.low=b+k,l.high=T+V+(b>>>0<k>>>0?1:0),I=u.low=I+F,u.high=C+M+(I>>>0<F>>>0?1:0),A=d.low=A+W,d.high=x+H+(A>>>0<W>>>0?1:0),D=p.low=D+j,p.high=S+z+(D>>>0<j>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,o=8*e.sigBytes;return t[o>>>5]|=128<<24-o%32,t[30+(o+128>>>10<<5)]=Math.floor(r/4294967296),t[31+(o+128>>>10<<5)]=r,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=t.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});e.SHA512=t._createHelper(l),e.HmacSHA512=t._createHmacHelper(l)}(),function(){var e=V,t=e.x64,r=t.Word,o=t.WordArray,n=e.algo,i=n.SHA512,s=n.SHA384=i.extend({_doReset:function(){this._hash=new o.init([new r.init(3418070365,3238371032),new r.init(1654270250,914150663),new r.init(2438529370,812702999),new r.init(355462360,4144912697),new r.init(1731405415,4290775857),new r.init(2394180231,1750603025),new r.init(3675008525,1694076839),new r.init(1203062813,3204075428)])},_doFinalize:function(){var e=i._doFinalize.call(this);return e.sigBytes-=16,e}});e.SHA384=i._createHelper(s),e.HmacSHA384=i._createHmacHelper(s)}(),V.lib.Cipher||function(e){var t=V,r=t.lib,o=r.Base,n=r.WordArray,i=r.BufferedBlockAlgorithm,s=t.enc,a=(s.Utf8,s.Base64),c=t.algo.EvpKDF,l=r.Cipher=i.extend({cfg:o.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,r){this.cfg=this.cfg.extend(r),this._xformMode=e,this._key=t,this.reset()},reset:function(){i.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?m:g}return function(t){return{encrypt:function(r,o,n){return e(o).encrypt(t,r,o,n)},decrypt:function(r,o,n){return e(o).decrypt(t,r,o,n)}}}}()}),u=(r.StreamCipher=l.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),t.mode={}),d=r.BlockCipherMode=o.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),p=u.CBC=function(){var e=d.extend();function t(e,t,r){var o=this._iv;if(o){var n=o;this._iv=void 0}else n=this._prevBlock;for(var i=0;i<r;i++)e[t+i]^=n[i]}return e.Encryptor=e.extend({processBlock:function(e,r){var o=this._cipher,n=o.blockSize;t.call(this,e,r,n),o.encryptBlock(e,r),this._prevBlock=e.slice(r,r+n)}}),e.Decryptor=e.extend({processBlock:function(e,r){var o=this._cipher,n=o.blockSize,i=e.slice(r,r+n);o.decryptBlock(e,r),t.call(this,e,r,n),this._prevBlock=i}}),e}(),f=(t.pad={}).Pkcs7={pad:function(e,t){for(var r=4*t,o=r-e.sigBytes%r,i=o<<24|o<<16|o<<8|o,s=[],a=0;a<o;a+=4)s.push(i);var c=n.create(s,o);e.concat(c)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},h=(r.BlockCipher=l.extend({cfg:l.cfg.extend({mode:p,padding:f}),reset:function(){l.reset.call(this);var e=this.cfg,t=e.iv,r=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var o=r.createEncryptor;else o=r.createDecryptor,this._minBufferSize=1;this._mode&&this._mode.__creator==o?this._mode.init(this,t&&t.words):(this._mode=o.call(r,this,t&&t.words),this._mode.__creator=o)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4}),r.CipherParams=o.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}})),v=(t.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,r=e.salt;if(r)var o=n.create([1398893684,1701076831]).concat(r).concat(t);else o=t;return o.toString(a)},parse:function(e){var t=a.parse(e),r=t.words;if(1398893684==r[0]&&1701076831==r[1]){var o=n.create(r.slice(2,4));r.splice(0,4),t.sigBytes-=16}return h.create({ciphertext:t,salt:o})}},g=r.SerializableCipher=o.extend({cfg:o.extend({format:v}),encrypt:function(e,t,r,o){o=this.cfg.extend(o);var n=e.createEncryptor(r,o),i=n.finalize(t),s=n.cfg;return h.create({ciphertext:i,key:r,iv:s.iv,algorithm:e,mode:s.mode,padding:s.padding,blockSize:e.blockSize,formatter:o.format})},decrypt:function(e,t,r,o){return o=this.cfg.extend(o),t=this._parse(t,o.format),e.createDecryptor(r,o).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),_=(t.kdf={}).OpenSSL={execute:function(e,t,r,o){o||(o=n.random(8));var i=c.create({keySize:t+r}).compute(e,o),s=n.create(i.words.slice(t),4*r);return i.sigBytes=4*t,h.create({key:i,iv:s,salt:o})}},m=r.PasswordBasedCipher=g.extend({cfg:g.cfg.extend({kdf:_}),encrypt:function(e,t,r,o){var n=(o=this.cfg.extend(o)).kdf.execute(r,e.keySize,e.ivSize);o.iv=n.iv;var i=g.encrypt.call(this,e,t,n.key,o);return i.mixIn(n),i},decrypt:function(e,t,r,o){o=this.cfg.extend(o),t=this._parse(t,o.format);var n=o.kdf.execute(r,e.keySize,e.ivSize,t.salt);return o.iv=n.iv,g.decrypt.call(this,e,t,n.key,o)}})}(),V.mode.CFB=function(){var e=V.lib.BlockCipherMode.extend();function t(e,t,r,o){var n=this._iv;if(n){var i=n.slice(0);this._iv=void 0}else i=this._prevBlock;o.encryptBlock(i,0);for(var s=0;s<r;s++)e[t+s]^=i[s]}return e.Encryptor=e.extend({processBlock:function(e,r){var o=this._cipher,n=o.blockSize;t.call(this,e,r,n,o),this._prevBlock=e.slice(r,r+n)}}),e.Decryptor=e.extend({processBlock:function(e,r){var o=this._cipher,n=o.blockSize,i=e.slice(r,r+n);t.call(this,e,r,n,o),this._prevBlock=i}}),e}(),V.mode.ECB=((e=V.lib.BlockCipherMode.extend()).Encryptor=e.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),e.Decryptor=e.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),e),V.pad.AnsiX923={pad:function(e,t){var r=e.sigBytes,o=4*t,n=o-r%o,i=r+n-1;e.clamp(),e.words[i>>>2]|=n<<24-i%4*8,e.sigBytes+=n},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},V.pad.Iso10126={pad:function(e,t){var r=4*t,o=r-e.sigBytes%r;e.concat(V.lib.WordArray.random(o-1)).concat(V.lib.WordArray.create([o<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},V.pad.Iso97971={pad:function(e,t){e.concat(V.lib.WordArray.create([2147483648],1)),V.pad.ZeroPadding.pad(e,t)},unpad:function(e){V.pad.ZeroPadding.unpad(e),e.sigBytes--}},V.mode.OFB=(r=(t=V.lib.BlockCipherMode.extend()).Encryptor=t.extend({processBlock:function(e,t){var r=this._cipher,o=r.blockSize,n=this._iv,i=this._keystream;n&&(i=this._keystream=n.slice(0),this._iv=void 0),r.encryptBlock(i,0);for(var s=0;s<o;s++)e[t+s]^=i[s]}}),t.Decryptor=r,t),V.pad.NoPadding={pad:function(){},unpad:function(){}},function(e){var t=V,r=t.lib.CipherParams,o=t.enc.Hex;t.format.Hex={stringify:function(e){return e.ciphertext.toString(o)},parse:function(e){var t=o.parse(e);return r.create({ciphertext:t})}}}(),function(){var e=V,t=e.lib.BlockCipher,r=e.algo,o=[],n=[],i=[],s=[],a=[],c=[],l=[],u=[],d=[],p=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var r=0,f=0;for(t=0;t<256;t++){var h=f^f<<1^f<<2^f<<3^f<<4;h=h>>>8^255&h^99,o[r]=h,n[h]=r;var v=e[r],g=e[v],_=e[g],m=257*e[h]^16843008*h;i[r]=m<<24|m>>>8,s[r]=m<<16|m>>>16,a[r]=m<<8|m>>>24,c[r]=m,m=16843009*_^65537*g^257*v^16843008*r,l[h]=m<<24|m>>>8,u[h]=m<<16|m>>>16,d[h]=m<<8|m>>>24,p[h]=m,r?(r=v^e[e[e[_^v]]],f^=e[e[f]]):r=f=1}}();var f=[0,1,2,4,8,16,32,64,128,27,54],h=r.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,r=e.sigBytes/4,n=4*((this._nRounds=r+6)+1),i=this._keySchedule=[],s=0;s<n;s++)if(s<r)i[s]=t[s];else{var a=i[s-1];s%r?r>6&&s%r==4&&(a=o[a>>>24]<<24|o[a>>>16&255]<<16|o[a>>>8&255]<<8|o[255&a]):(a=o[(a=a<<8|a>>>24)>>>24]<<24|o[a>>>16&255]<<16|o[a>>>8&255]<<8|o[255&a],a^=f[s/r|0]<<24),i[s]=i[s-r]^a}for(var c=this._invKeySchedule=[],h=0;h<n;h++)s=n-h,a=h%4?i[s]:i[s-4],c[h]=h<4||s<=4?a:l[o[a>>>24]]^u[o[a>>>16&255]]^d[o[a>>>8&255]]^p[o[255&a]]}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,i,s,a,c,o)},decryptBlock:function(e,t){var r=e[t+1];e[t+1]=e[t+3],e[t+3]=r,this._doCryptBlock(e,t,this._invKeySchedule,l,u,d,p,n),r=e[t+1],e[t+1]=e[t+3],e[t+3]=r},_doCryptBlock:function(e,t,r,o,n,i,s,a){for(var c=this._nRounds,l=e[t]^r[0],u=e[t+1]^r[1],d=e[t+2]^r[2],p=e[t+3]^r[3],f=4,h=1;h<c;h++){var v=o[l>>>24]^n[u>>>16&255]^i[d>>>8&255]^s[255&p]^r[f++],g=o[u>>>24]^n[d>>>16&255]^i[p>>>8&255]^s[255&l]^r[f++],_=o[d>>>24]^n[p>>>16&255]^i[l>>>8&255]^s[255&u]^r[f++],m=o[p>>>24]^n[l>>>16&255]^i[u>>>8&255]^s[255&d]^r[f++];l=v,u=g,d=_,p=m}v=(a[l>>>24]<<24|a[u>>>16&255]<<16|a[d>>>8&255]<<8|a[255&p])^r[f++],g=(a[u>>>24]<<24|a[d>>>16&255]<<16|a[p>>>8&255]<<8|a[255&l])^r[f++],_=(a[d>>>24]<<24|a[p>>>16&255]<<16|a[l>>>8&255]<<8|a[255&u])^r[f++],m=(a[p>>>24]<<24|a[l>>>16&255]<<16|a[u>>>8&255]<<8|a[255&d])^r[f++],e[t]=v,e[t+1]=g,e[t+2]=_,e[t+3]=m},keySize:8});e.AES=t._createHelper(h)}(),function(){var e=V,t=e.lib,r=t.WordArray,o=t.BlockCipher,n=e.algo,i=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],a=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],c=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],l=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],u=n.DES=o.extend({_doReset:function(){for(var e=this._key.words,t=[],r=0;r<56;r++){var o=i[r]-1;t[r]=e[o>>>5]>>>31-o%32&1}for(var n=this._subKeys=[],c=0;c<16;c++){var l=n[c]=[],u=a[c];for(r=0;r<24;r++)l[r/6|0]|=t[(s[r]-1+u)%28]<<31-r%6,l[4+(r/6|0)]|=t[28+(s[r+24]-1+u)%28]<<31-r%6;for(l[0]=l[0]<<1|l[0]>>>31,r=1;r<7;r++)l[r]=l[r]>>>4*(r-1)+3;l[7]=l[7]<<5|l[7]>>>27}var d=this._invSubKeys=[];for(r=0;r<16;r++)d[r]=n[15-r]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,r){this._lBlock=e[t],this._rBlock=e[t+1],d.call(this,4,252645135),d.call(this,16,65535),p.call(this,2,858993459),p.call(this,8,16711935),d.call(this,1,1431655765);for(var o=0;o<16;o++){for(var n=r[o],i=this._lBlock,s=this._rBlock,a=0,u=0;u<8;u++)a|=c[u][((s^n[u])&l[u])>>>0];this._lBlock=s,this._rBlock=i^a}var f=this._lBlock;this._lBlock=this._rBlock,this._rBlock=f,d.call(this,1,1431655765),p.call(this,8,16711935),p.call(this,2,858993459),d.call(this,16,65535),d.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function d(e,t){var r=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=r,this._lBlock^=r<<e}function p(e,t){var r=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=r,this._rBlock^=r<<e}e.DES=o._createHelper(u);var f=n.TripleDES=o.extend({_doReset:function(){var e=this._key.words;this._des1=u.createEncryptor(r.create(e.slice(0,2))),this._des2=u.createEncryptor(r.create(e.slice(2,4))),this._des3=u.createEncryptor(r.create(e.slice(4,6)))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});e.TripleDES=o._createHelper(f)}(),function(){var e=V,t=e.lib.StreamCipher,r=e.algo,o=r.RC4=t.extend({_doReset:function(){for(var e=this._key,t=e.words,r=e.sigBytes,o=this._S=[],n=0;n<256;n++)o[n]=n;n=0;for(var i=0;n<256;n++){var s=n%r,a=t[s>>>2]>>>24-s%4*8&255;i=(i+o[n]+a)%256;var c=o[n];o[n]=o[i],o[i]=c}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=n.call(this)},keySize:8,ivSize:0});function n(){for(var e=this._S,t=this._i,r=this._j,o=0,n=0;n<4;n++){r=(r+e[t=(t+1)%256])%256;var i=e[t];e[t]=e[r],e[r]=i,o|=e[(e[t]+e[r])%256]<<24-8*n}return this._i=t,this._j=r,o}e.RC4=t._createHelper(o);var i=r.RC4Drop=o.extend({cfg:o.cfg.extend({drop:192}),_doReset:function(){o._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)n.call(this)}});e.RC4Drop=t._createHelper(i)}(),
/** @preserve
     * Counter block mode compatible with  Dr Brian Gladman fileenc.c
     * derived from CryptoJS.mode.CTR
     * Jan Hruby jhruby.web@gmail.com
     */
V.mode.CTRGladman=function(){var e=V.lib.BlockCipherMode.extend();function t(e){if(255==(e>>24&255)){var t=e>>16&255,r=e>>8&255,o=255&e;255===t?(t=0,255===r?(r=0,255===o?o=0:++o):++r):++t,e=0,e+=t<<16,e+=r<<8,e+=o}else e+=16777216;return e}var r=e.Encryptor=e.extend({processBlock:function(e,r){var o,n=this._cipher,i=n.blockSize,s=this._iv,a=this._counter;s&&(a=this._counter=s.slice(0),this._iv=void 0),0===((o=a)[0]=t(o[0]))&&(o[1]=t(o[1]));var c=a.slice(0);n.encryptBlock(c,0);for(var l=0;l<i;l++)e[r+l]^=c[l]}});return e.Decryptor=r,e}(),function(){var e=V,t=e.lib.StreamCipher,r=e.algo,o=[],n=[],i=[],s=r.Rabbit=t.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,r=0;r<4;r++)e[r]=16711935&(e[r]<<8|e[r]>>>24)|4278255360&(e[r]<<24|e[r]>>>8);var o=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],n=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(this._b=0,r=0;r<4;r++)a.call(this);for(r=0;r<8;r++)n[r]^=o[r+4&7];if(t){var i=t.words,s=i[0],c=i[1],l=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),u=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8),d=l>>>16|4294901760&u,p=u<<16|65535&l;for(n[0]^=l,n[1]^=d,n[2]^=u,n[3]^=p,n[4]^=l,n[5]^=d,n[6]^=u,n[7]^=p,r=0;r<4;r++)a.call(this)}},_doProcessBlock:function(e,t){var r=this._X;a.call(this),o[0]=r[0]^r[5]>>>16^r[3]<<16,o[1]=r[2]^r[7]>>>16^r[5]<<16,o[2]=r[4]^r[1]>>>16^r[7]<<16,o[3]=r[6]^r[3]>>>16^r[1]<<16;for(var n=0;n<4;n++)o[n]=16711935&(o[n]<<8|o[n]>>>24)|4278255360&(o[n]<<24|o[n]>>>8),e[t+n]^=o[n]},blockSize:4,ivSize:2});function a(){for(var e=this._X,t=this._C,r=0;r<8;r++)n[r]=t[r];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<n[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<n[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<n[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<n[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<n[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<n[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<n[6]>>>0?1:0)|0,this._b=t[7]>>>0<n[7]>>>0?1:0,r=0;r<8;r++){var o=e[r]+t[r],s=65535&o,a=o>>>16,c=((s*s>>>17)+s*a>>>15)+a*a,l=((4294901760&o)*o|0)+((65535&o)*o|0);i[r]=c^l}e[0]=i[0]+(i[7]<<16|i[7]>>>16)+(i[6]<<16|i[6]>>>16)|0,e[1]=i[1]+(i[0]<<8|i[0]>>>24)+i[7]|0,e[2]=i[2]+(i[1]<<16|i[1]>>>16)+(i[0]<<16|i[0]>>>16)|0,e[3]=i[3]+(i[2]<<8|i[2]>>>24)+i[1]|0,e[4]=i[4]+(i[3]<<16|i[3]>>>16)+(i[2]<<16|i[2]>>>16)|0,e[5]=i[5]+(i[4]<<8|i[4]>>>24)+i[3]|0,e[6]=i[6]+(i[5]<<16|i[5]>>>16)+(i[4]<<16|i[4]>>>16)|0,e[7]=i[7]+(i[6]<<8|i[6]>>>24)+i[5]|0}e.Rabbit=t._createHelper(s)}(),V.mode.CTR=(v=V.lib.BlockCipherMode.extend(),g=v.Encryptor=v.extend({processBlock:function(e,t){var r=this._cipher,o=r.blockSize,n=this._iv,i=this._counter;n&&(i=this._counter=n.slice(0),this._iv=void 0);var s=i.slice(0);r.encryptBlock(s,0),i[o-1]=i[o-1]+1|0;for(var a=0;a<o;a++)e[t+a]^=s[a]}}),v.Decryptor=g,v),function(){var e=V,t=e.lib.StreamCipher,r=e.algo,o=[],n=[],i=[],s=r.RabbitLegacy=t.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,r=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],o=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var n=0;n<4;n++)a.call(this);for(n=0;n<8;n++)o[n]^=r[n+4&7];if(t){var i=t.words,s=i[0],c=i[1],l=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),u=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8),d=l>>>16|4294901760&u,p=u<<16|65535&l;for(o[0]^=l,o[1]^=d,o[2]^=u,o[3]^=p,o[4]^=l,o[5]^=d,o[6]^=u,o[7]^=p,n=0;n<4;n++)a.call(this)}},_doProcessBlock:function(e,t){var r=this._X;a.call(this),o[0]=r[0]^r[5]>>>16^r[3]<<16,o[1]=r[2]^r[7]>>>16^r[5]<<16,o[2]=r[4]^r[1]>>>16^r[7]<<16,o[3]=r[6]^r[3]>>>16^r[1]<<16;for(var n=0;n<4;n++)o[n]=16711935&(o[n]<<8|o[n]>>>24)|4278255360&(o[n]<<24|o[n]>>>8),e[t+n]^=o[n]},blockSize:4,ivSize:2});function a(){for(var e=this._X,t=this._C,r=0;r<8;r++)n[r]=t[r];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<n[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<n[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<n[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<n[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<n[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<n[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<n[6]>>>0?1:0)|0,this._b=t[7]>>>0<n[7]>>>0?1:0,r=0;r<8;r++){var o=e[r]+t[r],s=65535&o,a=o>>>16,c=((s*s>>>17)+s*a>>>15)+a*a,l=((4294901760&o)*o|0)+((65535&o)*o|0);i[r]=c^l}e[0]=i[0]+(i[7]<<16|i[7]>>>16)+(i[6]<<16|i[6]>>>16)|0,e[1]=i[1]+(i[0]<<8|i[0]>>>24)+i[7]|0,e[2]=i[2]+(i[1]<<16|i[1]>>>16)+(i[0]<<16|i[0]>>>16)|0,e[3]=i[3]+(i[2]<<8|i[2]>>>24)+i[1]|0,e[4]=i[4]+(i[3]<<16|i[3]>>>16)+(i[2]<<16|i[2]>>>16)|0,e[5]=i[5]+(i[4]<<8|i[4]>>>24)+i[3]|0,e[6]=i[6]+(i[5]<<16|i[5]>>>16)+(i[4]<<16|i[4]>>>16)|0,e[7]=i[7]+(i[6]<<8|i[6]>>>24)+i[5]|0}e.RabbitLegacy=t._createHelper(s)}(),V.pad.ZeroPadding={pad:function(e,t){var r=4*t;e.clamp(),e.sigBytes+=r-(e.sigBytes%r||r)},unpad:function(e){for(var t=e.words,r=e.sigBytes-1;!(t[r>>>2]>>>24-r%4*8&255);)r--;e.sigBytes=r+1}},"function"!=typeof ArrayBuffer)return V;var k=V.lib.WordArray,M=k.init,F=k.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var t=e.byteLength,r=[],o=0;o<t;o++)r[o>>>2]|=e[o]<<24-o%4*8;M.call(this,r,t)}else M.apply(this,arguments)};return F.prototype=k,V}()})),s.register("7TKmK",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.byteUtil=void 0;var r=s("983NH"),o=function(){function t(){this.ESPTOUCH_ENCODING_CHARSET="UTF-8"}return t.prototype.toInt8Array=function(e){return"[object ArrayBuffer]"===Object.prototype.toString.call(e)||Array.isArray(e)?new Int8Array(e):e},t.prototype.toUint8Array=function(e){return"[object ArrayBuffer]"===Object.prototype.toString.call(e)||Array.isArray(e)?new Uint8Array(e):e},t.prototype.stringToByteArray=function(e){for(var t=[],r=0,o=0;o<e.length;o++){var n=e.charCodeAt(o);n>255&&(t[r++]=255&n,n>>=8),t[r++]=n}return t},t.prototype.putString2bytes=function(e,t,r,o,n){for(var i=this.stringToByteArray(t),s=0;s<n;s++)e[n+s]=i[s]},t.prototype.convertUint8toByte=function(e){return"string"==typeof e&&(e=e.charCodeAt(0)),new Int8Array([e])[0]},t.prototype.convertUnit8s2Bytes=function(e){for(var t=e.length,r=new Int8Array(t),o=0;o<t;o++)r[o]=this.convertUint8toByte(e[o]);return r},t.prototype.convertNumberToChar=function(e){return new Uint16Array([e])[0]},t.prototype.convertNumberToByte=function(e){return new Int8Array([e])[0]},t.prototype.convertByte2Uint8=function(e){return"string"==typeof e&&(e=e.charCodeAt(0)),255&e},t.prototype.convertBytes2Uint8s=function(e){for(var t=e.length,r=new Uint8Array(t),o=0;o<t;o++)r[o]=this.convertByte2Uint8(e[o]);return r},t.prototype.putbytes2Uint8s=function(e,t,r,o,n){for(var i=0;i<n;i++)e[r+i]=this.convertByte2Uint8(t[o+i])},t.prototype.byteToHex=function(e){var t=(255&e).toString(16);return t.length>1?t:"0"+t},t.prototype.byteArrayToString=function(t){var r=8192;if((t=e.exports.byteUtil.toUint8Array(t)).length<=r)return String.fromCharCode.apply(null,t);for(var o="",n=0;n<t.length;n+=r){var i=t.slice(n,n+r);o+=String.fromCharCode.apply(null,i)}return o},t.prototype.byteArrayToHex=function(e,t){var r=this;void 0===t&&(t="");var o=[];return e.forEach((function(e){o.push(r.byteToHex(255&e))})),o.join(t||"")},t.prototype.convertByte2HexString=function(e){var t=this.convertByte2Uint8(e);return this.byteToHex(t)},t.prototype.convertU8ToHexString=function(e){return this.byteToHex(e)},t.prototype.splitUint8To2bytes=function(e){if(e<0||e>255)throw"Out of Boundary";var t,r,o=this.convertByte2HexString(e);return o.length>1?(r=parseInt(o.substring(0,1),16),t=parseInt(o.substring(1,2),16)):(r=0,t=parseInt(o.substring(0,1),16)),[r,t]},t.prototype.combine2bytesToOne=function(e,t){if(e<0||e>15||t<0||t>15)throw"Out of Boundary";return e<<4|t},t.prototype.combine2bytesToU16=function(e,t){return this.convertByte2Uint8(e)<<8|this.convertByte2Uint8(t)},t.prototype.getSpecBytesFromChar=function(e){for(var t=new Int8Array(e),r=0;r<e;r++)t[r]=this.convertUint8toByte("1");return t},t.prototype.genSpecBytes=function(e){var t=this.convertByte2Uint8(e);return this.getSpecBytesFromChar(t)},t.prototype.parseBssid=function(e){var t=new Int8Array(r.__spread(e));return this.getParsedBssid(t)},t.prototype.getParsedBssid=function(e){for(var t,r="",o=0;o<e.length;o++)t=255&e[o],r+=this.byteToHex(t);return r},t.prototype.parseBssid2bytes=function(e){for(var t=e.split(":"),r=new Int8Array(t.length),o=0;o<t.length;o++)r[o]=parseInt(t[o],16);return r},t.prototype.getStringBytesLength=function(e){for(var t,r=0,o=0;o<e.length;o++)(t=e.charCodeAt(o))<127?r++:r+=t>=128&&t<=2047?2:t>=2048&&t<=65535?3:4;return r},t.prototype.stringToUtf8ByteArray=function(e){for(var t=new Int8Array(this.getStringBytesLength(e)),r=0,o=0;o<e.length;o++){var n=e.charCodeAt(o);n<128?t[r++]=n:n<2048?(t[r++]=n>>6|192,t[r++]=63&n|128):55296==(64512&n)&&o+1<e.length&&56320==(64512&e.charCodeAt(o+1))?(n=65536+((1023&n)<<10)+(1023&e.charCodeAt(++o)),t[r++]=n>>18|240,t[r++]=n>>12&63|128,t[r++]=n>>6&63|128,t[r++]=63&n|128):(t[r++]=n>>12|224,t[r++]=n>>6&63|128,t[r++]=63&n|128)}return t},t.prototype.utf8ByteArrayToString=function(e){for(var t=[],r=0,o=0;r<e.length;){var n=e[r++];if(n<128)t[o++]=String.fromCharCode(n);else if(n>191&&n<224){var i=e[r++];t[o++]=String.fromCharCode((31&n)<<6|63&i)}else if(n>239&&n<365){var s=(7&n)<<18|(63&(i=e[r++]))<<12|(63&(a=e[r++]))<<6|(63&e[r++])-65536;t[o++]=String.fromCharCode(55296+(s>>10)),t[o++]=String.fromCharCode(56320+(1023&s))}else{i=e[r++];var a=e[r++];t[o++]=String.fromCharCode((15&n)<<12|(63&i)<<6|63&a)}}return t.join("")},t.prototype.getBytesByString=function(e){try{if("UTF-8"===this.ESPTOUCH_ENCODING_CHARSET)return this.stringToUtf8ByteArray(e)}catch(e){throw"the charset is invalid"}},t.prototype.hexStringToByteArray=function(e){for(var t=e.length,r=function(e){for(var t=[];e-- >0;)t.push(0);return t}(t/2|0),o=0;o<t;o+=2)r[o/2|0]=this.convertNumberToByte((parseInt(e.charAt(o),16)<<4)+parseInt(e.charAt(o+1),16)|0);return r},t.prototype.hexString2hexArray=function(e){return void 0===e&&(e=""),e.match(/[\da-f]{2}/gi)},t.prototype.hexArray2Float32=function(e,t){if(4!==e.length)throw"hex length is wrong";var r=new Uint32Array([parseInt(e.join(""),16)]),o=new DataView(r.buffer);return void 0===t?o.getFloat32(0):o.getFloat32(0).toFixed(t)},t.prototype.float32ToHexArray=function(e){var t=new Float32Array([e]),r=new DataView(t.buffer).getUint32(0).toString(16);return this.hexString2hexArray(""+"0000000000".slice(0,8-r.length)+r)},t.prototype.hex2Int32=function(e){if("string"==typeof e&&(e=this.hexString2hexArray(e)),4!==e.length)throw"int32 must be 4 bytes";var t=parseInt(e.join(""),16);return new Int32Array([t])[0]},t.prototype.int32ToHex=function(e){var t=new Uint32Array([e])[0].toString(16);return""+"00000000".slice(0,8-t.length)+t},t.prototype.arrayCopy=function(e,t,r,o,n){if(e!==r||o>=t+n)for(;--n>=0;)r[o++]=e[t++];else for(var i=e.slice(t,t+n),s=0;s<n;s++)r[o++]=i[s]},t.prototype.crc8Byte=function(e){for(var t=0,r=255&e,o=0;o<8;++o)0!=(1&(t^r))?(t^=24,t>>=1,t|=128):t>>=1,r>>=1;return this.convertNumberToByte(255&t)},t.prototype.crc8Bytes=function(e,t){for(var r=0,o=0;o<t;++o)r=this.crc8Byte(r^e[o]);return r},t.prototype.base64Encode=function(e){for(var t,r,o,n,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s="",a=0,c=(e=String(e)).length%3;a<e.length;){if((r=e.charCodeAt(a++))>255||(o=e.charCodeAt(a++))>255||(n=e.charCodeAt(a++))>255)throw new TypeError("Failed to execute 'btoa' on 'Window':\n          The string to be encoded contains characters outside of the Latin1 range");s+=i.charAt((t=r<<16|o<<8|n)>>18&63)+i.charAt(t>>12&63)+i.charAt(t>>6&63)+i.charAt(63&t)}return c?s.slice(0,c-3)+"===".substring(c):s},t.prototype.testSplitUint8To2bytes=function(){var e=this.splitUint8To2bytes(20);1===e[0]&&4===e[1]?console.log("test_splitUint8To2bytes(): pass"):console.log("test_splitUint8To2bytes(): fail")},t.prototype.testCombine2bytesToOne=function(){20===this.combine2bytesToOne(1,4)?console.log("test_combine2bytesToOne(): pass"):console.log("test_combine2bytesToOne(): fail")},t.prototype.testConvertChar2Uint8=function(){97===this.convertByte2Uint8("a")&&128===this.convertByte2Uint8(-128)&&255===this.convertByte2Uint8(-1)?console.log("test_convertChar2Uint8(): pass"):console.log("test_convertChar2Uint8(): fail")},t.prototype.testConvertUint8toByte=function(){97===this.convertUint8toByte("a")&&-128===this.convertUint8toByte(128)&&-1===this.convertUint8toByte(255)?console.log("test_convertUint8toByte(): pass"):console.log("test_convertUint8toByte(): fail")},t.prototype.testParseBssid=function(){var e=[15,-2,52,-102,-93,-60];console.log(this.parseBssid(e)),"0ffe349aa3c4"===this.parseBssid(e)?console.log("test_parseBssid(): pass"):console.log("test_parseBssid(): fail")},t.prototype.testMain=function(){this.testConvertUint8toByte(),this.testConvertChar2Uint8(),this.testSplitUint8To2bytes(),this.testCombine2bytesToOne(),this.testParseBssid()},t}();e.exports.byteUtil=new o})),s.register("jBAbU",(function(e,r){t(e.exports,"Base64",(()=>H));var o=s("llXdG").Buffer;const n="3.7.2",i="function"==typeof atob,a="function"==typeof btoa,c="function"==typeof o,l="function"==typeof TextDecoder?new TextDecoder:void 0,u="function"==typeof TextEncoder?new TextEncoder:void 0,d=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),p=(e=>{let t={};return e.forEach(((e,r)=>t[e]=r)),t})(d),f=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,h=String.fromCharCode.bind(String),v="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):(e,t=(e=>e))=>new Uint8Array(Array.prototype.slice.call(e,0).map(t)),g=e=>e.replace(/=/g,"").replace(/[+\/]/g,(e=>"+"==e?"-":"_")),_=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),m=e=>{let t,r,o,n,i="";const s=e.length%3;for(let s=0;s<e.length;){if((r=e.charCodeAt(s++))>255||(o=e.charCodeAt(s++))>255||(n=e.charCodeAt(s++))>255)throw new TypeError("invalid character found");t=r<<16|o<<8|n,i+=d[t>>18&63]+d[t>>12&63]+d[t>>6&63]+d[63&t]}return s?i.slice(0,s-3)+"===".substring(s):i},E=a?e=>btoa(e):c?e=>o.from(e,"binary").toString("base64"):m,y=c?e=>o.from(e).toString("base64"):e=>{let t=[];for(let r=0,o=e.length;r<o;r+=4096)t.push(h.apply(null,e.subarray(r,r+4096)));return E(t.join(""))},T=(e,t=!1)=>t?g(y(e)):y(e),b=e=>{if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?h(192|t>>>6)+h(128|63&t):h(224|t>>>12&15)+h(128|t>>>6&63)+h(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return h(240|t>>>18&7)+h(128|t>>>12&63)+h(128|t>>>6&63)+h(128|63&t)},C=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,I=e=>e.replace(C,b),x=c?e=>o.from(e,"utf8").toString("base64"):u?e=>y(u.encode(e)):e=>E(I(e)),A=(e,t=!1)=>t?g(x(e)):x(e),S=e=>A(e,!0),D=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,w=e=>{switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return h(55296+(t>>>10))+h(56320+(1023&t));case 3:return h((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return h((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},O=e=>e.replace(D,w),N=e=>{if(e=e.replace(/\s+/g,""),!f.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(3&e.length));let t,r,o,n="";for(let i=0;i<e.length;)t=p[e.charAt(i++)]<<18|p[e.charAt(i++)]<<12|(r=p[e.charAt(i++)])<<6|(o=p[e.charAt(i++)]),n+=64===r?h(t>>16&255):64===o?h(t>>16&255,t>>8&255):h(t>>16&255,t>>8&255,255&t);return n},R=i?e=>atob(_(e)):c?e=>o.from(e,"base64").toString("binary"):N,B=c?e=>v(o.from(e,"base64")):e=>v(R(e),(e=>e.charCodeAt(0))),P=e=>B(U(e)),L=c?e=>o.from(e,"base64").toString("utf8"):l?e=>l.decode(B(e)):e=>O(R(e)),U=e=>_(e.replace(/[-_]/g,(e=>"-"==e?"+":"/"))),V=e=>L(U(e)),k=e=>({value:e,enumerable:!1,writable:!0,configurable:!0}),M=function(){const e=(e,t)=>Object.defineProperty(String.prototype,e,k(t));e("fromBase64",(function(){return V(this)})),e("toBase64",(function(e){return A(this,e)})),e("toBase64URI",(function(){return A(this,!0)})),e("toBase64URL",(function(){return A(this,!0)})),e("toUint8Array",(function(){return P(this)}))},F=function(){const e=(e,t)=>Object.defineProperty(Uint8Array.prototype,e,k(t));e("toBase64",(function(e){return T(this,e)})),e("toBase64URI",(function(){return T(this,!0)})),e("toBase64URL",(function(){return T(this,!0)}))},H={version:n,VERSION:"3.7.2",atob:R,atobPolyfill:N,btoa:E,btoaPolyfill:m,fromBase64:V,toBase64:A,encode:A,encodeURI:S,encodeURL:S,utob:I,btou:O,decode:V,isValid:e=>{if("string"!=typeof e)return!1;const t=e.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)},fromUint8Array:T,toUint8Array:P,extendString:M,extendUint8Array:F,extendBuiltins:()=>{M(),F()}}})),s.register("llXdG",(function(e,r){var o,n;t(e.exports,"Buffer",(()=>o),(e=>o=e)),t(e.exports,"INSPECT_MAX_BYTES",(()=>n),(e=>n=e));var i=s("cH3lx"),a=s("8sHlI");const c="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;o=d,n=50;const l=2147483647;function u(e){if(e>l)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,d.prototype),t}function d(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return h(e)}return p(e,t,r)}function p(e,t,r){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!d.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|m(e,t);let o=u(r);const n=o.write(e,t);n!==r&&(o=o.slice(0,n));return o}(e,t);if(ArrayBuffer.isView(e))return function(e){if(J(e,Uint8Array)){const t=new Uint8Array(e);return g(t.buffer,t.byteOffset,t.byteLength)}return v(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(J(e,ArrayBuffer)||e&&J(e.buffer,ArrayBuffer))return g(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(J(e,SharedArrayBuffer)||e&&J(e.buffer,SharedArrayBuffer)))return g(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const o=e.valueOf&&e.valueOf();if(null!=o&&o!==e)return d.from(o,t,r);const n=function(e){if(d.isBuffer(e)){const t=0|_(e.length),r=u(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||Q(e.length)?u(0):v(e);if("Buffer"===e.type&&Array.isArray(e.data))return v(e.data)}(e);if(n)return n;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return d.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function f(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function h(e){return f(e),u(e<0?0:0|_(e))}function v(e){const t=e.length<0?0:0|_(e.length),r=u(t);for(let o=0;o<t;o+=1)r[o]=255&e[o];return r}function g(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let o;return o=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(o,d.prototype),o}function _(e){if(e>=l)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+l.toString(16)+" bytes");return 0|e}function m(e,t){if(d.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||J(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,o=arguments.length>2&&!0===arguments[2];if(!o&&0===r)return 0;let n=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return X(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return K(e).length;default:if(n)return o?-1:X(e).length;t=(""+t).toLowerCase(),n=!0}}function E(e,t,r){let o=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return B(this,t,r);case"utf8":case"utf-8":return w(this,t,r);case"ascii":return N(this,t,r);case"latin1":case"binary":return R(this,t,r);case"base64":return D(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,r);default:if(o)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),o=!0}}function y(e,t,r){const o=e[t];e[t]=e[r],e[r]=o}function T(e,t,r,o,n){if(0===e.length)return-1;if("string"==typeof r?(o=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),Q(r=+r)&&(r=n?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(n)return-1;r=e.length-1}else if(r<0){if(!n)return-1;r=0}if("string"==typeof t&&(t=d.from(t,o)),d.isBuffer(t))return 0===t.length?-1:b(e,t,r,o,n);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):b(e,[t],r,o,n);throw new TypeError("val must be string, number or Buffer")}function b(e,t,r,o,n){let i,s=1,a=e.length,c=t.length;if(void 0!==o&&("ucs2"===(o=String(o).toLowerCase())||"ucs-2"===o||"utf16le"===o||"utf-16le"===o)){if(e.length<2||t.length<2)return-1;s=2,a/=2,c/=2,r/=2}function l(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(n){let o=-1;for(i=r;i<a;i++)if(l(e,i)===l(t,-1===o?0:i-o)){if(-1===o&&(o=i),i-o+1===c)return o*s}else-1!==o&&(i-=i-o),o=-1}else for(r+c>a&&(r=a-c),i=r;i>=0;i--){let r=!0;for(let o=0;o<c;o++)if(l(e,i+o)!==l(t,o)){r=!1;break}if(r)return i}return-1}function C(e,t,r,o){r=Number(r)||0;const n=e.length-r;o?(o=Number(o))>n&&(o=n):o=n;const i=t.length;let s;for(o>i/2&&(o=i/2),s=0;s<o;++s){const o=parseInt(t.substr(2*s,2),16);if(Q(o))return s;e[r+s]=o}return s}function I(e,t,r,o){return Z(X(t,e.length-r),e,r,o)}function x(e,t,r,o){return Z(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,o)}function A(e,t,r,o){return Z(K(t),e,r,o)}function S(e,t,r,o){return Z(function(e,t){let r,o,n;const i=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),o=r>>8,n=r%256,i.push(n),i.push(o);return i}(t,e.length-r),e,r,o)}function D(e,t,r){return 0===t&&r===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,r))}function w(e,t,r){r=Math.min(e.length,r);const o=[];let n=t;for(;n<r;){const t=e[n];let i=null,s=t>239?4:t>223?3:t>191?2:1;if(n+s<=r){let r,o,a,c;switch(s){case 1:t<128&&(i=t);break;case 2:r=e[n+1],128==(192&r)&&(c=(31&t)<<6|63&r,c>127&&(i=c));break;case 3:r=e[n+1],o=e[n+2],128==(192&r)&&128==(192&o)&&(c=(15&t)<<12|(63&r)<<6|63&o,c>2047&&(c<55296||c>57343)&&(i=c));break;case 4:r=e[n+1],o=e[n+2],a=e[n+3],128==(192&r)&&128==(192&o)&&128==(192&a)&&(c=(15&t)<<18|(63&r)<<12|(63&o)<<6|63&a,c>65535&&c<1114112&&(i=c))}}null===i?(i=65533,s=1):i>65535&&(i-=65536,o.push(i>>>10&1023|55296),i=56320|1023&i),o.push(i),n+=s}return function(e){const t=e.length;if(t<=O)return String.fromCharCode.apply(String,e);let r="",o=0;for(;o<t;)r+=String.fromCharCode.apply(String,e.slice(o,o+=O));return r}(o)}d.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),d.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}}),d.poolSize=8192,d.from=function(e,t,r){return p(e,t,r)},Object.setPrototypeOf(d.prototype,Uint8Array.prototype),Object.setPrototypeOf(d,Uint8Array),d.alloc=function(e,t,r){return function(e,t,r){return f(e),e<=0?u(e):void 0!==t?"string"==typeof r?u(e).fill(t,r):u(e).fill(t):u(e)}(e,t,r)},d.allocUnsafe=function(e){return h(e)},d.allocUnsafeSlow=function(e){return h(e)},d.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==d.prototype},d.compare=function(e,t){if(J(e,Uint8Array)&&(e=d.from(e,e.offset,e.byteLength)),J(t,Uint8Array)&&(t=d.from(t,t.offset,t.byteLength)),!d.isBuffer(e)||!d.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,o=t.length;for(let n=0,i=Math.min(r,o);n<i;++n)if(e[n]!==t[n]){r=e[n],o=t[n];break}return r<o?-1:o<r?1:0},d.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return d.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const o=d.allocUnsafe(t);let n=0;for(r=0;r<e.length;++r){let t=e[r];if(J(t,Uint8Array))n+t.length>o.length?(d.isBuffer(t)||(t=d.from(t)),t.copy(o,n)):Uint8Array.prototype.set.call(o,t,n);else{if(!d.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(o,n)}n+=t.length}return o},d.byteLength=m,d.prototype._isBuffer=!0,d.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)y(this,t,t+1);return this},d.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},d.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},d.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?w(this,0,e):E.apply(this,arguments)},d.prototype.toLocaleString=d.prototype.toString,d.prototype.equals=function(e){if(!d.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===d.compare(this,e)},d.prototype.inspect=function(){let e="";const t=n;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},c&&(d.prototype[c]=d.prototype.inspect),d.prototype.compare=function(e,t,r,o,n){if(J(e,Uint8Array)&&(e=d.from(e,e.offset,e.byteLength)),!d.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===o&&(o=0),void 0===n&&(n=this.length),t<0||r>e.length||o<0||n>this.length)throw new RangeError("out of range index");if(o>=n&&t>=r)return 0;if(o>=n)return-1;if(t>=r)return 1;if(this===e)return 0;let i=(n>>>=0)-(o>>>=0),s=(r>>>=0)-(t>>>=0);const a=Math.min(i,s),c=this.slice(o,n),l=e.slice(t,r);for(let e=0;e<a;++e)if(c[e]!==l[e]){i=c[e],s=l[e];break}return i<s?-1:s<i?1:0},d.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},d.prototype.indexOf=function(e,t,r){return T(this,e,t,r,!0)},d.prototype.lastIndexOf=function(e,t,r){return T(this,e,t,r,!1)},d.prototype.write=function(e,t,r,o){if(void 0===t)o="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)o=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===o&&(o="utf8")):(o=r,r=void 0)}const n=this.length-t;if((void 0===r||r>n)&&(r=n),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");o||(o="utf8");let i=!1;for(;;)switch(o){case"hex":return C(this,e,t,r);case"utf8":case"utf-8":return I(this,e,t,r);case"ascii":case"latin1":case"binary":return x(this,e,t,r);case"base64":return A(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase(),i=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const O=4096;function N(e,t,r){let o="";r=Math.min(e.length,r);for(let n=t;n<r;++n)o+=String.fromCharCode(127&e[n]);return o}function R(e,t,r){let o="";r=Math.min(e.length,r);for(let n=t;n<r;++n)o+=String.fromCharCode(e[n]);return o}function B(e,t,r){const o=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>o)&&(r=o);let n="";for(let o=t;o<r;++o)n+=ee[e[o]];return n}function P(e,t,r){const o=e.slice(t,r);let n="";for(let e=0;e<o.length-1;e+=2)n+=String.fromCharCode(o[e]+256*o[e+1]);return n}function L(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function U(e,t,r,o,n,i){if(!d.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>n||t<i)throw new RangeError('"value" argument is out of bounds');if(r+o>e.length)throw new RangeError("Index out of range")}function V(e,t,r,o,n){G(t,o,n,e,r,7);let i=Number(t&BigInt(4294967295));e[r++]=i,i>>=8,e[r++]=i,i>>=8,e[r++]=i,i>>=8,e[r++]=i;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,r}function k(e,t,r,o,n){G(t,o,n,e,r,7);let i=Number(t&BigInt(4294967295));e[r+7]=i,i>>=8,e[r+6]=i,i>>=8,e[r+5]=i,i>>=8,e[r+4]=i;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=s,s>>=8,e[r+2]=s,s>>=8,e[r+1]=s,s>>=8,e[r]=s,r+8}function M(e,t,r,o,n,i){if(r+o>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function F(e,t,r,o,n){return t=+t,r>>>=0,n||M(e,0,r,4),a.write(e,t,r,o,23,4),r+4}function H(e,t,r,o,n){return t=+t,r>>>=0,n||M(e,0,r,8),a.write(e,t,r,o,52,8),r+8}d.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const o=this.subarray(e,t);return Object.setPrototypeOf(o,d.prototype),o},d.prototype.readUintLE=d.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||L(e,t,this.length);let o=this[e],n=1,i=0;for(;++i<t&&(n*=256);)o+=this[e+i]*n;return o},d.prototype.readUintBE=d.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||L(e,t,this.length);let o=this[e+--t],n=1;for(;t>0&&(n*=256);)o+=this[e+--t]*n;return o},d.prototype.readUint8=d.prototype.readUInt8=function(e,t){return e>>>=0,t||L(e,1,this.length),this[e]},d.prototype.readUint16LE=d.prototype.readUInt16LE=function(e,t){return e>>>=0,t||L(e,2,this.length),this[e]|this[e+1]<<8},d.prototype.readUint16BE=d.prototype.readUInt16BE=function(e,t){return e>>>=0,t||L(e,2,this.length),this[e]<<8|this[e+1]},d.prototype.readUint32LE=d.prototype.readUInt32LE=function(e,t){return e>>>=0,t||L(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},d.prototype.readUint32BE=d.prototype.readUInt32BE=function(e,t){return e>>>=0,t||L(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},d.prototype.readBigUInt64LE=te((function(e){Y(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||q(e,this.length-8);const o=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,n=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(o)+(BigInt(n)<<BigInt(32))})),d.prototype.readBigUInt64BE=te((function(e){Y(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||q(e,this.length-8);const o=t*2**24+65536*this[++e]+256*this[++e]+this[++e],n=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(o)<<BigInt(32))+BigInt(n)})),d.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||L(e,t,this.length);let o=this[e],n=1,i=0;for(;++i<t&&(n*=256);)o+=this[e+i]*n;return n*=128,o>=n&&(o-=Math.pow(2,8*t)),o},d.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||L(e,t,this.length);let o=t,n=1,i=this[e+--o];for(;o>0&&(n*=256);)i+=this[e+--o]*n;return n*=128,i>=n&&(i-=Math.pow(2,8*t)),i},d.prototype.readInt8=function(e,t){return e>>>=0,t||L(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},d.prototype.readInt16LE=function(e,t){e>>>=0,t||L(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},d.prototype.readInt16BE=function(e,t){e>>>=0,t||L(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},d.prototype.readInt32LE=function(e,t){return e>>>=0,t||L(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},d.prototype.readInt32BE=function(e,t){return e>>>=0,t||L(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},d.prototype.readBigInt64LE=te((function(e){Y(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||q(e,this.length-8);const o=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(o)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),d.prototype.readBigInt64BE=te((function(e){Y(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||q(e,this.length-8);const o=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(o)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),d.prototype.readFloatLE=function(e,t){return e>>>=0,t||L(e,4,this.length),a.read(this,e,!0,23,4)},d.prototype.readFloatBE=function(e,t){return e>>>=0,t||L(e,4,this.length),a.read(this,e,!1,23,4)},d.prototype.readDoubleLE=function(e,t){return e>>>=0,t||L(e,8,this.length),a.read(this,e,!0,52,8)},d.prototype.readDoubleBE=function(e,t){return e>>>=0,t||L(e,8,this.length),a.read(this,e,!1,52,8)},d.prototype.writeUintLE=d.prototype.writeUIntLE=function(e,t,r,o){if(e=+e,t>>>=0,r>>>=0,!o){U(this,e,t,r,Math.pow(2,8*r)-1,0)}let n=1,i=0;for(this[t]=255&e;++i<r&&(n*=256);)this[t+i]=e/n&255;return t+r},d.prototype.writeUintBE=d.prototype.writeUIntBE=function(e,t,r,o){if(e=+e,t>>>=0,r>>>=0,!o){U(this,e,t,r,Math.pow(2,8*r)-1,0)}let n=r-1,i=1;for(this[t+n]=255&e;--n>=0&&(i*=256);)this[t+n]=e/i&255;return t+r},d.prototype.writeUint8=d.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||U(this,e,t,1,255,0),this[t]=255&e,t+1},d.prototype.writeUint16LE=d.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||U(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},d.prototype.writeUint16BE=d.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||U(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},d.prototype.writeUint32LE=d.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||U(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},d.prototype.writeUint32BE=d.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||U(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},d.prototype.writeBigUInt64LE=te((function(e,t=0){return V(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),d.prototype.writeBigUInt64BE=te((function(e,t=0){return k(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),d.prototype.writeIntLE=function(e,t,r,o){if(e=+e,t>>>=0,!o){const o=Math.pow(2,8*r-1);U(this,e,t,r,o-1,-o)}let n=0,i=1,s=0;for(this[t]=255&e;++n<r&&(i*=256);)e<0&&0===s&&0!==this[t+n-1]&&(s=1),this[t+n]=(e/i>>0)-s&255;return t+r},d.prototype.writeIntBE=function(e,t,r,o){if(e=+e,t>>>=0,!o){const o=Math.pow(2,8*r-1);U(this,e,t,r,o-1,-o)}let n=r-1,i=1,s=0;for(this[t+n]=255&e;--n>=0&&(i*=256);)e<0&&0===s&&0!==this[t+n+1]&&(s=1),this[t+n]=(e/i>>0)-s&255;return t+r},d.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||U(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},d.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||U(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},d.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||U(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},d.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||U(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},d.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||U(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},d.prototype.writeBigInt64LE=te((function(e,t=0){return V(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),d.prototype.writeBigInt64BE=te((function(e,t=0){return k(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),d.prototype.writeFloatLE=function(e,t,r){return F(this,e,t,!0,r)},d.prototype.writeFloatBE=function(e,t,r){return F(this,e,t,!1,r)},d.prototype.writeDoubleLE=function(e,t,r){return H(this,e,t,!0,r)},d.prototype.writeDoubleBE=function(e,t,r){return H(this,e,t,!1,r)},d.prototype.copy=function(e,t,r,o){if(!d.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),o||0===o||(o=this.length),t>=e.length&&(t=e.length),t||(t=0),o>0&&o<r&&(o=r),o===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),e.length-t<o-r&&(o=e.length-t+r);const n=o-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,o):Uint8Array.prototype.set.call(e,this.subarray(r,o),t),n},d.prototype.fill=function(e,t,r,o){if("string"==typeof e){if("string"==typeof t?(o=t,t=0,r=this.length):"string"==typeof r&&(o=r,r=this.length),void 0!==o&&"string"!=typeof o)throw new TypeError("encoding must be a string");if("string"==typeof o&&!d.isEncoding(o))throw new TypeError("Unknown encoding: "+o);if(1===e.length){const t=e.charCodeAt(0);("utf8"===o&&t<128||"latin1"===o)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let n;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(n=t;n<r;++n)this[n]=e;else{const i=d.isBuffer(e)?e:d.from(e,o),s=i.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(n=0;n<r-t;++n)this[n+t]=i[n%s]}return this};const W={};function z(e,t,r){W[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function j(e){let t="",r=e.length;const o="-"===e[0]?1:0;for(;r>=o+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function G(e,t,r,o,n,i){if(e>r||e<t){const o="bigint"==typeof t?"n":"";let n;throw n=i>3?0===t||t===BigInt(0)?`>= 0${o} and < 2${o} ** ${8*(i+1)}${o}`:`>= -(2${o} ** ${8*(i+1)-1}${o}) and < 2 ** ${8*(i+1)-1}${o}`:`>= ${t}${o} and <= ${r}${o}`,new W.ERR_OUT_OF_RANGE("value",n,e)}!function(e,t,r){Y(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||q(t,e.length-(r+1))}(o,n,i)}function Y(e,t){if("number"!=typeof e)throw new W.ERR_INVALID_ARG_TYPE(t,"number",e)}function q(e,t,r){if(Math.floor(e)!==e)throw Y(e,r),new W.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new W.ERR_BUFFER_OUT_OF_BOUNDS;throw new W.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}z("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),z("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),z("ERR_OUT_OF_RANGE",(function(e,t,r){let o=`The value of "${e}" is out of range.`,n=r;return Number.isInteger(r)&&Math.abs(r)>2**32?n=j(String(r)):"bigint"==typeof r&&(n=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(n=j(n)),n+="n"),o+=` It must be ${t}. Received ${n}`,o}),RangeError);const $=/[^+/0-9A-Za-z-_]/g;function X(e,t){let r;t=t||1/0;const o=e.length;let n=null;const i=[];for(let s=0;s<o;++s){if(r=e.charCodeAt(s),r>55295&&r<57344){if(!n){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(s+1===o){(t-=3)>-1&&i.push(239,191,189);continue}n=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),n=r;continue}r=65536+(n-55296<<10|r-56320)}else n&&(t-=3)>-1&&i.push(239,191,189);if(n=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function K(e){return i.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace($,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function Z(e,t,r,o){let n;for(n=0;n<o&&!(n+r>=t.length||n>=e.length);++n)t[n+r]=e[n];return n}function J(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Q(e){return e!=e}const ee=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const o=16*r;for(let n=0;n<16;++n)t[o+n]=e[r]+e[n]}return t}();function te(e){return"undefined"==typeof BigInt?re:e}function re(){throw new Error("BigInt not supported")}})),s.register("cH3lx",(function(e,r){var o,n;t(e.exports,"toByteArray",(()=>o),(e=>o=e)),t(e.exports,"fromByteArray",(()=>n),(e=>n=e)),o=function(e){var t,r,o=d(e),n=o[0],i=o[1],c=new a(function(e,t,r){return 3*(t+r)/4-r}(0,n,i)),l=0,u=i>0?n-4:n;for(r=0;r<u;r+=4)t=s[e.charCodeAt(r)]<<18|s[e.charCodeAt(r+1)]<<12|s[e.charCodeAt(r+2)]<<6|s[e.charCodeAt(r+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;2===i&&(t=s[e.charCodeAt(r)]<<2|s[e.charCodeAt(r+1)]>>4,c[l++]=255&t);1===i&&(t=s[e.charCodeAt(r)]<<10|s[e.charCodeAt(r+1)]<<4|s[e.charCodeAt(r+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t);return c},n=function(e){for(var t,r=e.length,o=r%3,n=[],s=16383,a=0,c=r-o;a<c;a+=s)n.push(p(e,a,a+s>c?c:a+s));1===o?(t=e[r-1],n.push(i[t>>2]+i[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],n.push(i[t>>10]+i[t>>4&63]+i[t<<2&63]+"="));return n.join("")};for(var i=[],s=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,u=c.length;l<u;++l)i[l]=c[l],s[c.charCodeAt(l)]=l;function d(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function p(e,t,r){for(var o,n,s=[],a=t;a<r;a+=3)o=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(i[(n=o)>>18&63]+i[n>>12&63]+i[n>>6&63]+i[63&n]);return s.join("")}s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63})),s.register("8sHlI",(function(e,r){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var o,n;t(e.exports,"read",(()=>o),(e=>o=e)),t(e.exports,"write",(()=>n),(e=>n=e)),o=function(e,t,r,o,n){var i,s,a=8*n-o-1,c=(1<<a)-1,l=c>>1,u=-7,d=r?n-1:0,p=r?-1:1,f=e[t+d];for(d+=p,i=f&(1<<-u)-1,f>>=-u,u+=a;u>0;i=256*i+e[t+d],d+=p,u-=8);for(s=i&(1<<-u)-1,i>>=-u,u+=o;u>0;s=256*s+e[t+d],d+=p,u-=8);if(0===i)i=1-l;else{if(i===c)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,o),i-=l}return(f?-1:1)*s*Math.pow(2,i-o)},n=function(e,t,r,o,n,i){var s,a,c,l=8*i-n-1,u=(1<<l)-1,d=u>>1,p=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,f=o?0:i-1,h=o?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),(t+=s+d>=1?p/c:p*Math.pow(2,1-d))*c>=2&&(s++,c/=2),s+d>=u?(a=0,s=u):s+d>=1?(a=(t*c-1)*Math.pow(2,n),s+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,n),s=0));n>=8;e[r+f]=255&a,f+=h,a/=256,n-=8);for(s=s<<n|a,l+=n;l>0;e[r+f]=255&s,f+=h,s/=256,l-=8);e[r+f-h]|=128*v}})),s.register("b9zES",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.storage=void 0;var r=s("983NH"),o=s("4Ear4"),n=s("dRASr");e.exports.storage={getItem:function(e){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),n.isMiniProgram?[4,o.pify(wx.getStorage)({key:e})]:[3,2];case 1:return[2,t=r.sent().data];case 2:if(n.isBrowser){if(t=window.localStorage.getItem(e))try{t=JSON.parse(t)}catch(e){}return[2,t]}r.label=3;case 3:return[3,5];case 4:return r.sent(),[2,null];case 5:return[2]}}))}))},setItem:function(e,t){return r.__awaiter(this,void 0,void 0,(function(){var i;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),n.isMiniProgram?[4,o.pify(wx.setStorage)({key:e,data:t})]:[3,2];case 1:return r.sent(),[3,3];case 2:if(n.isBrowser){if(t)try{t=JSON.stringify(t)}catch(e){}window.localStorage.setItem(e,t)}r.label=3;case 3:return[3,5];case 4:return i=r.sent(),console.error("setStorage error",i),[3,5];case 5:return[2]}}))}))},removeItem:function(e){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),n.isMiniProgram?[4,o.pify(wx.removeStorage)({key:e})]:[3,2];case 1:return r.sent(),[3,3];case 2:n.isBrowser&&window.localStorage.removeItem(e),r.label=3;case 3:return[3,5];case 4:return t=r.sent(),console.error("removeStorage error",t),[3,5];case 5:return[2]}}))}))}}})),s.register("bU2tr",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),s("983NH").__exportStar(s("kDy1W"),e.exports)})),s.register("kDy1W",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.request=void 0;var r=s("983NH"),o=r.__importDefault(s("8Ynfw")),n=s("3XbGH"),i=s("dRASr"),a=s("lxi6D"),c=s("4Ear4"),l=s("2TgUi"),u=0,d=0;function p(e,t,r){return void 0===t&&(t={}),void 0===r&&(r={}),new Promise((function(i,s){try{if("jsonp"===r.dataType)return n.jsonp(e,{},(function(e,t){return e?s({code:"timeout"}):i(t)}));var a=r.method,c=r.headers,l=void 0===c?{}:c,u=r.responseType,d=void 0===u?"json":u;a=(a||"get").toUpperCase(),Object.assign(l,{"Content-type":"application/json"});var p=new window.XMLHttpRequest;p.responseType=d,p.timeout=1e4,p.onreadystatechange=function(){4===p.readyState&&(200===p.status?i({data:p.response}):s({code:p.status,msg:p.statusText}))},"GET"===a?e="url"+(-1===e.indexOf("?")?"?":"&")+o.default.stringify(t):"POST"===a&&(t=JSON.stringify(t)),p.open(a,e,!0),Object.keys(l).forEach((function(e){p.setRequestHeader(e,l[e])})),p.send("POST"===a?t:null)}catch(e){console.error(e),s(e)}}))}function f(e){return r.__awaiter(this,void 0,void 0,(function(){var t,o,n;return r.__generator(this,(function(r){switch(r.label){case 0:r.trys.push([0,7,8,9]),r.label=1;case 1:return u>=10?[4,a.startBlocking()]:[3,3];case 2:return r.sent(),[3,1];case 3:return u++,"jsonp"!==e.dataType?[3,5]:(e.method="GET",t=e.callback||"jsonpcallback"+ ++d,e.url=l.appendParams(e.url,{callback:t}),[4,c.pify(wx.request)(e)]);case 4:return 200===(o=r.sent()).statusCode&&o.data&&"string"==typeof o.data&&(o.data=l.jsonp2json(o.data)),[2,o];case 5:return[4,c.pify(wx.request)(e)];case 6:return[2,r.sent()];case 7:return n=r.sent(),[2,Promise.reject(n)];case 8:return u--,a.resolveFirstBlock(),[7];case 9:return[2]}}))}))}e.exports.request=function(e){return r.__awaiter(void 0,void 0,void 0,(function(){var t=e.url,o=e.data,n=e.header,s=void 0===n?{}:n,a=e.method,c=void 0===a?"GET":a,l=e.dataType,u=e.responseType,d=r.__rest(e,["url","data","header","method","dataType","responseType"]);return r.__generator(this,(function(e){return i.isBrowser?[2,p(t,o,{headers:s,method:c,responseType:u,dataType:l})]:[2,f(r.__assign({url:t,data:o,header:s,method:c,dataType:l,responseType:u},d))]}))}))}})),s.register("8Ynfw",(function(e,r){var o,n,i,a,c,l,u;t(e.exports,"extract",(()=>o),(e=>o=e)),t(e.exports,"parse",(()=>n),(e=>n=e)),t(e.exports,"stringify",(()=>i),(e=>i=e)),t(e.exports,"parseUrl",(()=>a),(e=>a=e)),t(e.exports,"stringifyUrl",(()=>c),(e=>c=e)),t(e.exports,"pick",(()=>l),(e=>l=e)),t(e.exports,"exclude",(()=>u),(e=>u=e));var d=s("fdj05"),p=s("5WbiR"),f=s("eJAp6"),h=s("lJ46B");function v(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function g(e,t){return t.encode?t.strict?d(e):encodeURIComponent(e):e}function _(e,t){return t.decode?p(e):e}function m(e){return Array.isArray(e)?e.sort():"object"==typeof e?m(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function E(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function y(e){const t=(e=E(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function T(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function b(e,t){v((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const r=function(e){let t;switch(e.arrayFormat){case"index":return(e,r,o)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===o[e]&&(o[e]={}),o[e][t[1]]=r):o[e]=r};case"bracket":return(e,r,o)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==o[e]?o[e]=[].concat(o[e],r):o[e]=[r]:o[e]=r};case"comma":case"separator":return(t,r,o)=>{const n="string"==typeof r&&r.includes(e.arrayFormatSeparator),i="string"==typeof r&&!n&&_(r,e).includes(e.arrayFormatSeparator);r=i?_(r,e):r;const s=n||i?r.split(e.arrayFormatSeparator).map((t=>_(t,e))):null===r?r:_(r,e);o[t]=s};default:return(e,t,r)=>{void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}(t),o=Object.create(null);if("string"!=typeof e)return o;if(!(e=e.trim().replace(/^[?#&]/,"")))return o;for(const n of e.split("&")){if(""===n)continue;let[e,i]=f(t.decode?n.replace(/\+/g," "):n,"=");i=void 0===i?null:["comma","separator"].includes(t.arrayFormat)?i:_(i,t),r(_(e,t),i,o)}for(const e of Object.keys(o)){const r=o[e];if("object"==typeof r&&null!==r)for(const e of Object.keys(r))r[e]=T(r[e],t);else o[e]=T(r,t)}return!1===t.sort?o:(!0===t.sort?Object.keys(o).sort():Object.keys(o).sort(t.sort)).reduce(((e,t)=>{const r=o[t];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?e[t]=m(r):e[t]=r,e}),Object.create(null))}o=y,n=b,i=(e,t)=>{if(!e)return"";v((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const r=function(e){switch(e.arrayFormat){case"index":return t=>(r,o)=>{const n=r.length;return void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?r:null===o?[...r,[g(t,e),"[",n,"]"].join("")]:[...r,[g(t,e),"[",g(n,e),"]=",g(o,e)].join("")]};case"bracket":return t=>(r,o)=>void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?r:null===o?[...r,[g(t,e),"[]"].join("")]:[...r,[g(t,e),"[]=",g(o,e)].join("")];case"comma":case"separator":return t=>(r,o)=>null==o||0===o.length?r:0===r.length?[[g(t,e),"=",g(o,e)].join("")]:[[r,g(o,e)].join(e.arrayFormatSeparator)];default:return t=>(r,o)=>void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?r:null===o?[...r,g(t,e)]:[...r,[g(t,e),"=",g(o,e)].join("")]}}(t),o={};for(const r of Object.keys(e))n=r,t.skipNull&&null==e[n]||t.skipEmptyString&&""===e[n]||(o[r]=e[r]);var n;const i=Object.keys(o);return!1!==t.sort&&i.sort(t.sort),i.map((o=>{const n=e[o];return void 0===n?"":null===n?g(o,t):Array.isArray(n)?n.reduce(r(o),[]).join("&"):g(o,t)+"="+g(n,t)})).filter((e=>e.length>0)).join("&")},a=(e,t)=>{t=Object.assign({decode:!0},t);const[r,o]=f(e,"#");return Object.assign({url:r.split("?")[0]||"",query:b(y(e),t)},t&&t.parseFragmentIdentifier&&o?{fragmentIdentifier:_(o,t)}:{})},c=(e,t)=>{t=Object.assign({encode:!0,strict:!0},t);const r=E(e.url).split("?")[0]||"",s=o(e.url),a=n(s,{sort:!1}),c=Object.assign(a,e.query);let l=i(c,t);l&&(l=`?${l}`);let u=function(e){let t="";const r=e.indexOf("#");return-1!==r&&(t=e.slice(r)),t}(e.url);return e.fragmentIdentifier&&(u=`#${g(e.fragmentIdentifier,t)}`),`${r}${l}${u}`},l=(e,t,r)=>{r=Object.assign({parseFragmentIdentifier:!0},r);const{url:o,query:n,fragmentIdentifier:i}=a(e,r);return c({url:o,query:h(n,t),fragmentIdentifier:i},r)},u=(e,t,r)=>{const o=Array.isArray(t)?e=>!t.includes(e):(e,r)=>!t(e,r);return l(e,o,r)}})),s.register("fdj05",(function(e,t){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))})),s.register("5WbiR",(function(e,t){"use strict";var r="%[a-f0-9]{2}",o=new RegExp(r,"gi"),n=new RegExp("(%[a-f0-9]{2})+","gi");function i(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var r=e.slice(0,t),o=e.slice(t);return Array.prototype.concat.call([],i(r),i(o))}function s(e){try{return decodeURIComponent(e)}catch(n){for(var t=e.match(o),r=1;r<t.length;r++)t=(e=i(t,r).join("")).match(o);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"","%FF%FE":""},r=n.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch(e){var o=s(r[0]);o!==r[0]&&(t[r[0]]=o)}r=n.exec(e)}t["%C2"]="";for(var i=Object.keys(t),a=0;a<i.length;a++){var c=i[a];e=e.replace(new RegExp(c,"g"),t[c])}return e}(e)}}})),s.register("eJAp6",(function(e,t){"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const r=e.indexOf(t);return-1===r?[e]:[e.slice(0,r),e.slice(r+t.length)]}})),s.register("lJ46B",(function(e,t){"use strict";e.exports=function(e,t){for(var r={},o=Object.keys(e),n=Array.isArray(t),i=0;i<o.length;i++){var s=o[i],a=e[s];(n?-1!==t.indexOf(s):t(s,a,e))&&(r[s]=a)}return r}})),s.register("3XbGH",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.jsonp=void 0;var r=s("2TgUi"),o=0;e.exports.jsonp=function(e,t,n){"function"==typeof t&&(n=t,t={}),t||(t={});var i,s,a=t.prefix||"__jp",c=t.name||a+o++,l=t.param||"callback",u=t.timeout?t.timeout:6e4,d=encodeURIComponent,p=document.getElementsByTagName("script")[0]||document.head;function f(){i.parentNode&&i.parentNode.removeChild(i),window[c]=r.noop,s&&clearTimeout(s)}return u&&(s=setTimeout((function(){f(),n&&n(new Error("Timeout"))}),u)),window[c]=function(e){f(),n&&n(null,e)},e=(e+=(~e.indexOf("?")?"&":"?")+l+"="+d(c)).replace("?&","?"),(i=document.createElement("script")).src=e,p.parentNode.insertBefore(i,p),function(){window[c]&&f()}}})),s.register("lxi6D",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.startBlocking=e.exports.resolveFirstBlock=void 0;var r=[];e.exports.startBlocking=function(){var e,t=new Promise((function(t){e=t}));return r.push({promise:t,resolve:e}),t};e.exports.resolveFirstBlock=function(){r.length&&(r[0].resolve(),r.shift())}})),s.register("54ek8",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.handleVerifyLoginError=e.exports.isVerifyLoginError=e.exports.genVerifyLoginFailError=e.exports.normalizeError=void 0;var r=s("983NH"),o=s("2TgUi"),n=s("AVmHb");e.exports.normalizeError=function(t){if(t)if(o.isPlainObject(t))if(t.errMsg)if(["auth deny","scope unauthorized"].some((function(e){return String(t.errMsg).indexOf(e)>-1})))if(0===t.errMsg.indexOf("getUserInfo"))Object.assign(t,{code:n.ErrorCode.GET_USERINFO_NEED_AUTH,msg:""});else{var i=r.__read(t.errMsg.split(":"),1)[0];Object.assign(t,{code:n.ErrorCode.WX_API_NEED_AUTH,msg:""+i+""})}else Object.assign(t,{code:n.ErrorCode.WX_API_FAIL,msg:""});else e.exports.isVerifyLoginError(t)&&(t=e.exports.genVerifyLoginFailError(t));else t instanceof Error&&(t={code:n.ErrorCode.INTERNAL_ERROR,msg:t.message,stack:t.stack,error:t});return t},e.exports.genVerifyLoginFailError=function(e){e||(e={}),e.code,e.msg;var t=r.__rest(e,["code","msg"]);return r.__assign({code:n.ErrorCode.VERIFY_LOGIN_FAIL,msg:""},t)},e.exports.isVerifyLoginError=function(e){return e&&["VERIFY_LOGIN_FAIL","InvalidAccessToken"].some((function(t){return String(e.code||"").indexOf(t)>-1}))},e.exports.handleVerifyLoginError=function(t){if(e.exports.isVerifyLoginError(t))throw e.exports.genVerifyLoginFailError(t)}})),s.register("l0F1s",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.LoginManager=e.exports.accessTokenStorageKey=void 0;var r=s("983NH"),o=r.__importDefault(s("5YP49")),n=s("9Bkuj"),i=r.__importStar(s("AVmHb"));e.exports.accessTokenStorageKey="__qcloud-iotexplorer-appdev-sdk-accessToken";var a=function(t){function o(r,o){var n=o.getAccessToken,i=o.appKey,s=o.enableAccessTokenCache,a=void 0===s||s,c=t.call(this)||this;return c.accessToken="",c.isLogin=!1,c._accessTokenStorageKey=e.exports.accessTokenStorageKey,c.sdk=r,c.getAccessToken=n,c.enableAccessTokenCache=a,c.appKey=i,c}return r.__extends(o,t),o.prototype.login=function(t){var o=(void 0===t?{}:t).reload;return r.__awaiter(this,void 0,void 0,(function(){var t=this;return r.__generator(this,(function(s){return o&&(this._loginPromise=null),[2,this._loginPromise||(this._loginPromise=new Promise((function(s,a){return r.__awaiter(t,void 0,void 0,(function(){var t,c,l,u,d,p;return r.__generator(this,(function(r){switch(r.label){case 0:t=!1,r.label=1;case 1:return r.trys.push([1,12,15,16]),c=void 0,o?[4,n.storage.removeItem(e.exports.accessTokenStorageKey)]:[3,3];case 2:r.sent(),r.label=3;case 3:return o||!this.enableAccessTokenCache?[3,5]:[4,n.storage.getItem(e.exports.accessTokenStorageKey)];case 4:c=r.sent(),r.label=5;case 5:return c?[3,7]:[4,this.getAccessToken()];case 6:return l=r.sent(),u=l.Token,c=u,[3,8];case 7:t=!0,r.label=8;case 8:return this.accessToken=c,[4,this.sdk.requestApi("AppGetUser",{},{needLogin:!1,isTokenApi:!0,doNotRetry:!0})];case 9:return d=r.sent().Data,this.enableAccessTokenCache?[4,n.storage.setItem(e.exports.accessTokenStorageKey,c)]:[3,11];case 10:r.sent(),r.label=11;case 11:return this.userInfo=d,this.isLogin=!0,this.emit(i.EventTypes.LoginStateChange,!0),s(),[3,16];case 12:return p=r.sent(),n.isVerifyLoginError(p)?[4,this.logout().catch(n.noop)]:[3,14];case 13:if(r.sent(),t)return n.logger.debug("Cached Token expired, retrying..."),this.login({reload:!0}).then(s).catch(a),[2];r.label=14;case 14:return[2,a(p)];case 15:return this._loginPromise=null,[7];case 16:return[2]}}))}))})))]}))}))},Object.defineProperty(o.prototype,"userId",{get:function(){return this.userInfo?this.userInfo.UserID:this.sdk._defaultUin},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"nickName",{get:function(){return this.userInfo?this.userInfo.NickName:""},enumerable:!1,configurable:!0}),o.prototype.checkLogin=function(){if(this._loginPromise)return this._loginPromise;if(!this.isLogin)throw n.genVerifyLoginFailError()},o.prototype.logout=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return[4,n.storage.removeItem(e.exports.accessTokenStorageKey)];case 1:return t.sent(),this.accessToken="",this.isLogin=!1,this.emit(i.EventTypes.LoginStateChange,!1),[2]}}))}))},o.prototype.reLogin=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return[4,this.logout()];case 1:return e.sent(),[4,this.login({reload:!0})];case 2:return e.sent(),[2]}}))}))},o}(o.default);e.exports.LoginManager=a})),s.register("1Y4Kq",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.requestTokenApi=void 0;var r=s("983NH"),o=r.__importDefault(s("hK4CE")),n=s("9Bkuj"),i=s("dRASr");e.exports.requestTokenApi=function(e,t,s){return void 0===t&&(t={}),void 0===s&&(s={}),r.__awaiter(void 0,void 0,void 0,(function(){var a,c,l,u,d,p,f,h,v,g,_,m,E,y,T,b=t.uin,C=t.AccessToken,I=r.__rest(t,["uin","AccessToken"]),x=s.method,A=void 0===x?"POST":x,S=s.reporter,D=s.doNotReport,w=void 0!==D&&D,O=s.isSecureApi,N=void 0!==O&&O,R=s.isTokenApi,B=void 0===R||R,P=s.url,L=r.__rest(s,["method","reporter","doNotReport","isSecureApi","isTokenApi","url"]);return r.__generator(this,(function(t){switch(t.label){case 0:o.default.characters("0123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKMNPQRSTUVWXYZ-_$@#%"),a=o.default(),c=Date.now(),l=!1,t.label=1;case 1:if(t.trys.push([1,9,,10]),d={uin:b,cmd:e},I=Object.assign({},I,{Action:e,RequestId:a,AccessToken:C}),P=P||"https://iot.cloud.tencent.com/api/exploreropen/",!N)return[3,3];if(!i.isMiniProgram)throw new Error("secure api ");return P+="appsecureapi",d.cmd=e,[4,n.pify(wx.login)()];case 2:return p=t.sent().code,I.JsCode=p,[3,4];case 3:B?(P+="tokenapi",d.cmd=e):P+=e,t.label=4;case 4:P=n.appendParams(P,d),u=r.__assign({url:P,data:I,method:A},L),f=void 0,t.label=5;case 5:return t.trys.push([5,7,,8]),[4,n.request(u)];case 6:return h=t.sent().data,f=h,[3,8];case 7:throw v=t.sent(),l=!0,v;case 8:if(g=f.code,_=f.msg,m=f.data,E=void 0===m?{}:m,g){if(null==E?void 0:E.Error)throw{code:E.Error.Code,msg:E.Error.Message,reqId:a};throw{code:g,msg:_,reqId:a}}return S.info("cgi-response",{reqBody:n.cutoffLong(JSON.stringify(I)),action:e,timeCost:Date.now()-c,doNotReport:w,code:g,resBody:n.cutoffLong(JSON.stringify(E)),msg:_,reqId:a}),[2,E];case 9:return y=t.sent(),T=n.normalizeError(y),S.info(l?"cgi-fail":"cgi-error",{action:e,timeCost:Date.now()-c,doNotReport:w,error:T,reqId:a}),[2,Promise.reject(y)];case 10:return[2]}}))}))}})),s.register("6TYuz",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0});var r=s("983NH");r.__exportStar(s("2K4u8"),e.exports),r.__exportStar(s("7B6WE"),e.exports),r.__exportStar(s("6xhzW"),e.exports)})),s.register("2K4u8",(function(e,t){"use strict";var r=e.exports;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.formatArrayToReportString=e.exports.encrypt=e.exports.wrapEventHandler=e.exports.getUserIdentify=void 0;var o=s("6xhzW");e.exports.getUserIdentify=function(e){return o.get8ByteFromStr(o.md5(e))},e.exports.wrapEventHandler=function(e,t){void 0===t&&(t="default");var n=o.getTlvDataParser(t);return function(t){var o=t.data;console.log("event triggered",o);var i=n(o);console.log("----result",i,r),null!==i&&e(i)}},e.exports.encrypt=o.hmacSHA1,e.exports.formatArrayToReportString=function(e){return e.join(",")}})),s.register("6xhzW",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0});var r=s("983NH");r.__exportStar(s("baYlh"),e.exports),r.__exportStar(s("l8Mvp"),e.exports)})),s.register("baYlh",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.getProductDateTemplate=e.exports.hmacSHA1=e.exports.md5=e.exports.downloadFile=e.exports.hexArrayTo128BleAdvertUUIDStr=e.exports.str2hexStr=e.exports.hex2str=e.exports.gen4BytesIntHex=e.exports.gen2BytesIntHex=e.exports.get8ByteFromStr=e.exports.U8ToHexString=e.exports.U16ToHexString=e.exports.U32ToHexString=void 0;var r=s("983NH"),o=s("fOlEO"),n=r.__importDefault(s("3H2ir")),i=o.AppDevSdk.utils,a=i.noop,c=i.byteUtil,l=i.CryptoJS;e.exports.U32ToHexString=function(e){var t=e.toString(16).toUpperCase();return""+"00000000".slice(0,8-t.length)+t},e.exports.U16ToHexString=function(e){var t=e.toString(16).toUpperCase();return""+"0000".slice(0,4-t.length)+t},e.exports.U8ToHexString=function(e){var t=e.toString(16).toUpperCase();if(t.length>2)throw"length errormust less then 255";return""+"00".slice(0,2-t.length)+t},e.exports.get8ByteFromStr=function(t){for(var r=e.exports.md5(t),o=c.hexStringToByteArray(r.substring(0,r.length/2)),n=c.hexStringToByteArray(r.substring(r.length/2)),i=[],s=0;s<o.length;s++)i[s]=o[s]^n[s];return c.byteArrayToHex(i)},e.exports.gen2BytesIntHex=function(){var e=Math.floor(Math.random()*Math.pow(10,4)).toString(16);return""+e+"feaa".slice(0,4-e.length)},e.exports.gen4BytesIntHex=function(){var e=Math.floor(Math.random()*Math.pow(10,9)).toString(16);return""+e+"feaa12dd".slice(0,8-e.length)},e.exports.hex2str=function(e){var t;return t="string"==typeof e?e.match(/[\da-f]{2}/gi):e,c.byteArrayToString(new Int8Array(t.map((function(e){return parseInt(e,16)}))))},e.exports.str2hexStr=function(e){return c.byteArrayToHex(c.stringToByteArray(e))},e.exports.hexArrayTo128BleAdvertUUIDStr=function(e){var t=r.__spread(e);return t.splice(4,0,"-"),t.splice(7,0,"-"),t.splice(10,0,"-"),t.splice(13,0,"-"),t.join("")},e.exports.downloadFile=function(e,t){var r=(void 0===t?{}:t).onProgress,o=void 0===r?a:r;return new Promise((function(t){wx.downloadFile({url:e,success:function(e){console.log(e),wx.getFileSystemManager().readFile({filePath:e.tempFilePath,success:function(e){console.log(e);var r=e.data.byteLength;t({fileSize:r,fileBuffer:e.data})}})}}).onProgressUpdate((function(e){return o(e)}))}))},e.exports.md5=function(e){return n.default.hash(e)},e.exports.hmacSHA1=function(e,t){var r=l.enc.Hex.parse(String(t)),o=l.HmacSHA1(String(e),r);return console.log("encrypt",r,e,o.toString(l.enc.Hex)),o.toString(l.enc.Hex)},e.exports.getProductDateTemplate=function(e){try{if(!e)throw{code:"GET_PRODUCT_INFO_FAIL",msg:""};var t=e.DataTemplate;return"string"==typeof t&&(t=JSON.parse(t)),t}catch(e){throw r.__assign({code:"TEMPLATE_ERROR"},e)}}})),s.register("3H2ir",(function(e,t){e.exports=function(e){"use strict";var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function r(e,t){var r=e[0],o=e[1],n=e[2],i=e[3];o=((o+=((n=((n+=((i=((i+=((r=((r+=(o&n|~o&i)+t[0]-680876936|0)<<7|r>>>25)+o|0)&o|~r&n)+t[1]-389564586|0)<<12|i>>>20)+r|0)&r|~i&o)+t[2]+606105819|0)<<17|n>>>15)+i|0)&i|~n&r)+t[3]-1044525330|0)<<22|o>>>10)+n|0,o=((o+=((n=((n+=((i=((i+=((r=((r+=(o&n|~o&i)+t[4]-176418897|0)<<7|r>>>25)+o|0)&o|~r&n)+t[5]+1200080426|0)<<12|i>>>20)+r|0)&r|~i&o)+t[6]-1473231341|0)<<17|n>>>15)+i|0)&i|~n&r)+t[7]-45705983|0)<<22|o>>>10)+n|0,o=((o+=((n=((n+=((i=((i+=((r=((r+=(o&n|~o&i)+t[8]+1770035416|0)<<7|r>>>25)+o|0)&o|~r&n)+t[9]-1958414417|0)<<12|i>>>20)+r|0)&r|~i&o)+t[10]-42063|0)<<17|n>>>15)+i|0)&i|~n&r)+t[11]-1990404162|0)<<22|o>>>10)+n|0,o=((o+=((n=((n+=((i=((i+=((r=((r+=(o&n|~o&i)+t[12]+1804603682|0)<<7|r>>>25)+o|0)&o|~r&n)+t[13]-40341101|0)<<12|i>>>20)+r|0)&r|~i&o)+t[14]-1502002290|0)<<17|n>>>15)+i|0)&i|~n&r)+t[15]+1236535329|0)<<22|o>>>10)+n|0,o=((o+=((n=((n+=((i=((i+=((r=((r+=(o&i|n&~i)+t[1]-165796510|0)<<5|r>>>27)+o|0)&n|o&~n)+t[6]-1069501632|0)<<9|i>>>23)+r|0)&o|r&~o)+t[11]+643717713|0)<<14|n>>>18)+i|0)&r|i&~r)+t[0]-373897302|0)<<20|o>>>12)+n|0,o=((o+=((n=((n+=((i=((i+=((r=((r+=(o&i|n&~i)+t[5]-701558691|0)<<5|r>>>27)+o|0)&n|o&~n)+t[10]+38016083|0)<<9|i>>>23)+r|0)&o|r&~o)+t[15]-660478335|0)<<14|n>>>18)+i|0)&r|i&~r)+t[4]-405537848|0)<<20|o>>>12)+n|0,o=((o+=((n=((n+=((i=((i+=((r=((r+=(o&i|n&~i)+t[9]+568446438|0)<<5|r>>>27)+o|0)&n|o&~n)+t[14]-1019803690|0)<<9|i>>>23)+r|0)&o|r&~o)+t[3]-187363961|0)<<14|n>>>18)+i|0)&r|i&~r)+t[8]+1163531501|0)<<20|o>>>12)+n|0,o=((o+=((n=((n+=((i=((i+=((r=((r+=(o&i|n&~i)+t[13]-1444681467|0)<<5|r>>>27)+o|0)&n|o&~n)+t[2]-51403784|0)<<9|i>>>23)+r|0)&o|r&~o)+t[7]+1735328473|0)<<14|n>>>18)+i|0)&r|i&~r)+t[12]-1926607734|0)<<20|o>>>12)+n|0,o=((o+=((n=((n+=((i=((i+=((r=((r+=(o^n^i)+t[5]-378558|0)<<4|r>>>28)+o|0)^o^n)+t[8]-2022574463|0)<<11|i>>>21)+r|0)^r^o)+t[11]+1839030562|0)<<16|n>>>16)+i|0)^i^r)+t[14]-35309556|0)<<23|o>>>9)+n|0,o=((o+=((n=((n+=((i=((i+=((r=((r+=(o^n^i)+t[1]-1530992060|0)<<4|r>>>28)+o|0)^o^n)+t[4]+1272893353|0)<<11|i>>>21)+r|0)^r^o)+t[7]-155497632|0)<<16|n>>>16)+i|0)^i^r)+t[10]-1094730640|0)<<23|o>>>9)+n|0,o=((o+=((n=((n+=((i=((i+=((r=((r+=(o^n^i)+t[13]+681279174|0)<<4|r>>>28)+o|0)^o^n)+t[0]-358537222|0)<<11|i>>>21)+r|0)^r^o)+t[3]-722521979|0)<<16|n>>>16)+i|0)^i^r)+t[6]+76029189|0)<<23|o>>>9)+n|0,o=((o+=((n=((n+=((i=((i+=((r=((r+=(o^n^i)+t[9]-640364487|0)<<4|r>>>28)+o|0)^o^n)+t[12]-421815835|0)<<11|i>>>21)+r|0)^r^o)+t[15]+530742520|0)<<16|n>>>16)+i|0)^i^r)+t[2]-995338651|0)<<23|o>>>9)+n|0,o=((o+=((i=((i+=(o^((r=((r+=(n^(o|~i))+t[0]-198630844|0)<<6|r>>>26)+o|0)|~n))+t[7]+1126891415|0)<<10|i>>>22)+r|0)^((n=((n+=(r^(i|~o))+t[14]-1416354905|0)<<15|n>>>17)+i|0)|~r))+t[5]-57434055|0)<<21|o>>>11)+n|0,o=((o+=((i=((i+=(o^((r=((r+=(n^(o|~i))+t[12]+1700485571|0)<<6|r>>>26)+o|0)|~n))+t[3]-1894986606|0)<<10|i>>>22)+r|0)^((n=((n+=(r^(i|~o))+t[10]-1051523|0)<<15|n>>>17)+i|0)|~r))+t[1]-2054922799|0)<<21|o>>>11)+n|0,o=((o+=((i=((i+=(o^((r=((r+=(n^(o|~i))+t[8]+1873313359|0)<<6|r>>>26)+o|0)|~n))+t[15]-30611744|0)<<10|i>>>22)+r|0)^((n=((n+=(r^(i|~o))+t[6]-1560198380|0)<<15|n>>>17)+i|0)|~r))+t[13]+1309151649|0)<<21|o>>>11)+n|0,o=((o+=((i=((i+=(o^((r=((r+=(n^(o|~i))+t[4]-145523070|0)<<6|r>>>26)+o|0)|~n))+t[11]-1120210379|0)<<10|i>>>22)+r|0)^((n=((n+=(r^(i|~o))+t[2]+718787259|0)<<15|n>>>17)+i|0)|~r))+t[9]-343485551|0)<<21|o>>>11)+n|0,e[0]=r+e[0]|0,e[1]=o+e[1]|0,e[2]=n+e[2]|0,e[3]=i+e[3]|0}function o(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}function n(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return r}function i(e){var t,n,i,s,a,c,l=e.length,u=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=l;t+=64)r(u,o(e.substring(t-64,t)));for(n=(e=e.substring(t-64)).length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<n;t+=1)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(r(u,i),t=0;t<16;t+=1)i[t]=0;return s=(s=8*l).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(s[2],16),c=parseInt(s[1],16)||0,i[14]=a,i[15]=c,r(u,i),u}function s(e){var t,o,i,s,a,c,l=e.length,u=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=l;t+=64)r(u,n(e.subarray(t-64,t)));for(o=(e=t-64<l?e.subarray(t-64):new Uint8Array(0)).length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<o;t+=1)i[t>>2]|=e[t]<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(r(u,i),t=0;t<16;t+=1)i[t]=0;return s=(s=8*l).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(s[2],16),c=parseInt(s[1],16)||0,i[14]=a,i[15]=c,r(u,i),u}function a(e){var r,o="";for(r=0;r<4;r+=1)o+=t[e>>8*r+4&15]+t[e>>8*r&15];return o}function c(e){var t;for(t=0;t<e.length;t+=1)e[t]=a(e[t]);return e.join("")}function l(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function u(e,t){var r,o=e.length,n=new ArrayBuffer(o),i=new Uint8Array(n);for(r=0;r<o;r+=1)i[r]=e.charCodeAt(r);return t?i:n}function d(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function p(e,t,r){var o=new Uint8Array(e.byteLength+t.byteLength);return o.set(new Uint8Array(e)),o.set(new Uint8Array(t),e.byteLength),r?o:o.buffer}function f(e){var t,r=[],o=e.length;for(t=0;t<o-1;t+=2)r.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,r)}function h(){this.reset()}return c(i("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(r,o){var n,i,s,a,c=this.byteLength,l=t(r,c),u=c;return o!==e&&(u=t(o,c)),l>u?new ArrayBuffer(0):(n=u-l,i=new ArrayBuffer(n),s=new Uint8Array(i),a=new Uint8Array(this,l,n),s.set(a),i)}}(),h.prototype.append=function(e){return this.appendBinary(l(e)),this},h.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,n=this._buff.length;for(t=64;t<=n;t+=64)r(this._hash,o(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},h.prototype.end=function(e){var t,r,o=this._buff,n=o.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<n;t+=1)i[t>>2]|=o.charCodeAt(t)<<(t%4<<3);return this._finish(i,n),r=c(this._hash),e&&(r=f(r)),this.reset(),r},h.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},h.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},h.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},h.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},h.prototype._finish=function(e,t){var o,n,i,s=t;if(e[s>>2]|=128<<(s%4<<3),s>55)for(r(this._hash,e),s=0;s<16;s+=1)e[s]=0;o=(o=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),n=parseInt(o[2],16),i=parseInt(o[1],16)||0,e[14]=n,e[15]=i,r(this._hash,e)},h.hash=function(e,t){return h.hashBinary(l(e),t)},h.hashBinary=function(e,t){var r=c(i(e));return t?f(r):r},h.ArrayBuffer=function(){this.reset()},h.ArrayBuffer.prototype.append=function(e){var t,o=p(this._buff.buffer,e,!0),i=o.length;for(this._length+=e.byteLength,t=64;t<=i;t+=64)r(this._hash,n(o.subarray(t-64,t)));return this._buff=t-64<i?new Uint8Array(o.buffer.slice(t-64)):new Uint8Array(0),this},h.ArrayBuffer.prototype.end=function(e){var t,r,o=this._buff,n=o.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<n;t+=1)i[t>>2]|=o[t]<<(t%4<<3);return this._finish(i,n),r=c(this._hash),e&&(r=f(r)),this.reset(),r},h.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},h.ArrayBuffer.prototype.getState=function(){var e=h.prototype.getState.call(this);return e.buff=d(e.buff),e},h.ArrayBuffer.prototype.setState=function(e){return e.buff=u(e.buff,!0),h.prototype.setState.call(this,e)},h.ArrayBuffer.prototype.destroy=h.prototype.destroy,h.ArrayBuffer.prototype._finish=h.prototype._finish,h.ArrayBuffer.hash=function(e,t){var r=c(s(new Uint8Array(e)));return t?f(r):r},h}()})),s.register("l8Mvp",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0});var r=s("983NH");r.__exportStar(s("4Wqfl"),e.exports),r.__exportStar(s("jfxsv"),e.exports)})),s.register("4Wqfl",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),s("983NH").__exportStar(s("eEntt"),e.exports)})),s.register("eEntt",(function(e,t){"use strict";var r;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.sliceData=e.exports.getTlvDataParser=e.exports.TlvDataTypeIndexMap=e.exports.convertActionOutputTlvToJsObject=e.exports.convertEventTlvToJsObject=e.exports.eventTlvData=e.exports.convertPropertiesChangeToTlv=e.exports.convertActionControlToTlv=e.exports.convertPropertiesTlvToJsObject=e.exports.tlvHex=e.exports.stringToTlv=e.exports.genHead=e.exports.getTypeHead=e.exports.getTypeIndexFromHead=e.exports.getTypeFromHead=e.exports.getStrLength=void 0;var o=s("983NH"),n=s("fOlEO"),i=o.__importStar(s("3BDM5")),a=s("baYlh"),c=n.AppDevSdk.utils.byteUtil;e.exports.getStrLength=function(e){return parseInt(e.slice(0,2).join(""),16)},e.exports.getTypeFromHead=function(e){return parseInt(e,16)>>5},e.exports.getTypeIndexFromHead=function(e){return 31&parseInt(e,16)},e.exports.getTypeHead=function(e,t){return"string"==typeof e&&(e=parseInt(e,2)),"string"==typeof t&&(t=parseInt(t,2)),c.byteToHex(e<<5|31&t)},e.exports.genHead=function(e,t){var r=i.TLV_TYPE_INDEX[e];return c.byteToHex(r<<5|31&t)},e.exports.stringToTlv=function(e){var t=""+a.U16ToHexString(e.length)+c.byteArrayToHex(c.stringToByteArray(e));return c.hexString2hexArray(t)||[""]};var l=function(t){var r,o=t.type,n=t.tlvHex,s=t.hexIndex,l=t.needResolveType,u=void 0===l||l,d=i.TLV_TYPE_LENGTH,p=i.BLE_IOT_DATA_TYPE_BOOL,f=i.BLE_IOT_DATA_TYPE_INT,h=i.BLE_IOT_DATA_TYPE_ENUM,v=i.BLE_IOT_DATA_TYPE_FLOAT,g=i.BLE_IOT_DATA_TYPE_TIME,_=i.BLE_IOT_DATA_TYPE_STRING,m=i.BLE_IOT_DATA_TYPE_STRUCT,E=i.BLE_IOT_DATA_TYPE_ARRAY;switch(u&&++s,o){case p:r=parseInt(n[s],16),s++;break;case g:case h:r=parseInt(n.slice(s,s+=d[o]).join(""),16);break;case v:r=parseFloat(""+c.hexArray2Float32(n.slice(s,s+=d[o]),3));break;case f:r=c.hex2Int32(n.slice(s,s+=d[o]));break;case _:var y=n.slice(s),T=e.exports.getStrLength(y);s+=2,y=n.slice(s,s+=T),r=a.hex2str(y);break;case E:case m:y=n.slice(s),T=e.exports.getStrLength(y),s+=2,r=y=n.slice(s,s+=T)}return{hexIndex:s,value:r}},u=function(t,r,o,n){void 0===o&&(o=0),void 0===n&&(n=!1);for(var s={},a=o;a<r.length;){var c=e.exports.getTypeFromHead(r[a]),d=t[e.exports.getTypeIndexFromHead(r[a])];if(!d)throw{code:"ID_TEMPLATE_IS_NOT_EXIT"};var p=n?d.dataType.type:d.define.type;if(console.log("---type---",c,i.TLV_TYPE_INDEX[p]),c!==i.TLV_TYPE_INDEX[p])throw{code:"TYPE_IN_MODULE_IS_WRONG"};var f=l({type:p,tlvHex:r,hexIndex:a});if(a=f.hexIndex,p===i.BLE_IOT_DATA_TYPE_ARRAY){for(var h=f.value||[],v=[],g=d.define.arrayInfo.type,_=0;_<h.length;){var m=l({type:g,tlvHex:h,hexIndex:_,needResolveType:!1}),E=m.hexIndex,y=m.value;_=E,g===i.BLE_IOT_DATA_TYPE_STRUCT?v.push(u(d.define.arrayInfo.specs,y,0,!0)):v.push(y)}console.log("ARRAY",d,f,v),s[d.id]=v}else p===i.BLE_IOT_DATA_TYPE_STRUCT?(console.log("STRUCT",d.define.specs,f.value),s[d.id]=u(d.define.specs,f.value,0,!0)):s[d.id]=f.value}return s},d=function(e){var t={};return e.map((function(e,r){t[e.id]=r})),t},p=function(t){var r=t.type,n=t.typeIndex,s=void 0===n?0:n,l=t.value,u=t.templateConfig,h=void 0===u?{}:u,v=t.needGenHead,g=void 0===v||v,_=i.BLE_IOT_DATA_TYPE_BOOL,m=i.BLE_IOT_DATA_TYPE_INT,E=i.BLE_IOT_DATA_TYPE_ENUM,y=i.BLE_IOT_DATA_TYPE_FLOAT,T=i.BLE_IOT_DATA_TYPE_TIME,b=i.BLE_IOT_DATA_TYPE_STRING,C=i.BLE_IOT_DATA_TYPE_STRUCT,I=i.BLE_IOT_DATA_TYPE_ARRAY,x=c.hexString2hexArray,A=c.int32ToHex,S=c.byteToHex,D=c.convertNumberToByte,w=[];switch(r){case _:w=[S(D(l))];break;case T:case m:w=x(A(l))||[""];break;case E:w=x(a.U16ToHexString(l))||[""];break;case y:w=c.float32ToHexArray(parseFloat(l))||[""];break;case b:w=e.exports.stringToTlv(l);break;case C:var O=d(h),N=f(l,O,h,!0).tlvData,R=N.length;w=o.__spread(c.hexString2hexArray(a.U16ToHexString(R)),N);break;case I:var B=h[0],P=l;B&&Array.isArray(P)&&P.forEach((function(e){var t=p({type:B.type,value:e,needGenHead:!1,templateConfig:B.type===C?B.specs:{}});w.push.apply(w,o.__spread(t))})),w=o.__spread(c.hexString2hexArray(a.U16ToHexString(w.length)),w)}return g&&w.unshift(e.exports.genHead(r,s)),o.__spread(w)},f=function(e,t,r,n){void 0===n&&(n=!1);var s=[];Object.keys(e).forEach((function(o){var a=t[o],c=r[a]&&(n?r[a].dataType:r[a].define),l=null==c?void 0:c.type;if(!l)throw{code:"TEMPLATE_NOT_MATCH",detail:{jsObj:e,templateConfig:r}};var u=void 0;switch(l){case i.BLE_IOT_DATA_TYPE_ARRAY:u=[r[a].define.arrayInfo];break;case i.BLE_IOT_DATA_TYPE_STRUCT:u=r[a].define.specs;break;default:u={}}s[a]=p({type:l,typeIndex:a,value:e[o],templateConfig:u})}));var a=[];return s.map((function(e){(null==e?void 0:e.length)&&a.push.apply(a,o.__spread(e))})),console.log("---tlvData---",a),{tlvData:a,tmpData:s}};e.exports.tlvHex=["00","00","81","00","00","22","00","00","00","00","43","00","0C","64","65","66","61","75","6C","74","20","6E","61","6D","65"],e.exports.convertPropertiesTlvToJsObject=function(e,t){var r=i.TEMPLATE_PROPERTY;console.log("---tlvHex--",e);var o=t[r];if(!o)throw{code:"NO_SUCH_MODE_FOR_THIS_PRODUCT"};return u(o,e)},e.exports.convertActionControlToTlv=function(e,t){console.log("---convertActionControlToTlv--",e);var r=t[i.TEMPLATE_ACTIONS],o=d(r)[e.actionId],n=r[o],s=e.params,a=d(n.input);console.log("---jsObj--",s,a);var c=f(s,a,n.input);return{actionIndex:o,tlvData:c.tlvData,tmpData:c.tmpData}},e.exports.convertPropertiesChangeToTlv=function(e,t){var r=i.TEMPLATE_PROPERTY;console.log("---jsObj--",e,t);var o=t[r],n=d(o),s=f(e,n,o),a=s.tlvData,c=s.tmpData;return console.warn("---tlvData---",a),console.warn("---tmpData---",c),{tlvData:a,tmpData:c}},e.exports.eventTlvData=["01","60","00","00","80","3F"],e.exports.convertEventTlvToJsObject=function(e,t){var r=i.TEMPLATE_EVENTS,o=parseInt(e[0],16),n=t[r][o];if(!n)throw{code:"NO_SUCH_MODE_FOR_THIS_PRODUCT"};var s=u(n.params,e,1);return{eventId:n.id,eventIndex:o,params:s}},e.exports.convertActionOutputTlvToJsObject=function(e,t){var r=parseInt(e[0],16),o=t[i.TEMPLATE_ACTIONS][r];if(!o)throw{code:"NO_SUCH_MODE_FOR_THIS_PRODUCT"};var n=u(o.output,e,1);return{actionId:o.id,actionIndex:r,outputParams:n}},e.exports.TlvDataTypeIndexMap=((r={})[i.PROPERTY_REPORT]=2,r[i.EVENT_REPORT]=3,r[i.ACTION_REPLY]=4,r.default=2,r),e.exports.getTlvDataParser=function(t){void 0===t&&(t="default");var r=[];return function(n){console.log("----data----",n);var s=e.exports.getStrLength(n),l=s>>14,u=s>>13&1,d=i.SPLIT_MAP[l];switch(console.log(l,d,t),d){case i.SPLIT_FIRST:return r=o.__spread(n.slice(2)),null;case i.SPLIT_MIDDLE:return r=r.concat(n.slice(void 0!==e.exports.TlvDataTypeIndexMap[t]?e.exports.TlvDataTypeIndexMap[t]:2)),null;case i.SPLIT_LAST:return(r=r.concat(n.slice(void 0!==e.exports.TlvDataTypeIndexMap[t]?e.exports.TlvDataTypeIndexMap[t]:2))).splice.apply(r,o.__spread([0,0],c.hexString2hexArray(a.U16ToHexString(u<<15|r.length))||[])),console.log("----completeData---",r),r;case i.NOT_SPLIT:return n}}},e.exports.sliceData=function(e,t){var r=t.head,n=t.mtu,s=t.mode,c=[],l=[],u=n-r.length-2;return e.forEach((function(e){if(e.length<u)l.push(e);else for(var t=s===i.CONTROL_ACTION,r=t?1:0;r<e.length;r+=u)t?l.push(o.__spread([e[1]],e.slice(r,r+u))):l.push(e.slice(r,r+u))})),l.forEach((function(e,t){var o,n=r.join("");o=0===t?i.SPLIT_INDEX_MAP[i.SPLIT_FIRST]:t===l.length-1?i.SPLIT_INDEX_MAP[i.SPLIT_LAST]:i.SPLIT_INDEX_MAP[i.SPLIT_MIDDLE],n+=a.U16ToHexString(o<<14|e.length),n+=e.join(""),c.push(n)})),c}})),s.register("3BDM5",(function(e,t){"use strict";var r,o,n;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.SPLIT_INDEX_MAP=e.exports.SPLIT_MAP=e.exports.SPLIT_LAST=e.exports.SPLIT_MIDDLE=e.exports.SPLIT_FIRST=e.exports.NOT_SPLIT=e.exports.TEMPLATE_ACTIONS=e.exports.TEMPLATE_EVENTS=e.exports.TEMPLATE_PROPERTY=e.exports.TLV_TYPE_LENGTH=e.exports.TLV_TYPE_INDEX=e.exports.BLE_IOT_DATA_TYPE_ARRAY=e.exports.BLE_IOT_DATA_TYPE_STRUCT=e.exports.BLE_IOT_DATA_TYPE_TIME=e.exports.BLE_IOT_DATA_TYPE_ENUM=e.exports.BLE_IOT_DATA_TYPE_FLOAT=e.exports.BLE_IOT_DATA_TYPE_STRING=e.exports.BLE_IOT_DATA_TYPE_INT=e.exports.BLE_IOT_DATA_TYPE_BOOL=e.exports.ACTION_REPLY=e.exports.EVENT_REPORT=e.exports.CONTROL_ACTION=e.exports.PROPERTY_REPORT=void 0,e.exports.PROPERTY_REPORT="PROPERTY_REPORT",e.exports.CONTROL_ACTION="CONTROL_ACTION",e.exports.EVENT_REPORT="EVENT_REPORT",e.exports.ACTION_REPLY="ACTION_REPLY",e.exports.BLE_IOT_DATA_TYPE_BOOL="bool",e.exports.BLE_IOT_DATA_TYPE_INT="int",e.exports.BLE_IOT_DATA_TYPE_STRING="string",e.exports.BLE_IOT_DATA_TYPE_FLOAT="float",e.exports.BLE_IOT_DATA_TYPE_ENUM="enum",e.exports.BLE_IOT_DATA_TYPE_TIME="timestamp",e.exports.BLE_IOT_DATA_TYPE_STRUCT="struct",e.exports.BLE_IOT_DATA_TYPE_ARRAY="array",e.exports.TLV_TYPE_INDEX=((r={})[e.exports.BLE_IOT_DATA_TYPE_BOOL]=0,r[e.exports.BLE_IOT_DATA_TYPE_INT]=1,r[e.exports.BLE_IOT_DATA_TYPE_STRING]=2,r[e.exports.BLE_IOT_DATA_TYPE_FLOAT]=3,r[e.exports.BLE_IOT_DATA_TYPE_ENUM]=4,r[e.exports.BLE_IOT_DATA_TYPE_TIME]=5,r[e.exports.BLE_IOT_DATA_TYPE_STRUCT]=6,r[e.exports.BLE_IOT_DATA_TYPE_ARRAY]=7,r),e.exports.TLV_TYPE_LENGTH=((o={})[e.exports.BLE_IOT_DATA_TYPE_BOOL]=1,o[e.exports.BLE_IOT_DATA_TYPE_INT]=4,o[e.exports.BLE_IOT_DATA_TYPE_FLOAT]=4,o[e.exports.BLE_IOT_DATA_TYPE_ENUM]=2,o[e.exports.BLE_IOT_DATA_TYPE_TIME]=4,o),e.exports.TEMPLATE_PROPERTY="properties",e.exports.TEMPLATE_EVENTS="events",e.exports.TEMPLATE_ACTIONS="actions",e.exports.NOT_SPLIT="NOT_SPLIT",e.exports.SPLIT_FIRST="SPLIT_FIRST",e.exports.SPLIT_MIDDLE="SPLIT_MIDDLE",e.exports.SPLIT_LAST="SPLIT_LAST",e.exports.SPLIT_MAP={0:e.exports.NOT_SPLIT,1:e.exports.SPLIT_FIRST,2:e.exports.SPLIT_MIDDLE,3:e.exports.SPLIT_LAST},e.exports.SPLIT_INDEX_MAP=((n={})[e.exports.NOT_SPLIT]=0,n[e.exports.SPLIT_FIRST]=1,n[e.exports.SPLIT_MIDDLE]=2,n[e.exports.SPLIT_LAST]=3,n)})),s.register("jfxsv",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),s("983NH").__exportStar(s("ebbUa"),e.exports)})),s.register("ebbUa",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.SimpleQueue=void 0;var r=s("983NH"),o=function(){function e(e){var t=e.autoStart,r=void 0===t||t,o=e.handler,n=e.onTaskSuccess,i=e.onTaskError;if(this.taskIdCount=0,this.inBusy=!1,this.startExecute=!1,"function"!=typeof o)throw"params handler is not a function";this.autoStart=r,this.handler=o,this.onTaskSuccess=n,this.onTaskError=i,this.queue=[]}return e.prototype.push=function(e){var t=this.getTaskId();return this.queue.push({taskId:t,businessData:e}),this.autoStart&&this.start(),{taskId:t}},e.prototype.start=function(){this.startExecute=!0,this._start()},e.prototype.remove=function(e){var t=this.queue.findIndex((function(t){return t.taskId===e}));-1!==t&&this.queue.splice(t,1)},e.prototype.stop=function(){this.startExecute=!1},e.prototype.clear=function(){this.stop(),this.queue=[]},e.prototype._start=function(){return r.__awaiter(this,void 0,void 0,(function(){var e,t,o;return r.__generator(this,(function(r){switch(r.label){case 0:if(!this.startExecute||this.inBusy||this.queue.length<=0)return[2];e=this.queue.shift(),this.inBusy=!0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.handler(e)];case 2:t=r.sent();try{"function"==typeof this.onTaskSuccess&&this.onTaskSuccess(e,t)}catch(e){}return[3,4];case 3:o=r.sent(),console.error("simple queue execute handler error",o);try{"function"==typeof this.onTaskError&&this.onTaskError(o,e)}catch(e){}return[3,4];case 4:return this.inBusy=!1,this._start(),[2]}}))}))},e.prototype.getTaskId=function(){return String(++this.taskIdCount)},e}();e.exports.SimpleQueue=o})),s.register("7B6WE",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.CRC32=void 0;var r=s("fOlEO").AppDevSdk.utils.byteUtil,o=function(){function e(){this.crcTable=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],this.CRC_INITIAL=4294967295,this.value=this.init=this.CRC_INITIAL}return e.prototype.updateValue=function(e,t,r){for(var o=0;o<r;o++){var n=e[t+o]^this.value;this.value=4294967295&(this.crcTable[255&n]^this.value>>>8)}},e.prototype.update=function(e){e instanceof Int8Array?this.updateValue(e,0,e.length):"number"==typeof e&&this.update(new Int8Array([r.convertNumberToByte(e)]))},e.prototype.getValue=function(){return(-1^this.value)>>>0},e.prototype.reset=function(){this.value=this.init},e}();e.exports.CRC32=o})),s.register("9ZDLh",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.Models=void 0;var r=s("983NH"),o=s("7Iw8Y"),n=r.__importDefault(s("hK4CE")),i=function(){function e(e){this.appDevSdk=e}return e.prototype.getDeviceConfig=function(e){var t=e.DeviceId,o=e.DeviceKey,n=void 0===o?"*":o,i=e.isUserConfig,s=void 0!==i&&i;return r.__awaiter(this,void 0,void 0,(function(){var e,o,i,a;return r.__generator(this,(function(r){switch(r.label){case 0:e={},r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.appDevSdk.requestApi(s?"AppGetUserDeviceConfig":"AppGetDeviceConfig",{DeviceId:t,DeviceKey:n})];case 2:return o=r.sent(),e=o.Configs,[3,4];case 3:return i=r.sent(),console.warn("AppGetDeviceConfig fail",i),[3,4];case 4:if("*"===n)return[2,e];if("string"==typeof(a=e[n])&&~a.indexOf("{"))try{a=JSON.parse(a)}catch(e){console.warn("parse device value fail",e)}return[2,a]}}))}))},e.prototype.setDeviceConfig=function(e){var t=e.DeviceId,r=e.DeviceKey,o=e.DeviceValue,n=e.isUserConfig,i=void 0!==n&&n;return"string"!=typeof o&&(o=JSON.stringify(o)),this.appDevSdk.requestApi(i?"AppSetUserDeviceConfig":"AppSetDeviceConfig",{DeviceId:t,DeviceKey:r,DeviceValue:o})},e.prototype.reportBlueToothDeviceData=function(e){var t=e.ProductId,o=e.DeviceName,n=e.Data,i=e.DataTimeStamp;return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return n||(n={}),"string"!=typeof n&&(n=JSON.stringify(n)),[2,this.appDevSdk.requestApi("AppReportDataAsDevice",{ProductId:t,DeviceName:o,Data:n,DataTimeStamp:i})]}))}))},e.prototype.getDeviceData=function(e){var t=e.ProductId,o=e.DeviceName;return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,this.appDevSdk.requestApi("AppGetDeviceData",{ProductId:t,DeviceName:o})];case 1:e=r.sent().Data;try{return"string"==typeof e&&(e=JSON.parse(e)),[2,e]}catch(e){return console.error("parse json fail",{ProductId:t,DeviceName:o},e),[2,{}]}return[2]}}))}))},e.prototype.reportDeviceEvent=function(e){var t=e.DeviceId,o=e.EventId,n=e.Params;return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.appDevSdk.requestApi("AppReportDeviceEvent",{DeviceId:t,EventId:o,Params:n,Method:"ReportEventAsDevice"})]}))}))},e.prototype.addDeviceBySigInFamily=function(e){var t=e.Signature,o=e.DeviceTimestamp,n=e.ProductId,i=e.DeviceName,s=e.DeviceId,a=e.ConnId,c=e.FamilyId,l=e.RoomId,u=e.SignMethod,d=void 0===u?"hmacsha1":u,p=e.BindType,f=void 0===p?"other_sign":p;return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return[4,this.appDevSdk.requestApi("AppSigBindDeviceInFamily",{Signature:t,DeviceTimestamp:o,ProductId:n,DeviceName:i,DeviceId:s,ConnId:a,FamilyId:c,RoomId:l,BindType:f,SignMethod:d})];case 1:return[2,e.sent().Data.AppDeviceInfo]}}))}))},e.prototype.deleteDeviceFromFamily=function(e){var t=e.FamilyId,o=e.DeviceId;return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.appDevSdk.requestApi("AppDeleteDeviceInFamily",{FamilyId:t,DeviceId:o})]}))}))},e.prototype.reportDeviceInfo=function(e){var t=e.productId,o=e.deviceName,i=e.deviceInfo;return r.__awaiter(this,void 0,void 0,(function(){var e,s;return r.__generator(this,(function(r){return e={method:"report_info",clientToken:t+"/"+o+"-"+n.default(),params:i},s={ProductId:t,DeviceName:o,Topic:"$thing/up/property/"+t+"/"+o,Payload:JSON.stringify(e)},[2,this.appDevSdk.requestApi("AppPublishMsgAsDevice",s)]}))}))},e.prototype.publishDeviceActionMessage=function(e){var t=e.productId,o=e.deviceName,n=e.clientToken,i=e.actionId,s=e.output;return r.__awaiter(this,void 0,void 0,(function(){var e,a;return r.__generator(this,(function(r){return e={method:"action_reply",clientToken:n,ActionId:i,timestamp:Math.floor(Date.now()/1e3),response:s,code:0,status:"action execute success!"},a={ProductId:t,DeviceName:o,Topic:"$thing/up/action/"+t+"/"+o,Payload:JSON.stringify(e)},console.log("---reply action---",a),[2,this.appDevSdk.requestApi("AppPublishMsgAsDevice",a)]}))}))},e.prototype.reportOTAVersion=function(e){var t=e.Version,o=e.DeviceId;return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.appDevSdk.requestApi("AppReportFirmwareVersion",{Version:t,DeviceId:o})]}))}))},e.prototype.getDeviceOTAInfo=function(e){var t=e.DeviceId;return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.appDevSdk.requestApi("AppGetDeviceOTAInfo",{DeviceId:t})]}))}))},e.prototype.getProduct=function(e){var t=e.ProductId;return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return[4,this.appDevSdk.requestApi("AppGetProducts",{ProductIds:[t]})];case 1:return[2,e.sent().Products[0]]}}))}))},e.prototype.getProductConfig=function(e){var t=e.ProductId;return r.__awaiter(this,void 0,void 0,(function(){var e,n;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,this.appDevSdk.requestApi("AppGetProductsConfig",{ProductIds:[t]})];case 1:return e=r.sent().Data,n={},e.forEach((function(e){try{e.Config=JSON.parse(e.Config)}catch(t){e.Config={}}n[e.ProductId]=o.initializeUIDevConfig(e.Config)})),[2,n[t]]}}))}))},e.prototype.dynamicRegisterDevice=function(e){var t=e.deviceName,o=e.productId,n=e.timestamp,i=e.nonce,s=e.sign;return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return[4,this.appDevSdk.requestApi("AppDeviceDynamicRegister",{DeviceId:o+"/"+t,DeviceTimestamp:n,Nonce:i,Signature:s})];case 1:return[2,{payload:e.sent().Payload}]}}))}))},e}();e.exports.Models=i})),s.register("7Iw8Y",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0});var r=s("983NH");r.__exportStar(s("8FDUB"),e.exports),r.__exportStar(s("febaV"),e.exports),r.__exportStar(s("aDM9l"),e.exports);var o=s("kyqfh");Object.defineProperty(e.exports,"fillWithDefaults",{enumerable:!0,get:function(){return o.fillWithDefaults}})})),s.register("8FDUB",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.initializeUIDevConfig=void 0;var r=s("983NH"),o=s("febaV"),n=s("aDM9l"),i=s("kyqfh");e.exports.initializeUIDevConfig=function(e){void 0===e&&(e={});var t=r.__assign({},e);return t.Panel||(t.Panel={}),t.Panel.type||(t.Panel.type=o.PanelType.standard),"h5"===t.Panel.type&&(t.Panel.h5&&(!t.Panel.h5||t.Panel.h5.url||t.Panel.h5.release)||(t.Panel.type=o.PanelType.standard)),"free"!==t.Panel.type||t.Panel.free||(t.Panel.free={}),"standard"!==t.Panel.type||t.Panel.standard||(t.Panel.standard={theme:"standard",properties:[],bgImgId:"Default",navBar:{visible:!1},timingProject:!1}),t.Global||(t.Global={customizeControl:!1}),t.WifiSoftAP=i.fillWithDefaults(t.WifiSoftAP,{hardwareGuide:n.DEFAULT_HARDWARE_GUIDE.SoftAp,connectApGuide:n.DEFAULT_CONNECT_AP_GUIDE}),t.WifiSmartConfig=i.fillWithDefaults(t.WifiSmartConfig,{hardwareGuide:n.DEFAULT_HARDWARE_GUIDE.SmartConfig}),t.WifiSimpleConfig=i.fillWithDefaults(t.WifiSimpleConfig,{hardwareGuide:n.DEFAULT_HARDWARE_GUIDE.SimpleConfig}),t.WifiAirkiss=i.fillWithDefaults(t.WifiAirkiss,{hardwareGuide:n.DEFAULT_HARDWARE_GUIDE.AirKiss}),t.WifiBle=i.fillWithDefaults(t.WifiBle,{hardwareGuide:n.DEFAULT_HARDWARE_GUIDE.BleCombo}),t.SubDeviceBinding=i.fillWithDefaults(t.SubDeviceBinding,{hardwareGuide:n.DEFAULT_HARDWARE_GUIDE.SubDeviceBinding}),t.WifiLLSyncBle=i.fillWithDefaults(t.WifiLLSyncBle,{hardwareGuide:n.DEFAULT_HARDWARE_GUIDE.BleComboLLSync}),t.WiFiQRCode=i.fillWithDefaults(t.WiFiQRCode,{hardwareGuide:n.DEFAULT_HARDWARE_GUIDE.Qrcode,qrcodeDisplayGuide:n.DEFAULT_QRCODE_DISPLAY_GUIDE}),t.BleConfig||(t.BleConfig={}),t.BleConfig.protocolType||(t.BleConfig.protocolType=o.BleProtocolType.standard),!t.BleConfig.hardwareGuide&&t.BleConfig.bindingBootConfig&&(t.BleConfig.hardwareGuide=n.bindingBootConfig2BleHardwareGuideConfig(t.BleConfig.bindingBootConfig)),t.BleConfig.hardwareGuide=i.fillWithDefaults(t.BleConfig.hardwareGuide,n.DEFAULT_HARDWARE_GUIDE.LLSync),t.BleConfig.bindingBootConfig=i.fillWithDefaults(t.BleConfig.bindingBootConfig,n.bleHardwareGuideConfig2BindingBootConfig(t.BleConfig.hardwareGuide)),t.CellularConfig=i.fillWithDefaults(t.CellularConfig,{hardwareGuide:n.DEFAULT_HARDWARE_GUIDE.CellularConfig}),Array.isArray(t.WifiConfTypeList)||(t.WifiConfTypeList=[o.WifiConfType.SmartConfig,o.WifiConfType.SoftAp,o.WifiConfType.AirKiss]),t.ShortCut||(t.ShortCut={powerSwitch:"",shortcut:[]}),t.AppAutomation||(t.AppAutomation={conditions:[],actions:[]}),t}})),s.register("febaV",(function(e,t){"use strict";var r;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.BleProtocolType=e.exports.WifiConfType=e.exports.WifiConfSoftApNameType=e.exports.StandardPanelPropertyBtnType=e.exports.StandardPanelWidgetType=e.exports.PanelType=void 0,(r=e.exports.PanelType||(e.exports.PanelType={})).standard="standard",r.h5="h5",r.weapp="weapp",r.free="free",r.custom="custom",function(e){e.BoolNormal="bool-normal",e.BoolSmall="bool-small",e.NumBtn="num-btn",e.NumSlider="num-slider",e.EnumBtn="enum-btn",e.EnumSlider="enum-slider",e.EnumPopup="enum-popup",e.EnumTitle="enum-title"}(e.exports.StandardPanelWidgetType||(e.exports.StandardPanelWidgetType={})),function(e){e.BtnBig="btn-big",e.BtnCol1="btn-col-1",e.BtnCol2="btn-col-2",e.BtnCol3="btn-col-3",e.BtnSwitch="btn-switch",e.BtnGroup="btn-group"}(e.exports.StandardPanelPropertyBtnType||(e.exports.StandardPanelPropertyBtnType={})),function(e){e.Random="Random",e.FixWhole="FixWhole"}(e.exports.WifiConfSoftApNameType||(e.exports.WifiConfSoftApNameType={})),function(e){e.SoftAp="softap",e.SmartConfig="smartconfig",e.SimpleConfig="simpleconfig",e.AirKiss="airkiss",e.BLEComboEsp="ble",e.BLEComboLLSync="llsyncble",e.DualMode="dualmode",e.SubDevice="sub_device",e.GreeSoftAp="greesoftap",e.GreeBle="greeble",e.GreeSubDevice="greesubdevice",e.GreeMatching="greematching",e.Qrcode="qrcode"}(e.exports.WifiConfType||(e.exports.WifiConfType={})),function(e){e.undetermined="",e.standard="standard",e.standardAdvert="standardAdvert",e.standardMesh="standardMesh",e.custom="custom"}(e.exports.BleProtocolType||(e.exports.BleProtocolType={}))})),s.register("aDM9l",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.bleHardwareGuideConfig2BindingBootConfig=e.exports.bindingBootConfig2BleHardwareGuideConfig=e.exports.getProductIconUrl=e.exports.DEFAULT_QRCODE_DISPLAY_GUIDE=e.exports.DEFAULT_CONNECT_AP_GUIDE=e.exports.EMPTY_CONNECT_AP_GUIDE=e.exports.EMPTY_BIND_BOOT_CONFIG=e.exports.DEFAULT_HARDWARE_GUIDE=e.exports.EMPTY_HARDWARE_GUIDE=e.exports.DEFAULT_HARDWARE_GUIDE_IMAGE=e.exports.DEFAULT_PRODUCT_ICON=void 0,e.exports.DEFAULT_PRODUCT_ICON="https://main.qcloudimg.com/raw/5692deb2b43bdd5c8c7768b1205d526d.png",e.exports.DEFAULT_HARDWARE_GUIDE_IMAGE="https://main.qcloudimg.com/raw/9bd7b9e866201e2cac1006c3ccb4c002.jpg",e.exports.EMPTY_HARDWARE_GUIDE={message:"",btnText:"",bgImg:"",guide:""},e.exports.DEFAULT_HARDWARE_GUIDE={SmartConfig:{message:"1. \n2. \n3. ",btnText:"",bgImg:e.exports.DEFAULT_HARDWARE_GUIDE_IMAGE,guide:""},SimpleConfig:{message:"1. \n2. \n3. ",btnText:"",bgImg:e.exports.DEFAULT_HARDWARE_GUIDE_IMAGE,guide:""},SoftAp:{message:"1. \n2. \n3. ",btnText:"",bgImg:e.exports.DEFAULT_HARDWARE_GUIDE_IMAGE,guide:""},AirKiss:{message:"1. \n2. \n3. ",btnText:"",bgImg:e.exports.DEFAULT_HARDWARE_GUIDE_IMAGE,guide:""},BleCombo:{message:"1. \n2. \n3. ",btnText:"",bgImg:e.exports.DEFAULT_HARDWARE_GUIDE_IMAGE,guide:""},BleComboLLSync:{message:"1. \n2. \n3. ",btnText:"",bgImg:e.exports.DEFAULT_HARDWARE_GUIDE_IMAGE,guide:""},SubDeviceBinding:{message:"5",btnText:"",bgImg:e.exports.DEFAULT_HARDWARE_GUIDE_IMAGE},CellularConfig:{guide:"",message:"1.\n2.",btnText:"",bgImg:e.exports.DEFAULT_HARDWARE_GUIDE_IMAGE},LLSync:{confirmRequired:0,message:"BLE",userConfirmText:"BLE",guide:"1.\n2.",failText:"1. \n2. \n3. ",bgImg:"https://main.qcloudimg.com/raw/2751e7f5d9fb349099b017a0359d30ed.png",btnText:""},Qrcode:{message:"1. \n2. \n3. ",btnText:"",bgImg:e.exports.DEFAULT_HARDWARE_GUIDE_IMAGE,guide:""}},e.exports.EMPTY_BIND_BOOT_CONFIG={confirmRequired:"0",guideTooltip:"",confirmTooltip:"",failTooltip:"",bgImg:""},e.exports.EMPTY_CONNECT_AP_GUIDE={message:"",btnText:"",apName:"",showPasswordBox:!0},e.exports.DEFAULT_CONNECT_AP_GUIDE={message:"1. WiFi\n2. ",btnText:"",apName:"",showPasswordBox:!0},e.exports.DEFAULT_QRCODE_DISPLAY_GUIDE={message:"15cm"},e.exports.getProductIconUrl=function(t,r){void 0===r&&(r=!0),t||(t={});var o=t.IconUrlGrid||t.IconUrl;return!o&&r?e.exports.DEFAULT_PRODUCT_ICON:o},e.exports.bindingBootConfig2BleHardwareGuideConfig=function(e){return e||(e={}),{message:e.resetTooltip,bgImg:e.bgImg,btnText:"",guide:e.guideTooltip,confirmRequired:+e.confirmRequired,userConfirmText:e.confirmTooltip,failText:e.failTooltip}},e.exports.bleHardwareGuideConfig2BindingBootConfig=function(e){return e||(e={}),{confirmRequired:String(e.confirmRequired),guideTooltip:e.guide,resetTooltip:e.message,confirmTooltip:e.userConfirmText,failTooltip:e.failText,bgImg:e.bgImg}}})),s.register("kyqfh",(function(e,t){"use strict";function r(e){return"object"==typeof e?null===e:"function"!=typeof e}function o(e,t){Array.isArray(e)?e.forEach((function(e,r){return t(e,r)})):Object.keys(e).forEach((function(r){return t(e[r],r)}))}function n(e){return"[object Object]"===Object.prototype.toString.call(e)}function i(e){if(!1===n(e))return!1;var t=e.constructor;if(void 0===t)return!0;var r=t.prototype;return!1!==n(r)&&!1!==r.hasOwnProperty("isPrototypeOf")}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.fillWithDefaults=e.exports.isPlainObject=e.exports.forEach=e.exports.isPrimitive=void 0,e.exports.isPrimitive=r,e.exports.forEach=o,e.exports.isPlainObject=i,e.exports.fillWithDefaults=function e(t,n){if(r(t))return t||n;var s={};return t||(t={}),n||(n={}),o(n,(function(r,o){i(r)?s[o]=e(t[o],r):s[o]=t[o]||r})),o(t,(function(e,t){s[t]?i(e)&&o(e,(function(e,r){void 0===s[t][r]&&(s[t][r]=e)})):s[t]=e})),s}})),s.register("7BXp7",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.LLSyncDeviceAdapterBase=void 0;var r=s("983NH"),o=s("fOlEO"),n=r.__importStar(s("6TYuz")),i=r.__importStar(s("jc4SE")),a=s("4ZYAF"),c=s("6xhzW"),l=o.AppDevSdk.utils,u=l.genPromise,d=l.delay,p=l.envDetect,f=function(e){function t(t){var r=e.call(this,t)||this;return r.on("message",r.notifyMessage.bind(r)),r.writeDataQueue=new c.SimpleQueue({autoStart:!0,handler:function(e){var t=e.businessData;return r.writeDataInternal(t)},onTaskSuccess:function(e){var t=e.businessData;return"function"==typeof t.onSuccess&&t.onSuccess()},onTaskError:function(e,t){var r=t.businessData;return"function"==typeof r.onError&&r.onError(e)}}),r}return r.__extends(t,e),t.prototype.notifyMessage=function(e){var t=void 0===e?{}:e,r=t.type,o=t.data;if("unknown"!==r)return console.log("check this in notifyMessage",this,{type:r,data:o}),this.emit(r,{type:r,data:o})},t.prototype.handleBLEMessage=function(e){var t=parseInt(e.slice(0,1),16),r={type:i.INDICATE_TYPE_MAP[t]||"unknown",data:e.splice(1)};return console.log("Message(hex)",r),r},t.prototype.wait4EventResponse=function(e,t,o){var i=void 0===o?{}:o,s=i.timeout,a=i.timeoutCode,c=i.timeoutHandler,l=i.wrapSplitDataMode,d=i.shouldWrapSplitDataFn,p=void 0===d||d,f=i.afterBindEvent;return r.__awaiter(this,void 0,void 0,(function(){var o,i,d,h,v,g=this;return r.__generator(this,(function(_){switch(_.label){case 0:o=u(),console.log("wait4EventResponse",{eventName:e}),i=!1,d=function(n){return r.__awaiter(g,void 0,void 0,(function(){return r.__generator(this,(function(r){try{i?console.log("Target event: "+e+" triggered, but is already timeout"):(o.resolve(t(n)),i=!0)}catch(e){o.reject(e)}finally{this.off(e,h)}return[2]}))}))},h=p?n.wrapEventHandler(d,l):d,this.on(e,h),_.label=1;case 1:return _.trys.push([1,5,,6]),"function"!=typeof f?[3,3]:[4,f()];case 2:_.sent(),_.label=3;case 3:return[4,Promise.race([o.promise,new Promise((function(t,r){s&&s>0&&setTimeout((function(){i||(console.log("Wait for target event: "+e+" timeout"),i=!0,g.off(e,h),"function"==typeof c?(console.log("trigger timeout handler"),t(c())):r({code:a}))}),s)}))])];case 4:return[2,_.sent()];case 5:return v=_.sent(),this.off(e,h),[2,Promise.reject(v)];case 6:return[2]}}))}))},t.prototype.writeAndWait4Response=function(e,t,o,n){var s=void 0===n?{}:n,a=s.timeout,c=s.timeoutCode,l=s.timeoutHandler,u=s.writeId,d=s.wrapSplitDataMode,p=s.shouldWrapSplitDataFn,f=void 0===p||p;return r.__awaiter(this,void 0,void 0,(function(){var n=this;return r.__generator(this,(function(s){return[2,this.wait4EventResponse(t,o,{timeout:a,timeoutCode:c,timeoutHandler:l,wrapSplitDataMode:d,shouldWrapSplitDataFn:f,afterBindEvent:function(){return n.writeData(e,{writeId:u}).catch((function(e){return Promise.reject(r.__assign({code:i.BLE_WRITE_ERROR},e))}))}})]}))}))},t.prototype.writeMtuResult=function(e){var t="success"===e?0:65535,r=""+i.DEVICE_INFO_WRITE_PREFIX[i.WRITE_MTU_RESULT]+s("6TYuz").U16ToHexString(t);this.write(r,{writeId:i.DEVICE_INFO_WRITE_ID})},t.prototype.sliceData=function(e,t,r){if(!this.mtu||e.join("").length<=2*this.mtu)return[e.join("")];var o=e.slice(0,r===i.GET_STATUS?2:1);return console.log("---head----",o),n.sliceData(t,{mtu:this.mtu,head:o,mode:r})},t.prototype.writeData=function(e,t){var o=this;return void 0===t&&(t={}),new Promise((function(n,i){o.writeDataQueue.push(r.__assign({data:e,onSuccess:n,onError:i},t))}))},t.prototype.setMtu=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(r){switch(r.label){case 0:return p.isIOS?[2]:[4,this.setBLEMTU({deviceId:this.deviceId,mtu:e})];case 1:return t=r.sent(),this.reporter.info(i.ANDROID_SET_MTU,{mtu:e,ret:t}),[2,t]}}))}))},t.prototype.writeDataInternal=function(e){var t=e.data,o=e.writeId,n=e.waitGap,s=void 0===n?100:n,a=e.retryTime,c=void 0===a?5:a;return r.__awaiter(this,void 0,void 0,(function(){var e,n,a,l,u,p,f,h;return r.__generator(this,(function(v){switch(v.label){case 0:Array.isArray(t)||(t=[t]),v.label=1;case 1:v.trys.push([1,10,11,12]),e=r.__values(t),n=e.next(),v.label=2;case 2:if(n.done)return[3,9];a=n.value,l=c,v.label=3;case 3:return v.trys.push([3,5,,7]),[4,this.write(a,{writeId:o})];case 4:return v.sent(),[3,8];case 5:if(u=v.sent(),console.log("--- LLSync core writeData error ---- retry time "+l,u),--l<=0)throw u;return[4,d(Math.min(10*s*(c-l),i.MAX_WRITE_DATA_WAIT_GAP))];case 6:return v.sent(),[3,7];case 7:if(l>0)return[3,3];v.label=8;case 8:return n=e.next(),[3,2];case 9:return[3,12];case 10:return p=v.sent(),f={error:p},[3,12];case 11:try{n&&!n.done&&(h=e.return)&&h.call(e)}finally{if(f)throw f.error}return[7];case 12:return[2]}}))}))},t}(a.DeviceAdapter);e.exports.LLSyncDeviceAdapterBase=f})),s.register("4ZYAF",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.blueToothHelper=void 0;var r=s("983NH"),o=s("fOlEO").AppDevSdk.utils,n=o.arrayBufferToHexStringArray,i=o.hexToArrayBuffer,a=o.hexToStr;r.__exportStar(s("7hBxi"),e.exports),r.__exportStar(s("6ZFVv"),e.exports),r.__exportStar(s("deOKt"),e.exports),e.exports.blueToothHelper={hexToArrayBuffer:i,arrayBufferToHexStringArray:n,hexToStr:a}})),s.register("7hBxi",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0});var r=s("983NH");r.__exportStar(s("dGVVZ"),e.exports),r.__exportStar(s("j5WRf"),e.exports);var o=s("eTNzd");Object.defineProperty(e.exports,"nativeBluetoothApi",{enumerable:!0,get:function(){return o.default}}),r.__exportStar(s("8daBu"),e.exports)})),s.register("dGVVZ",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.BlueToothAdapter=void 0;var r=s("983NH"),o=s("fOlEO"),n=r.__importDefault(s("hjPqv")),i=s("k90gL"),a=s("j5WRf"),c=r.__importDefault(s("eTNzd")),l=s("3RSaR"),u=s("gGE5N"),d=s("6xhzW"),p=s("bAcyc"),f=s("8daBu"),h=o.AppDevSdk.utils,v=h.isEmpty,g=h.noop,_=h.delay,m=function(e){function t(t){var r=t.deviceAdapters,o=void 0===r?[]:r,n=t.actions,i=t.bluetoothApi,s=t.h5Websocket,a=t.devMode,d=t.ignoreAnonymousDevices,p=void 0===d||d,f=e.call(this)||this;return f._devMode=!1,f._ignoreAnonymousDevices=!0,f._bluetoothApi={},f._actions={},f._deviceAdapterFactoryMap={},f._productIdMap={},f._inited=!1,f._available=!1,f._discovering=!1,f._onBluetoothDeviceFoundHandler=null,f._onDeviceFoundThrottle=300,f._setOnDeviceFoundThrottle=g,f._onBluetoothScanAdvertisingHandler=null,f._initPromise=null,f._searchDevicePromise=null,f._deviceAdapterStore=new u.SimpleStore({filter:function(e){return function(t){return t.deviceId===e.deviceId||t.explorerDeviceId===e.explorerDeviceId}}}),f._deviceConnectStatusStore=new u.SimpleStore({filter:function(e){return function(t){return t.deviceId===e.deviceId||t.explorerDeviceId===e.explorerDeviceId}}}),f._initPeripheralServerPromise=null,f._devMode=a,f.addAdapter(o),v(f._deviceAdapterFactoryMap)&&console.warn("deviceAdapter"),f._ignoreAnonymousDevices=p,f._h5Websocket=s,f._bluetoothApi=i||c.default,f._actions=n,f.deviceCacheManager=new l.BluetoothDeviceCacheManager,f}return r.__extends(t,e),Object.defineProperty(t.prototype,"devMode",{get:function(){return"function"==typeof this._devMode?this._devMode():this._devMode},enumerable:!1,configurable:!0}),t.prototype.addAdapter=function(e,t){var r=this;void 0===t&&(t=!1);var o=function(e){t||Object.prototype.isPrototypeOf.call(a.DeviceAdapter,e)?e.serviceId?r._deviceAdapterFactoryMap[e.serviceId]=e:console.error("serviceId",e):console.error("",e)};(null==e?void 0:e.splice)?e.forEach(o):o(e)},t.prototype._filterDevices=function(e){var t,r=this,o=e.devices,n=void 0===o?[]:o,i=e.serviceIds,s=e.deviceName,a=void 0===s?"":s,c=e.productId,l=e.ignoreDeviceIds,u=void 0===l?[]:l,d=e.ignoreServiceIds,p=void 0===d?[]:d,f=e.extendInfo,h=void 0===f?{}:f,v=e.DeviceAdapter;if(v)i=[v.serviceId],t=[v.deviceFilter],console.log("specific serviceId: ",i);else{i&&i.length||(i=this._getSupportServiceIds());var g={};(null==p?void 0:p.length)&&(p.forEach((function(e){return g[e]=!0})),i=i.filter((function(e){return!g[e]}))),t=i.map((function(e){return r._deviceAdapterFactoryMap[e].deviceFilter})),console.log("support serviceIds",i)}for(var _=[],m=function(e,r){if(u.find((function(t){return n[e].deviceId===t})))return"break";for(var o=void 0,s=0,l=t.length;s<l;s++)if(o=t[s](n[e],{serviceIds:i,deviceName:a,productId:c,ignoreDeviceIds:u,ignoreServiceIds:p,extendInfo:h}),a){if(o&&o.deviceName===a)return{value:[o]}}else if(o){_.push(o);break}},E=0,y=n.length;E<y;E++){var T=m(E);if("object"==typeof T)return T.value;if("break"===T)break}return _},t.prototype._getSupportServiceIds=function(){return Object.keys(this._deviceAdapterFactoryMap)},t.prototype.setOnDeviceFoundThrottle=function(e){this._onDeviceFoundThrottle=e,this._setOnDeviceFoundThrottle(e)},t.prototype.resetOnDeviceFoundThrottle=function(){this._onDeviceFoundThrottle=300,this._setOnDeviceFoundThrottle(300)},t.prototype.onDeviceConnectStatusChange=function(e){var t=e.connected,r=e.explorerDeviceId,o=e.deviceId;console.log("onDeviceConnectStatusChange",{connected:t,explorerDeviceId:r,deviceId:o});var n=this._deviceConnectStatusStore.get({connected:t,explorerDeviceId:r});n?n.connected!==t&&(console.log("device connect status did change",{connected:t,explorerDeviceId:r,deviceId:o}),n.connected=t,this.emit("onDeviceConnectStatusChange",{connected:t,explorerDeviceId:r,deviceId:o})):(this._deviceConnectStatusStore.set({connected:t,explorerDeviceId:r,deviceId:o}),console.log("new device connected",this._deviceConnectStatusStore.getAll()),this.emit("onDeviceConnectStatusChange",{connected:t,explorerDeviceId:r,deviceId:o}))},t.prototype.startBluetoothDevicesDiscovery=function(e){if(!this._discovering)return this._bluetoothApi.startBluetoothDevicesDiscovery(r.__assign(r.__assign({powerLevel:"high"},e),{allowDuplicatesKey:!0}))},t.prototype.stopBluetoothDevicesDiscovery=function(){return this._bluetoothApi.stopBluetoothDevicesDiscovery()},t.prototype.cleanup=function(t){e.prototype.cleanup.call(this,t),t||(console.log("cleanup bluetooth adapter"),this._discovering&&this.stopBluetoothDevicesDiscovery(),this._bluetoothApi.closeBluetoothAdapter(),console.log("manually disconnect all device",this._deviceAdapterStore.getAll()),this._deviceAdapterStore.getAll().forEach((function(e){e.isConnected&&e.disconnectDevice()})))},t.prototype.init=function(){return r.__awaiter(this,void 0,void 0,(function(){var e=this;return r.__generator(this,(function(t){return[2,this._initPromise||(this._initPromise=new Promise((function(t,o){return r.__awaiter(e,void 0,void 0,(function(){var e,n,i,s,a,c,l=this;return r.__generator(this,(function(u){switch(u.label){case 0:if(u.trys.push([0,4,,5]),this._inited){if(this._available)return this._initPromise=null,[2,t()];throw{errCode:10001}}return[4,Promise.all([this.deviceCacheManager.init(),this.initProductIds()])];case 1:return u.sent(),e=function(e){var o=e.available,n=e.discovering;return r.__awaiter(l,void 0,void 0,(function(){var e,i,s=this;return r.__generator(this,(function(r){switch(r.label){case 0:return console.log("onBluetoothAdapterStateChange",{available:o,discovering:n}),this._available=o,this._discovering=n,this.emit("adapterStateChange",{available:o,discovering:n}),o?(this._inited=!0,t(),this._initPromise=null,[3,5]):[3,1];case 1:return r.trys.push([1,3,,4]),[4,this._bluetoothApi.getSystemInfo()];case 2:return(null==(e=r.sent())?void 0:e.platform)&&e.platform.toLowerCase().indexOf("android")>-1&&this._deviceAdapterStore.getAll().forEach((function(e){e.isConnected&&(console.log("trigger onBleConnectionStateChange manually"),s.onBleConnectionStateChange({deviceId:e.deviceId,connected:!1}))})),[3,4];case 3:return i=r.sent(),console.error("trigger onBleConnectionStateChange manually error",i),[3,4];case 4:this.cleanup(),r.label=5;case 5:return[2]}}))}))},n=function(e){return l.onBleConnectionStateChange(e)},i=function(e){return l.onBLECharacteristicValueChange(e)},s=p.throttle(this._onDeviceFoundThrottle,(function(e){return l.onBluetoothDeviceFound(e)})),this._setOnDeviceFoundThrottle=function(e){s.updateDelay(e)},this._bluetoothApi.onBluetoothAdapterStateChange(e),this._bluetoothApi.onBLEConnectionStateChange(n),this._bluetoothApi.onBLECharacteristicValueChange(i),this._bluetoothApi.onBluetoothDeviceFound(s),this.addCleanupTask("init",(function(){l._available=l._discovering=l._inited=!1,l._initPromise=null,l._bluetoothApi.offBluetoothAdapterStateChange(e),l._bluetoothApi.offBLEConnectionStateChange(n),l._bluetoothApi.offBLECharacteristicValueChange(i),l._bluetoothApi.offBluetoothDeviceFound(s),l._bluetoothApi.closeBluetoothAdapter()})),[4,this._bluetoothApi.openBluetoothAdapter({mode:"central"})];case 2:return u.sent(),a=e,[4,this._bluetoothApi.getBluetoothAdapterState()];case 3:return a.apply(void 0,[u.sent()]),[3,5];case 4:return c=u.sent(),this._available=!1,this._inited=!1,this._initPromise=null,o(this._normalizeError(c)),[3,5];case 5:return[2]}}))}))})))]}))}))},t.prototype.initProductIds=function(){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(t){switch(t.label){case 0:return"function"!=typeof this._actions.initProductIds?[3,2]:(e=this,[4,this._actions.initProductIds()]);case 1:e._productIdMap=t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.onBleConnectionStateChange=function(e){var t=e.deviceId,r=e.connected;console.log("onBLEConnectionStateChange",t,r);var o=this.getDeviceAdapter(t);o?o.onBleConnectionStateChange({connected:r}):console.warn("on bLEConnectionStateChange, but no adapter")},t.prototype.onBLECharacteristicValueChange=function(e){var t=e.deviceId,r=e.serviceId,o=e.characteristicId,n=e.value;console.log("onBLECharacteristicValueChange",t,r,o,n);var i=this.getDeviceAdapter({deviceId:t});if(i)return i.onBLECharacteristicValueChange({serviceId:r,characteristicId:o,value:n});console.warn("on onBLECharacteristicValueChange, but no adapter")},t.prototype.getBluetoothDevices=function(){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(t){switch(t.label){case 0:return[4,this._bluetoothApi.getBluetoothDevices()];case 1:return e=t.sent().devices,[2,this._ignoreAnonymousDevices?e.filter((function(e){return""!==e.name})):e]}}))}))},t.prototype.onBluetoothDeviceFound=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t,o;return r.__generator(this,(function(r){switch(r.label){case 0:try{t=(null==e?void 0:e.devices)||[],"function"==typeof this._onBluetoothScanAdvertisingHandler&&this._onBluetoothScanAdvertisingHandler(t)}catch(e){console.error("_onBluetoothScanAdvertisingHandler error",e)}return[4,this.getBluetoothDevices()];case 1:o=r.sent();try{console.log("onBluetoothDeviceFound",e,o),"function"==typeof this._onBluetoothDeviceFoundHandler&&this._onBluetoothDeviceFoundHandler(o)}catch(e){console.error("_onBluetoothDeviceFoundHandler error",e)}return[2,o]}}))}))},t.prototype.startSearch=function(e){var t=e.serviceId,o=e.serviceIds,i=e.ignoreDeviceIds,s=void 0===i?[]:i,a=e.ignoreServiceIds,c=void 0===a?[]:a,l=e.onSearch,u=void 0===l?g:l,d=e.onError,p=void 0===d?g:d,f=e.timeout,h=void 0===f?2e4:f,v=e.extendInfo,_=void 0===v?{}:v,m=e.DeviceAdapter,E=e.startBluetoothDevicesDiscoveryParams;return r.__awaiter(this,void 0,void 0,(function(){var e,i,a,l,d,f,v=this;return r.__generator(this,(function(g){switch(g.label){case 0:return[4,this.init()];case 1:g.sent(),t&&!o&&(o=[t]),e=0,i=[],a=function(e){var t={};return e.forEach((function(e){return t[e.deviceId]=e})),i.forEach((function(e){e.isFromCacheBroadcast=!t[e.deviceId]})),i=n.default(r.__spread(i,e),(function(e,t){return e.deviceId===t.deviceId}))},l=function(e){v.stopSearch(),p(e)},g.label=2;case 2:return g.trys.push([2,4,,5]),[4,this.startBluetoothDevicesDiscovery(E)];case 3:return g.sent(),this._onBluetoothDeviceFoundHandler=function(t){try{var r=a(v._filterDevices({devices:t,serviceIds:o,ignoreDeviceIds:s,ignoreServiceIds:c,extendInfo:_,DeviceAdapter:m}));e=r.length,u(r)}catch(e){console.log("onSearch error",e),l(v._normalizeError(e))}},this.onBluetoothDeviceFound(),d=function(e){e.available||l(v._normalizeError({errCode:10001}))},this.on("adapterStateChange",d),this.addCleanupTask("startSearch",(function(){v._onBluetoothDeviceFoundHandler=null,v.off("adapterStateChange",d)})),setTimeout((function(){e||l("")}),h),[3,5];case 4:throw f=g.sent(),this.cleanup("startSearch"),this._normalizeError(f);case 5:return[2]}}))}))},t.prototype.stopSearch=function(){this.cleanup("startSearch"),this.stopBluetoothDevicesDiscovery()},t.prototype.searchDevice=function(e){var t=e.serviceId,o=e.serviceIds,n=e.deviceName,i=e.productId,s=e.ignoreDeviceIds,a=void 0===s?[]:s,c=e.timeout,l=void 0===c?5e3:c,u=e.extendInfo,d=void 0===u?{}:u,p=e.ignoreWarning,f=void 0!==p&&p,h=e.ignoreCache,v=e.disableCache,g=e.DeviceAdapter,_=e.startBluetoothDevicesDiscoveryParams;return r.__awaiter(this,void 0,void 0,(function(){var e,s=this;return r.__generator(this,(function(c){switch(c.label){case 0:return f||console.warn("[DEPRECATED] searchDevice + connectDevice  searchAndConnectDevice "),void 0===v&&void 0!==h&&(v=h),[4,this.init()];case 1:return c.sent(),t&&!o&&(o=[t]),console.log("searching for explorerDeviceId => ",n),!v&&(e=this.deviceCacheManager.getDeviceCache(n))?(console.log("find ble deviceInfo from cache for "+n,r.__assign({deviceName:n,productId:i},e)),[2,Promise.resolve(r.__assign({deviceName:n,productId:i},e))]):[2,this._searchDevicePromise||(this._searchDevicePromise=new Promise((function(e,t){return r.__awaiter(s,void 0,void 0,(function(){var s,c,u,p=this;return r.__generator(this,(function(r){switch(r.label){case 0:s=function(e){p.stopBluetoothDevicesDiscovery(),t(p._normalizeError(e)),p._searchDevicePromise=null},c=function(t){p.stopBluetoothDevicesDiscovery(),e(t),p._searchDevicePromise=null},this._onBluetoothDeviceFoundHandler=function(e){try{var t=p._filterDevices({devices:e,serviceIds:o,deviceName:n,productId:i,ignoreDeviceIds:a,extendInfo:d,DeviceAdapter:g});console.log("matchedDevices: ",t),t.length>0&&(console.log("doFindDevice",t[0]),c(t[0]))}catch(e){s(e)}},r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.startBluetoothDevicesDiscovery(_)];case 2:return r.sent(),console.log("startBluetoothDevicesDiscovery succ"),this.onBluetoothDeviceFound(),setTimeout((function(){c(null)}),l),[3,4];case 3:return u=r.sent(),s(u),[3,4];case 4:return[2]}}))}))})))]}}))}))},t.prototype.getDeviceAdapter=function(e){var t,r;if(!e)throw" { deviceId?: string; explorerDeviceId?: string }";return"string"==typeof e?t=e:(t=e.deviceId,r=e.explorerDeviceId),this._deviceAdapterStore.get({deviceId:t,explorerDeviceId:r})},t.prototype.instantiateDeviceAdapter=function(e,t){var r,o,n=this,i=e.deviceId,s=e.serviceId,a=e.deviceName,c=e.name,l=e.productId,u=e.extendInfo,d=void 0===t?{}:t,p=d.DeviceAdapter,f=d.reuseAdapterInstance;if(p){if(p.serviceId!==s)throw"DeviceAdapter serviceId "+p.serviceId+" !== "+s;r=p}else if(!(r=this._deviceAdapterFactoryMap[s]))throw"serviceId"+s+" deviceAdapter";return f&&(i||l&&a)&&(o=this.getDeviceAdapter({deviceId:i,explorerDeviceId:l+"/"+a})),o||(o=new r({deviceId:i,deviceName:a,productId:l,name:c,actions:this._actions,bluetoothApi:this._bluetoothApi,h5Websocket:this._h5Websocket,extendInfo:u,bluetoothAdapter:this}),this._deviceAdapterStore.set(o),o.on("connect",(function(){o._deviceConnected=!0,n.onDeviceConnectStatusChange({explorerDeviceId:o.explorerDeviceId,connected:!0,deviceId:i})})).on("disconnect",(function(){o._deviceConnected=!1,n.onDeviceConnectStatusChange({explorerDeviceId:o.explorerDeviceId,connected:!1,deviceId:i})})).on("destroy",(function(){console.log("destroy adapter",o),n._deviceAdapterStore.remove({deviceId:i})}))),o},t.prototype.connectDevice=function(e,t){var o=e.deviceId,n=e.serviceId,i=e.mac,s=e.deviceName,a=e.name,c=e.productId,l=e.extendInfo,u=void 0===t?{}:t,d=u.DeviceAdapter,p=u.autoNotify,f=u.enableDeviceCache,h=void 0===f||f,v=u.destroyAdapterAfterDisconnect,g=u.disableCache,_=u.reuseAdapterInstance,m=void 0===_||_;return r.__awaiter(this,void 0,void 0,(function(){var e,t;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),void 0===g&&void 0!==h&&(g=!h),[4,this.init()];case 1:return r.sent(),i&&console.warn("[DEPRECATED] mac is deprecated, please use deviceName instead."),void 0!==v&&console.warn("[DEPRECATED] destroyAdapterAfterDisconnect  deviceAdapter  deviceAdapter.destroy()"),s=s||i,c=c||this._productIdMap[n],(null==(e=this.instantiateDeviceAdapter({deviceId:o,serviceId:n,deviceName:s,name:a,productId:c,extendInfo:l},{DeviceAdapter:d,reuseAdapterInstance:m}))?void 0:e.isConnected)?(console.log("device already connected, returning adapter",e),[2,e]):[4,e.connectDevice({autoNotify:p})];case 2:return r.sent(),!g&&s&&this.deviceCacheManager.setDeviceCache(s,{deviceId:o,serviceId:n,name:a,deviceName:s,productId:c,extendInfo:l}),console.log("deviceConnected"),[2,e];case 3:return t=r.sent(),[2,Promise.reject(t)];case 4:return[2]}}))}))},t.prototype.connectAdvertisingDevice=function(e,t){void 0===t&&(t={});var o=e.deviceId,n=e.deviceName,i=e.productId,s=r.__rest(e,["deviceId","deviceName","productId"]);return o||(o=i+"/"+n),this.connectDevice(r.__assign({deviceId:o,deviceName:n,productId:i},s),r.__assign(r.__assign({},t),{autoNotify:!1}))},t.prototype.searchAndConnectDevice=function(e,t){var o=e.serviceId,n=e.serviceIds,i=e.deviceName,s=e.productId,a=e.ignoreDeviceIds,c=void 0===a?[]:a,l=e.timeout,u=void 0===l?5e3:l,d=e.extendInfo,p=void 0===d?{}:d,f=void 0===t?{}:t,h=f.autoNotify,v=f.disableCache,g=void 0!==v&&v,_=f.DeviceAdapter;return r.__awaiter(this,void 0,void 0,(function(){var e,t,a;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,7,,8]),e=void 0,!g&&s&&i&&(e=this._deviceAdapterStore.get({explorerDeviceId:s+"/"+i})),e?(console.log("find deviceAdapter in cache, explorerDeviceId: ",s+"/"+i,e),e.isConnected?[3,2]:[4,e.connectDevice({autoNotify:h})]):[3,3];case 1:r.sent(),r.label=2;case 2:return[2,e];case 3:return[4,this.searchDevice({serviceId:o,serviceIds:n,deviceName:i,productId:s,ignoreDeviceIds:c,timeout:u,extendInfo:p,ignoreWarning:!0,disableCache:g,DeviceAdapter:_})];case 4:return(t=r.sent())?(!t.productId&&s&&(t.productId=s),console.log("deviceInfo",t,s),[4,this.connectDevice(t,{autoNotify:h,disableCache:g,DeviceAdapter:_})]):[2,Promise.reject({code:"DeviceNotFound"})];case 5:return[2,e=r.sent()];case 6:return[3,8];case 7:return a=r.sent(),console.error("searchAndConnectDevice error",a),[2,Promise.reject(a)];case 8:return[2]}}))}))},t.prototype.startScanAdvert=function(){return r.__awaiter(this,void 0,void 0,(function(){var e=this;return r.__generator(this,(function(t){switch(t.label){case 0:return[4,this.init()];case 1:return t.sent(),this._onBluetoothScanAdvertisingHandler||(this._onBluetoothScanAdvertisingHandler=function(t){void 0===t&&(t=[]);var r=e._deviceAdapterStore.getAll().filter((function(e){return e.isConnected&&e.communicationMode===f.CommunicationMode.ADVERT}));r.length<=0||t.forEach((function(e){var t,o=r.find((function(t){return t.deviceId===e.deviceId}));if(o){console.log("get matchAdapter on deviceId");try{"function"==typeof o.advertFilter&&(t=o.advertFilter(e))}catch(e){return void console.error("deviceAdapters advertFilter error",e)}}else for(var n=0;n<r.length;n++)try{if("function"==typeof r[n].advertFilter&&(t=r[n].advertFilter(e)),t){o=r[n];break}}catch(e){console.error("deviceAdapters advertFilter error",e)}if(t&&o)try{"function"==typeof o.onScanAdvert&&o.onScanAdvert(t)}catch(e){console.error("deviceAdapters onScanAdvert error",e)}}))},this.addCleanupTask("startScanAdvert",(function(){console.log("startScanAdvert clean up"),e._onBluetoothScanAdvertisingHandler=null}))),[4,this.startBluetoothDevicesDiscovery()];case 2:return t.sent(),[2]}}))}))},t.prototype.stopScanAdvert=function(){this.cleanup("startScanAdvert"),this.stopBluetoothDevicesDiscovery()},t.prototype._initPeripheralServer=function(){return r.__awaiter(this,void 0,void 0,(function(){var e=this;return r.__generator(this,(function(t){switch(t.label){case 0:return[4,this.init()];case 1:return t.sent(),[2,this._initPeripheralServerPromise||(this._initPeripheralServerPromise=new Promise((function(t,o){return r.__awaiter(e,void 0,void 0,(function(){var e,n,i=this;return r.__generator(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),this._advertisingQueue=new d.SimpleQueue({autoStart:!0,handler:function(e){var t=e.businessData;return r.__awaiter(i,void 0,void 0,(function(){var e,o,n,i,s,a;return r.__generator(this,(function(c){switch(c.label){case 0:if(e=t.deviceId,o=t.explorerDeviceId,n=t.duration,i=t.advertiseRequest,s=t.powerLevel,!(a=this.getDeviceAdapter({deviceId:e,explorerDeviceId:o})))throw"deviceAdapter not existed in advertising";if(!a.isConnected)throw'status "isConnected" in deviceAdapter is false, reject advertising; wx deviceId: '+e;return[4,this._blePeripheralServer.startAdvertising({powerLevel:s,advertiseRequest:r.__assign(r.__assign({},i),{connectable:!1})})];case 1:return c.sent(),[4,_(n)];case 2:return c.sent(),[4,this._blePeripheralServer.stopAdvertising()];case 3:return c.sent(),[2]}}))}))},onTaskSuccess:function(e){var t=e.businessData;return"function"==typeof t.onSuccess&&t.onSuccess()},onTaskError:function(e,t){var r=t.businessData;return"function"==typeof r.onError&&r.onError(e)}}),[4,this._bluetoothApi.openBluetoothAdapter({mode:"peripheral"})];case 1:return s.sent(),e=this,[4,this._bluetoothApi.createBLEPeripheralServer()];case 2:return e._blePeripheralServer=s.sent(),this.addCleanupTask("initPeripheralServer",(function(){return r.__awaiter(i,void 0,void 0,(function(){var e;return r.__generator(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),console.log("initPeripheralServer clean up"),this._initPeripheralServerPromise=null,this._advertisingQueue&&(this._advertisingQueue.stop(),this._advertisingQueue=null),this._blePeripheralServer?[4,this._blePeripheralServer.close()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[3,4];case 3:return e=t.sent(),console.error("clean up initPeripheralServer error",e),[3,4];case 4:return this._blePeripheralServer=null,[2]}}))}))})),console.log("init blePeripheralServer success"),t(),[3,4];case 3:return n=s.sent(),this._initPeripheralServerPromise=null,o(this._normalizeError(n)),console.error("initPeripheralServer error",n),[3,4];case 4:return[2]}}))}))})))]}}))}))},t.prototype.advertising=function(e){var t=e.deviceId,o=e.explorerDeviceId,n=e.powerLevel,i=void 0===n?"medium":n,s=e.advertiseRequest,a=e.duration,c=void 0===a?100:a,l=e.onSuccess,u=e.onError;return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return[4,this._initPeripheralServer()];case 1:return e.sent(),c=Math.min(c,3e3),this._advertisingQueue.start(),[2,this._advertisingQueue.push({deviceId:t,explorerDeviceId:o,powerLevel:i,advertiseRequest:s,duration:c,onSuccess:l,onError:u})]}}))}))},t.prototype.stopAdvertising=function(){if(this._advertisingQueue)return this._advertisingQueue.stop()},t}(i.BlueToothBase);e.exports.BlueToothAdapter=m})),s.register("hjPqv",(function(e,t){var o="__lodash_hash_undefined__",n="[object Function]",i="[object GeneratorFunction]",s=/^\[object .+?Constructor\]$/,a="object"==typeof r&&r&&r.Object===Object&&r,c="object"==typeof self&&self&&self.Object===Object&&self,l=a||c||Function("return this")();function u(e,t){return!!(e?e.length:0)&&function(e,t,r){if(t!=t)return function(e,t,r,o){var n=e.length,i=r+(o?1:-1);for(;o?i--:++i<n;)if(t(e[i],i,e))return i;return-1}(e,p,r);var o=r-1,n=e.length;for(;++o<n;)if(e[o]===t)return o;return-1}(e,t,0)>-1}function d(e,t,r){for(var o=-1,n=e?e.length:0;++o<n;)if(r(t,e[o]))return!0;return!1}function p(e){return e!=e}function f(e,t){return e.has(t)}function h(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var v,g=Array.prototype,_=Function.prototype,m=Object.prototype,E=l["__core-js_shared__"],y=(v=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||""))?"Symbol(src)_1."+v:"",T=_.toString,b=m.hasOwnProperty,C=m.toString,I=RegExp("^"+T.call(b).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),x=g.splice,A=V(l,"Map"),S=V(l,"Set"),D=V(Object,"create");function w(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}function O(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}function N(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}function R(e){var t=-1,r=e?e.length:0;for(this.__data__=new N;++t<r;)this.add(e[t])}function B(e,t){for(var r,o,n=e.length;n--;)if((r=e[n][0])===(o=t)||r!=r&&o!=o)return n;return-1}function P(e){if(!k(e)||(t=e,y&&y in t))return!1;var t,r=function(e){var t=k(e)?C.call(e):"";return t==n||t==i}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?I:s;return r.test(function(e){if(null!=e){try{return T.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}w.prototype.clear=function(){this.__data__=D?D(null):{}},w.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},w.prototype.get=function(e){var t=this.__data__;if(D){var r=t[e];return r===o?void 0:r}return b.call(t,e)?t[e]:void 0},w.prototype.has=function(e){var t=this.__data__;return D?void 0!==t[e]:b.call(t,e)},w.prototype.set=function(e,t){return this.__data__[e]=D&&void 0===t?o:t,this},O.prototype.clear=function(){this.__data__=[]},O.prototype.delete=function(e){var t=this.__data__,r=B(t,e);return!(r<0)&&(r==t.length-1?t.pop():x.call(t,r,1),!0)},O.prototype.get=function(e){var t=this.__data__,r=B(t,e);return r<0?void 0:t[r][1]},O.prototype.has=function(e){return B(this.__data__,e)>-1},O.prototype.set=function(e,t){var r=this.__data__,o=B(r,e);return o<0?r.push([e,t]):r[o][1]=t,this},N.prototype.clear=function(){this.__data__={hash:new w,map:new(A||O),string:new w}},N.prototype.delete=function(e){return U(this,e).delete(e)},N.prototype.get=function(e){return U(this,e).get(e)},N.prototype.has=function(e){return U(this,e).has(e)},N.prototype.set=function(e,t){return U(this,e).set(e,t),this},R.prototype.add=R.prototype.push=function(e){return this.__data__.set(e,o),this},R.prototype.has=function(e){return this.__data__.has(e)};var L=S&&1/h(new S([,-0]))[1]==1/0?function(e){return new S(e)}:function(){};function U(e,t){var r,o,n=e.__data__;return("string"==(o=typeof(r=t))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==r:null===r)?n["string"==typeof t?"string":"hash"]:n.map}function V(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return P(r)?r:void 0}function k(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e,t){return e&&e.length?function(e,t,r){var o=-1,n=u,i=e.length,s=!0,a=[],c=a;if(r)s=!1,n=d;else if(i>=200){var l=t?null:L(e);if(l)return h(l);s=!1,n=f,c=new R}else c=t?[]:a;e:for(;++o<i;){var p=e[o],v=t?t(p):p;if(p=r||0!==p?p:0,s&&v==v){for(var g=c.length;g--;)if(c[g]===v)continue e;t&&c.push(v),a.push(p)}else n(c,v,r)||(c!==a&&c.push(v),a.push(p))}return a}(e,void 0,t):[]}})),s.register("k90gL",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.BlueToothBase=void 0;var r=s("983NH"),o=r.__importDefault(s("5YP49")),n={1e4:"",10001:"",10002:"",10003:"",10004:"",10005:"",10006:"",10007:"",10008:"",10009:"",10012:"",10013:" deviceId "},i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._cleanupMap={},t}return r.__extends(t,e),t.prototype._normalizeError=function(e){return(null==e?void 0:e.errCode)&&Object.assign(e,{code:e.errCode,msg:n[e.errCode]}),e},t.prototype.cleanup=function(e){if(e)this._cleanupMap[e]&&"function"==typeof this._cleanupMap[e]?(console.log("clean up for action: ",e),this._cleanupMap[e]()):console.warn("clean up invalid action",e,this._cleanupMap);else for(var t in this._cleanupMap)"function"==typeof this._cleanupMap[t]&&this._cleanupMap[t]()},t.prototype.addCleanupTask=function(e,t){this._cleanupMap[e]=t},t}(o.default);e.exports.BlueToothBase=i})),s.register("j5WRf",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.DeviceAdapter=void 0;var r=s("983NH"),o=s("fOlEO"),n=s("k90gL"),i=s("8daBu"),a=o.AppDevSdk.utils,c=a.arrayBufferToHexStringArray,l=a.hexToArrayBuffer,u=function(e){function t(t){var r=t.deviceId,o=t.productId,n=t.deviceName,s=t.name,a=t.actions,c=t.bluetoothApi,l=t.h5Websocket,u=t.extendInfo,d=void 0===u?{}:u,p=t.bluetoothAdapter,f=e.call(this)||this;if(f.extendInfo={},f._name="",f._deviceId="",f._deviceName="",f._deviceConnected=!1,f._productId="",f._deviceRegistered=!1,f._services=[],f.characteristicsMap={},f._actions={},f._bluetoothApi={},!r)throw"deviceId";if(!o)throw"productId";return f._h5Websocket=l,f._bluetoothApi=c,f._actions=a,f._name=s,f._deviceName=n,f._deviceId=r,f._productId=o,f.extendInfo=d||{},f.bluetoothAdapter=p,f.communicationMode=i.CommunicationMode.GATT,f}return r.__extends(t,e),t.prototype._getNotifyId=function(e){var t=(void 0===e?{}:e).serviceId,r=void 0===t?"":t;r=r||this.serviceId;var o=this.characteristicsMap[r]||{writeIds:[],notifyIds:[],readIds:[],indicateIds:[]};return o.notifyIds[0]||o.indicateIds[0]},Object.defineProperty(t.prototype,"_writeId",{get:function(){return((this.characteristicsMap[this.serviceId]||{}).writeIds||[])[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_notifyId",{get:function(){return((this.characteristicsMap[this.serviceId]||{}).notifyIds||[])[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_readId",{get:function(){return((this.characteristicsMap[this.serviceId]||{}).readIds||[])[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_indicateId",{get:function(){return((this.characteristicsMap[this.serviceId]||{}).indicateIds||[])[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deviceId",{get:function(){return this._deviceId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"productId",{get:function(){return this._productId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deviceName",{get:function(){return this._deviceName},set:function(e){this._deviceName=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isConnected",{get:function(){return this._deviceConnected},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"originName",{get:function(){return this._name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"explorerDeviceId",{get:function(){return[this._productId||"",this._deviceName||""].join("/")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"serviceId",{get:function(){return this.constructor.serviceId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deviceInfo",{get:function(){return{productId:this.productId,deviceName:this.deviceName,deviceId:this.deviceId,explorerDeviceId:this.explorerDeviceId,name:this.originName}},enumerable:!1,configurable:!0}),t.prototype.init=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return this.bluetoothAdapter?[4,this.bluetoothAdapter.init()]:[3,2];case 1:return e.sent(),[3,3];case 2:console.warn("DeviceAdapterbluetoothAdapterqcloud-iotexplorer-bluetooth-adapter"),e.label=3;case 3:return[2]}}))}))},t.prototype.handleBLEMessage=function(e,t){return t.serviceId,t.characteristicId,{}},t.prototype.registerDevice=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return this._deviceRegistered?[3,2]:[4,this._actions.registerDevice({deviceId:this.explorerDeviceId,deviceName:this._deviceName,productId:this._productId})];case 1:e.sent(),this._deviceRegistered=!0,e.label=2;case 2:return[2]}}))}))},t.prototype.bindDevice=function(e){var t=void 0===e?{}:e,o=t.familyId,n=void 0===o?"":o,i=t.roomId,s=void 0===i?"":i;return r.__awaiter(this,void 0,void 0,(function(){var e,t;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,this.registerDevice()];case 1:return r.sent(),e={deviceId:this.explorerDeviceId,deviceName:this._deviceName,productId:this._productId,familyId:n,roomId:s},[4,this._actions.bindDevice(e)];case 2:return r.sent(),this.emit("bind",e),[2,this.explorerDeviceId];case 3:return t=r.sent(),[2,Promise.reject(this._normalizeError(t))];case 4:return[2]}}))}))},t.prototype.onBleConnectionStateChange=function(e){var t=e.connected;console.log("onBleConnectionStateChange => ",t);var o=this._deviceConnected!==t;this._deviceConnected=t,o&&(t?this.emit("connect",r.__assign({},this.deviceInfo)):this.disconnectDevice(),this.emit("bLEConnectionStateChange",{connected:t}))},t.prototype.onBLECharacteristicValueChange=function(e){var t=e.serviceId,o=e.characteristicId,n=e.value;return r.__awaiter(this,void 0,void 0,(function(){var e,i,s,a,l,u,d,p;return r.__generator(this,(function(f){switch(f.label){case 0:return f.trys.push([0,4,,5]),e=n,n instanceof ArrayBuffer&&(e=c(n)),i=this.handleBLEMessage(e,{serviceId:t,characteristicId:o})||{},s=i.shouldIgnore,a=i.reportData,l=r.__rest(i,["shouldIgnore","reportData"]),s?[2]:(console.log("[DeviceAdapter] receive data:",e,l),u=Date.now(),d=!1,this._deviceName&&a?(d=!0,"function"!=typeof this._actions.reportDeviceData?[3,2]:[4,this._actions.reportDeviceData({deviceId:this.explorerDeviceId,deviceName:this._deviceName,productId:this._productId,data:a,timestamp:u})]):[3,3]);case 1:return f.sent(),[3,3];case 2:console.warn("handleBLEMessage return should report but actions.reportDeviceData is not implement."),f.label=3;case 3:return this.emit("message",r.__assign(r.__assign({},l),{timestamp:u,dataReported:d})),[3,5];case 4:return p=f.sent(),console.error("onBLECharacteristicValueChange onError,",p),[3,5];case 5:return[2]}}))}))},t.prototype.disconnectDevice=function(){this._bluetoothApi.closeBLEConnection({deviceId:this._deviceId}),this._deviceConnected=!1,this.emit("disconnect",r.__assign({},this.deviceInfo))},t.prototype.connectDevice=function(e){var t=(void 0===e?{}:e).autoNotify,o=void 0===t||t;return r.__awaiter(this,void 0,void 0,(function(){var e,t,n,i,s,a;return r.__generator(this,(function(r){switch(r.label){case 0:e=Date.now(),r.label=1;case 1:return r.trys.push([1,10,,11]),[4,this.init()];case 2:return r.sent(),console.log("start connect device",this.deviceInfo),this.isConnected?(console.log("device is already connected",this.deviceInfo),[2]):(t=Date.now(),[4,this._bluetoothApi.createBLEConnection({deviceId:this._deviceId})]);case 3:if(r.sent(),this._deviceConnected=!0,console.log("createBLEConnection succ",Date.now()-t),!o)return[3,9];r.label=4;case 4:return r.trys.push([4,8,,9]),t=Date.now(),[4,this.getBLEDeviceServices()];case 5:return n=r.sent(),console.log("getBLEDeviceServices succ",n,Date.now()-t),this.emit("onGetBLEDeviceServices",n),t=Date.now(),[4,this.getBLEDeviceCharacteristics()];case 6:return i=r.sent(),console.log("getBLEDeviceCharacteristics succ",i,Date.now()-t),this.emit("onGetBLEDeviceCharacteristics",i),t=Date.now(),[4,this.notifyBLECharacteristicValueChange()];case 7:return r.sent(),console.log("notifyBLECharacteristicValueChange succ",Date.now()-t),[3,9];case 8:throw s=r.sent(),this.isConnected&&this.disconnectDevice(),s;case 9:return console.log("connectDevice succeed, time cost: ",Date.now()-e),[3,11];case 10:return a=r.sent(),(a=this._normalizeError(a)).errMsg&&a.errMsg.indexOf("already connect")>-1?(console.log("device is already connected, resolve directly, time cost: ",Date.now()-e),[2,Promise.resolve()]):(console.error("connectDevice error",a),[2,Promise.reject(a)]);case 11:return[2]}}))}))},t.prototype.write=function(e,t){var o=void 0===t?{}:t,n=o.writeId,i=void 0===n?"":n,s=o.serviceId,a=void 0===s?"":s;return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){if("string"==typeof e)console.log("writeBLECharacteristicValue",e),e=l(e);else if(e instanceof ArrayBuffer)try{console.log("writeBLECharacteristicValue",c(e).join(""))}catch(e){}return[2,this._write(e,{writeId:i,serviceId:a})]}))}))},t.prototype._write=function(e,t){var o=void 0===t?{}:t,n=o.writeId,i=void 0===n?"":n,s=o.serviceId,a=void 0===s?"":s;return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this._bluetoothApi.writeBLECharacteristicValue({deviceId:this._deviceId,characteristicId:i||this._writeId,serviceId:a||this.serviceId,value:e})];case 1:return r.sent(),[3,3];case 2:return t=r.sent(),[2,Promise.reject(this._normalizeError(t))];case 3:return[2]}}))}))},t.prototype.getBLEDeviceServices=function(){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(t){switch(t.label){case 0:return[4,this._bluetoothApi.getBLEDeviceServices({deviceId:this._deviceId})];case 1:return e=t.sent().services,this._services=e,[2,e]}}))}))},t.prototype.setCharacteristicsIds=function(e,t){var r={notifyIds:[],writeIds:[],indicateIds:[],readIds:[]},o=function(e,t){-1===e.indexOf(t)&&e.push(t)};t.forEach((function(e){var t=e.uuid,n=e.properties,i=n.notify,s=n.write,a=n.indicate,c=n.read;i?o(r.notifyIds,t):s?o(r.writeIds,t):a?o(r.indicateIds,t):c&&o(r.readIds,t)})),this.characteristicsMap[e]=r},t.prototype.getBLEDeviceCharacteristics=function(e){var t=(void 0===e?{}:e).serviceId,o=void 0===t?"":t;return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(t){switch(t.label){case 0:return o=o||this.serviceId,[4,this._bluetoothApi.getBLEDeviceCharacteristics({deviceId:this._deviceId,serviceId:o})];case 1:return e=t.sent().characteristics,this.setCharacteristicsIds(o,e),[2,e]}}))}))},t.prototype.notifyBLECharacteristicValueChange=function(e){var t=void 0===e?{}:e,o=t.characteristicId,n=void 0===o?"":o,i=t.serviceId,s=void 0===i?"":i,a=t.state,c=void 0===a||a;return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return n=n||this._getNotifyId(),s=s||this.serviceId,n?[3,1]:(console.warn("servicenotifyIdnotify"),[3,3]);case 1:return[4,this._bluetoothApi.notifyBLECharacteristicValueChange({deviceId:this._deviceId,characteristicId:n,serviceId:s,state:c})];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},t.prototype.readBLECharacteristicValue=function(e){var t=void 0===e?{}:e,o=t.serviceId,n=void 0===o?"":o,i=t.characteristicId,s=void 0===i?"":i;return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return n=n||this.serviceId,s||(s=((this.characteristicsMap[this.serviceId]||{}).readIds||[])[0]),s?[3,1]:(console.warn("servicereadIdread"),[3,3]);case 1:return[4,this._bluetoothApi.readBLECharacteristicValue({deviceId:this._deviceId,characteristicId:s,serviceId:n})];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},t.prototype.setBLEMTU=function(e){return this._bluetoothApi.setBLEMTU(r.__assign({deviceId:this._deviceId},e))},t.prototype.getBLEDeviceRSSI=function(){return this._bluetoothApi.getBLEDeviceRSSI({deviceId:this._deviceId})},t.prototype.destroy=function(){this.emit("destroy")},t.prototype.advertFilter=function(e){return null},t.prototype.onScanAdvert=function(e){},t.serviceId="",t.deviceFilter=function(e,t){},t}(n.BlueToothBase);e.exports.DeviceAdapter=u})),s.register("8daBu",(function(e,t){"use strict";var r;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.CommunicationMode=void 0,(r=e.exports.CommunicationMode||(e.exports.CommunicationMode={})).GATT="GATT",r.ADVERT="ADVERT"})),s.register("eTNzd",(function(e,t){"use strict";var r;Object.defineProperty(e.exports,"__esModule",{value:!0});var o=s("983NH"),n=s("fOlEO").AppDevSdk.utils.pify,i=["addService","close","offCharacteristicReadRequest","offCharacteristicSubscribed","offCharacteristicUnsubscribed","offCharacteristicWriteRequest","removeService","startAdvertising","stopAdvertising","writeCharacteristicValue"],a=["onCharacteristicReadRequest","onCharacteristicSubscribed","onCharacteristicUnsubscribed","onCharacteristicWriteRequest"],c={};["closeBluetoothAdapter","stopBluetoothDevicesDiscovery","readBLECharacteristicValue","getBluetoothAdapterState","getBluetoothDevices","startBluetoothDevicesDiscovery","closeBLEConnection","getBLEDeviceServices","getBLEDeviceCharacteristics","notifyBLECharacteristicValueChange","offBluetoothAdapterStateChange","offBLEConnectionStateChange","offBLECharacteristicValueChange","offBluetoothDeviceFound","writeBLECharacteristicValue","setBLEMTU","offBLEPeripheralConnectionStateChanged"].forEach((function(e){c[e]=function(t){return n(wx[e])(t)}})),["onBluetoothAdapterStateChange","onBLEConnectionStateChange","onBLECharacteristicValueChange","onBluetoothDeviceFound","onBLEPeripheralConnectionStateChanged"].forEach((function(e){c[e]=function(t){return wx[e](t)}})),c.createBLEConnection=function(e,t){var r=(void 0===t?{}:t).isRetry,i=void 0!==r&&r;return o.__awaiter(void 0,void 0,void 0,(function(){var t;return o.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,n(wx.createBLEConnection)(e)];case 1:return r.sent(),[3,3];case 2:return t=r.sent(),!i&&t&&t.errMsg&&t.errMsg.indexOf("already connect")>-1?(console.log("device is already connected, resolve directly"),[2,Promise.resolve()]):[2,Promise.reject(t)];case 3:return[2]}}))}))},c.createBLEPeripheralServer=function(e){return o.__awaiter(void 0,void 0,void 0,(function(){var t,r;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,n(wx.createBLEPeripheralServer)(e)];case 1:return t=o.sent().server,r={},i.forEach((function(e){r[e]=function(r){return n(t[e],t)(r)}})),a.forEach((function(e){r[e]=function(r){return t[e](r)}})),[2,r]}}))}))},c.openBluetoothAdapter=function(e){return o.__awaiter(void 0,void 0,void 0,(function(){var t,r;return o.__generator(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,c.getSystemInfo({useCache:!1})];case 1:if((null==(t=o.sent())?void 0:t.platform)&&t.platform.toLowerCase().indexOf("android")>-1){if(!(null==t?void 0:t.locationEnabled))throw{code:"Location:Disable",msg:""};if(!(null==t?void 0:t.locationAuthorized))throw{code:"Location:UnAuthorized",msg:""}}return[4,n(wx.openBluetoothAdapter)(e)];case 2:return o.sent(),[3,4];case 3:if(3===(null==(r=o.sent())?void 0:r.state))throw{code:null==r?void 0:r.errCode,msg:""};throw r;case 4:return[2]}}))}))},c.getSystemInfo=function(e){var t=(void 0===e?{}:e).useCache,i=void 0===t||t;return o.__awaiter(void 0,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return r&&i?[2,r]:[4,n(wx.getSystemInfo)()];case 1:return[2,r=e.sent()]}}))}))},e.exports.default=c})),s.register("3RSaR",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.BluetoothDeviceCacheManager=void 0;var r=s("983NH"),o=s("fOlEO").AppDevSdk.utils.storage,n=function(){function e(){this.deviceCacheMap={},this._storageKey="__explorer-bluetooth-deviceCacheMap"}return e.prototype.init=function(){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(t){switch(t.label){case 0:return e=this,[4,o.getItem(this._storageKey)];case 1:return e.deviceCacheMap=t.sent()||{},[2]}}))}))},e.prototype.setDeviceCache=function(e,t){console.log("cache ble deviceInfo: ",e,t),this.deviceCacheMap[e]=t,o.setItem(this._storageKey,this.deviceCacheMap)},e.prototype.getDeviceCache=function(e){return this.deviceCacheMap[e]},e.prototype.removeDeviceCache=function(e){this.deviceCacheMap[e]&&(this.deviceCacheMap[e]=null,o.setItem(this._storageKey,this.deviceCacheMap))},e}();e.exports.BluetoothDeviceCacheManager=n})),s.register("gGE5N",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.SimpleStore=void 0;var r=function(){function e(e){var t=e.filter;this._store=[],this.filter=t}return e.prototype.getAll=function(){return this._store},e.prototype.get=function(e){return this._store.find(this.filter(e))},e.prototype.set=function(e){var t=this._store.findIndex(this.filter(e));return t>-1?this._store[t]=e:(this._store.push(e),t=this._store.length-1),t},e.prototype.remove=function(e){var t=this._store.findIndex(this.filter(e));t>-1&&this._store.splice(t,1)},e.prototype.clear=function(){this._store=[]},e}();e.exports.SimpleStore=r})),s.register("bAcyc",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.throttle=void 0,e.exports.throttle=function(e,t,r,o){var n,i=!1,s=0;function a(){n&&clearTimeout(n)}function c(){var c=this,l=Date.now()-s,u=arguments;function d(){s=Date.now(),r.apply(c,u)}function p(){n=void 0}i||(o&&!n&&d(),a(),void 0===o&&l>e?d():!0!==t&&(n=setTimeout(o?p:d,void 0===o?e-l:e)))}return"boolean"!=typeof t&&(o=r,r=t,t=void 0),c.cancel=function(){a(),i=!0},c.updateDelay=function(t){e=t},c}})),s.register("6ZFVv",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0});var r=s("983NH");r.__exportStar(s("f0HPA"),e.exports),r.__exportStar(s("kqH0b"),e.exports)})),s.register("f0HPA",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.BlueToothAdapter4H5=void 0;var r=s("983NH"),o=s("7hBxi"),n=s("l1sz5"),i=function(e){function t(t){var o=t.h5Websocket,i=t.devMode,s=t.actions,a=r.__rest(t,["h5Websocket","devMode","actions"]),c=this,l=new n.BlueToothBridge({h5Websocket:o});return(c=e.call(this,r.__assign({actions:r.__assign({registerDevice:function(e){var t=e.deviceName,o=e.productId;return r.__awaiter(c,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return[4,l.control("registryDevice",{deviceName:t,productId:this.devMode?o:""})];case 1:return e.sent(),[2]}}))}))},bindDevice:function(e){var t=e.deviceName,o=e.productId;return r.__awaiter(c,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return[4,l.control("bindDevice",{deviceName:t,productId:this.devMode?o:""})];case 1:return e.sent(),[2]}}))}))}},s),devMode:i,h5Websocket:o,bluetoothApi:l},a))||this)._onDeviceFoundThrottle=0,c._blueToothBridge=l,c._h5Websocket.on("connect",(function(){c.syncDeviceConnectStatus()})),c._h5Websocket.on("message",(function(e){e&&"connect"===e.action&&c.syncDeviceConnectStatus()})),c}return r.__extends(t,e),t.prototype.onBluetoothDeviceFound=function(e){var t=(void 0===e?{}:e).devices;return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return t?[3,2]:[4,this.getBluetoothDevices()];case 1:return t=e.sent(),console.log("onBluetoothDeviceFound from getBluetoothDevices",t),[3,3];case 2:console.log("onBluetoothDeviceFound from mp event",t),e.label=3;case 3:try{"function"==typeof this._onBluetoothDeviceFoundHandler&&this._onBluetoothDeviceFoundHandler(t)}catch(e){console.error("_onBluetoothDeviceFoundHandler error",e)}return[2,t]}}))}))},t.prototype.syncDeviceConnectStatus=function(){var e=this._deviceAdapterStore.getAll().filter((function(e){return e.isConnected})).map((function(e){return{deviceId:e.deviceId,connected:e.isConnected}}));e.length&&this._blueToothBridge.control("syncDeviceConnectStatus",{devices:e})},t}(o.BlueToothAdapter);e.exports.BlueToothAdapter4H5=i})),s.register("l1sz5",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.BlueToothBridge=void 0;var r=s("983NH"),o=r.__importDefault(s("5YP49")),n=s("fOlEO").AppDevSdk.utils.tryCallHandler,i=function(e){function t(t){var o=t.h5Websocket,i=e.call(this)||this;return i._h5Websocket=null,i._blueToothBridgeEnable=!1,i._h5Websocket=o,i._h5Websocket.on("message",(function(e){var t=e.action,o=e.payload;return r.__awaiter(i,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:switch(t){case"connect":return[3,1];case"onBluetoothAdapterStateChange":return[3,5];case"onBLEConnectionStateChange":return[3,6];case"onBLECharacteristicValueChange":return[3,7];case"onBluetoothDeviceFound":return[3,8]}return[3,9];case 1:return this._blueToothBridgeEnable?[4,this._h5Websocket.connect()]:[3,4];case 2:return e.sent(),[4,this.init()];case 3:e.sent(),e.label=4;case 4:return[3,9];case 5:return n(this,"onBluetoothAdapterStateChange",o),[3,9];case 6:return n(this,"onBLEConnectionStateChange",o),[3,9];case 7:return n(this,"onBLECharacteristicValueChange",o),[3,9];case 8:return n(this,"onBluetoothDeviceFound",o),[3,9];case 9:return[2]}}))}))})),i}return r.__extends(t,e),t.prototype.init=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return this._blueToothBridgeEnable=!0,[4,this._h5Websocket.send("Control",{action:"init"})];case 1:return e.sent(),[2]}}))}))},t.prototype.openBluetoothAdapter=function(){return this.init()},t.prototype.control=function(e,t){return this._h5Websocket.send("Control",{action:e,payload:t})},t.prototype.callWxApi=function(e,t){return r.__awaiter(this,void 0,void 0,(function(){var o,n;return r.__generator(this,(function(r){switch(r.label){case 0:return o=Date.now(),[4,this.control("callApi",{api:e,params:t})];case 1:return n=r.sent(),console.log("[BlueToothBridge] call Wx api: "+e+" success, time cost: "+(Date.now()-o)+"ms"),[2,n]}}))}))},t.prototype.stopBluetoothDevicesDiscovery=function(e){return this.callWxApi("stopBluetoothDevicesDiscovery",e)},t.prototype.startBluetoothDevicesDiscovery=function(e){return this.callWxApi("startBluetoothDevicesDiscovery",e)},t.prototype.getConnectedBluetoothDevices=function(e){return this.callWxApi("getConnectedBluetoothDevices",e)},t.prototype.getBluetoothDevices=function(e){return this.callWxApi("getBluetoothDevices",e)},t.prototype.getBluetoothAdapterState=function(e){return this.callWxApi("getBluetoothAdapterState",e)},t.prototype.writeBLECharacteristicValue=function(e){return this.callWxApi("writeBLECharacteristicValue",e)},t.prototype.setBLEMTU=function(e){return this.callWxApi("setBLEMTU",e)},t.prototype.readBLECharacteristicValue=function(e){return this.callWxApi("readBLECharacteristicValue",e)},t.prototype.notifyBLECharacteristicValueChange=function(e){return this.callWxApi("notifyBLECharacteristicValueChange",e)},t.prototype.getBLEDeviceServices=function(e){return this.callWxApi("getBLEDeviceServices",e)},t.prototype.getBLEDeviceRSSI=function(e){return this.callWxApi("getBLEDeviceRSSI",e)},t.prototype.getBLEDeviceCharacteristics=function(e){return this.callWxApi("getBLEDeviceCharacteristics",e)},t.prototype.createBLEConnection=function(e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){return[2,this.callWxApi("createBLEConnection",e)]}))}))},t.prototype.closeBLEConnection=function(e){return this.callWxApi("closeBLEConnection",e)},t.prototype.onBluetoothAdapterStateChange=function(e){this._onBluetoothAdapterStateChangeHandler=e},t.prototype.offBluetoothAdapterStateChange=function(){this._onBluetoothAdapterStateChangeHandler=null},t.prototype.onBLEConnectionStateChange=function(e){this._onBLEConnectionStateChangeHandler=e},t.prototype.offBLEConnectionStateChange=function(){this._onBLEConnectionStateChangeHandler=null},t.prototype.onBLECharacteristicValueChange=function(e){this._onBLECharacteristicValueChangeHandler=e},t.prototype.offBLECharacteristicValueChange=function(){this._onBLECharacteristicValueChangeHandler=null},t.prototype.onBluetoothDeviceFound=function(e){this._onBluetoothDeviceFoundHandler=e},t.prototype.offBluetoothDeviceFound=function(){this._onBluetoothDeviceFoundHandler=null},t.prototype.getSystemInfo=function(e){var t=(void 0===e?{}:e).useCache,o=void 0===t||t;return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(t){switch(t.label){case 0:return this._systemInfoCache&&o?[2,this._systemInfoCache]:(e=this,[4,this.callWxApi("getSystemInfo",{})]);case 1:return e._systemInfoCache=t.sent(),[2,this._systemInfoCache]}}))}))},t.prototype.closeBluetoothAdapter=function(){},t}(o.default);e.exports.BlueToothBridge=i})),s.register("kqH0b",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.DeviceAdapter4H5=e.exports.AdapterDeviceAdapter4H5=void 0;var r=s("983NH"),o=s("7hBxi"),n=s("fOlEO").AppDevSdk.utils.arrayBufferToHexStringArray;e.exports.AdapterDeviceAdapter4H5=function(e){return function(e){function t(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var n=e.apply(this,r.__spread(t))||this;return n.on("connect",(function(){var e,t,r=n,o=r.explorerDeviceId,i=r.deviceId,s=r.deviceName,a=r.originName,c=r.productId,l=r.extendInfo,u=r.serviceId;null===(e=n._h5Websocket)||void 0===e||e.send("Control",{action:"reportDeviceConnectStatus",payload:{connected:!0,explorerDeviceId:o,deviceId:i}}),null===(t=n._h5Websocket)||void 0===t||t.send("Control",{action:"h5_mirror_connect",payload:{serviceId:u,deviceId:i,deviceName:s,name:a,productId:c,extendInfo:l}})})).on("disconnect",(function(){var e,t,r=n,o=r.explorerDeviceId,i=r.deviceId;null===(e=n._h5Websocket)||void 0===e||e.send("Control",{action:"reportDeviceConnectStatus",payload:{connected:!1,explorerDeviceId:o,deviceId:i}}),null===(t=n._h5Websocket)||void 0===t||t.send("Control",{action:"h5_mirror_disconnect",payload:{explorerDeviceId:o,deviceId:i}})})),n}return r.__extends(t,e),t.prototype.write=function(e,t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(r){return"string"==typeof e?console.log("writeBLECharacteristicValue from H5",e):e instanceof ArrayBuffer&&(e=n(e).join("")),[2,this._write(e,t)]}))}))},t}(e)},e.exports.DeviceAdapter4H5=e.exports.AdapterDeviceAdapter4H5(o.DeviceAdapter)})),s.register("deOKt",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0});var r=s("983NH");r.__exportStar(s("c5OTC"),e.exports),r.__exportStar(s("cFy13"),e.exports)})),s.register("c5OTC",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.BlueToothAdapter4Mp=void 0;var r=s("983NH"),o=s("7hBxi"),n=s("fOlEO").AppDevSdk.utils,i=n.arrayBufferToHexStringArray,a=n.hexToArrayBuffer,c=function(e){var t=r.__assign({},e);if(t.advertisData)try{t.advertisData=i(t.advertisData)}catch(e){console.error("Parse bluetoothe device advertisData fail",e)}return t},l=function(e){function t(t){var o=t.bluetoothApi,n=r.__rest(t,["bluetoothApi"]),i=e.call(this,r.__assign({bluetoothApi:o},n))||this;return i._h5ChanelOpened=!1,i._localDiscoveringInUse=!1,i._h5DiscoveringInUse=!1,i._cleanupTimer=null,i._currentProductId="",i.handleH5WsMessage=null,i.deviceDelayDisconnectQueue=[],i._mpBleConnectionStateCache={},i._h5Websocket&&"function"==typeof i._h5Websocket.on&&(i.on("adapterStateChange",(function(e){var t=e.available,r=e.discovering;i.response2BlueToothChanel("onBluetoothAdapterStateChange",{available:t,discovering:r})})),i._h5Websocket.on("message",(function(e){var t=e.data,o=e.reqId;return r.__awaiter(i,void 0,void 0,(function(){var e,n,i,s,l,u,d,p,f,h,v,g,_,m,E,y,T,b=this;return r.__generator(this,(function(C){switch(C.label){case 0:if(console.log("bluetooth ws on message",t),"function"==typeof this.handleH5WsMessage)try{if(this.handleH5WsMessage({data:t,reqId:o}))return console.log("h5 message already handled by handleH5WsMessage implement."),[2]}catch(e){console.error("call handleH5WsMessage error",e)}switch(e=t.action,n=t.payload,e){case"reportDeviceConnectStatus":return[3,1];case"syncDeviceConnectStatus":return[3,2];case"bindDevice":return[3,3];case"registryDevice":return[3,7];case"connect":return[3,11];case"disconnect":return[3,12];case"init":return[3,13];case"callApi":return[3,17]}return[3,32];case 1:return i=n.connected,s=n.explorerDeviceId,l=n.deviceId,this.onDeviceConnectStatusChange({connected:i,explorerDeviceId:s,deviceId:l}),[3,32];case 2:u=n.devices,(m=void 0===u?[]:u).forEach((function(e){var t=e.deviceId,r=e.connected,o=b._mpBleConnectionStateCache[t]||!1;o!==r&&(console.log("[syncDeviceConnectStatus] deviceId="+t+",","h5.connected="+r+", actualConnected="+o),b.response2BlueToothChanel("onBLEConnectionStateChange",{deviceId:t,connected:o}))})),C.label=3;case 3:return C.trys.push([3,5,,6]),p=n.deviceName,f=n.productId,[4,this._actions.bindDevice({productId:this.devMode&&f?f:this._currentProductId,deviceName:p})];case 4:return C.sent(),this.response2BlueToothChanel("response",{code:0},o),[3,6];case 5:return d=C.sent(),this.response2BlueToothChanel("response",d,o),[3,6];case 6:return[3,32];case 7:return C.trys.push([7,9,,10]),p=n.deviceName,f=n.productId,[4,this._actions.registerDevice({productId:this.devMode&&f?f:this._currentProductId,deviceName:p})];case 8:return C.sent(),this.response2BlueToothChanel("response",{code:0},o),[3,10];case 9:return h=C.sent(),this.response2BlueToothChanel("response",h,o),[3,10];case 10:return[3,32];case 11:return console.log("h5chanel opened"),this._h5ChanelOpened=!0,[3,32];case 12:return console.log("h5chanel closed"),this._h5ChanelOpened=!1,this._h5DiscoveringInUse&&this.stopBluetoothDevicesDiscovery(!0),[3,32];case 13:return C.trys.push([13,15,,16]),[4,this.init()];case 14:return C.sent(),this.response2BlueToothChanel("response",{code:0},o),[3,16];case 15:return v=C.sent(),this.response2BlueToothChanel("response",v,o),[3,16];case 16:return[3,32];case 17:g=n.api,_=n.params,C.label=18;case 18:switch(C.trys.push([18,30,,31]),console.log("call api",g,_),g){case"createBLEConnection":return[3,19];case"getBluetoothDevices":return[3,21];case"writeBLECharacteristicValue":return[3,23];case"startBluetoothDevicesDiscovery":return[3,25];case"stopBluetoothDevicesDiscovery":return[3,27]}return[3,29];case 19:return this.tryCancelDisconnectDevice(_.deviceId),[4,this._bluetoothApi.createBLEConnection(_)];case 20:return C.sent(),this.response2BlueToothChanel("response",{},o),[2];case 21:return[4,this.getBluetoothDevices()];case 22:return m=C.sent(),this.response2BlueToothChanel("response",{devices:m.map(c)},o),[2];case 23:return E=_.value,console.log("calling writeBLECharacteristicValue",r.__assign(r.__assign({},_),{value:a(E)})),[4,this._bluetoothApi.writeBLECharacteristicValue(r.__assign(r.__assign({},_),{value:a(E)}))];case 24:return y=C.sent(),this.response2BlueToothChanel("response",y,o),[2];case 25:return[4,this.startBluetoothDevicesDiscovery(!0)];case 26:return y=C.sent(),this.response2BlueToothChanel("response",y,o),[2];case 27:return[4,this.stopBluetoothDevicesDiscovery(!0)];case 28:return y=C.sent(),this.response2BlueToothChanel("response",y,o),[2];case 29:return[3,31];case 30:return T=C.sent(),console.error("[BlueToothAdapter4Mp] call bluetoothApi fail",T),this.response2BlueToothChanel("response",this._normalizeError(T),o),[3,31];case 31:return wx[g]&&wx[g](r.__assign(r.__assign({},_),{success:function(e){console.log("[BlueToothAdapter4Mp] call wx api success",e),b.response2BlueToothChanel("response",e,o)},fail:function(e){console.log("call api fail",e),b.response2BlueToothChanel("response",b._normalizeError(e),o)}})),[3,32];case 32:return[2]}}))}))}))),i}return r.__extends(t,e),t.prototype.tryCancelDisconnectDevice=function(e){var t=this.deviceDelayDisconnectQueue.findIndex((function(t){return t.deviceId===e}));if(t>-1){var r=this.deviceDelayDisconnectQueue[t];return clearTimeout(r.timer),this.deviceDelayDisconnectQueue.splice(t,1),console.log("Cancel disconnect device: "+e),!0}return console.log("Try cancel disconnect device: "+e+", but not found in queue, maybe it's already disconnected"),!1},t.prototype.disconnectDevice=function(e,t){var r=this,o=e.deviceId,n=e.explorerDeviceId;void 0===t&&(t=0),console.log("call disconnectDevice",{deviceId:o,explorerDeviceId:n});var i=this._deviceConnectStatusStore.get({deviceId:o,explorerDeviceId:n});if(null==i?void 0:i.connected)if(t>0){var s=setTimeout((function(){console.log("execute closeBLEConnection for deviceId: "+o+" after "+t+"ms"),r._bluetoothApi.closeBLEConnection({deviceId:o})}),t);console.log("Will disconnect device: "+o+" after "+t+"ms..."),this.deviceDelayDisconnectQueue.push({deviceId:o,timer:s})}else this._bluetoothApi.closeBLEConnection({deviceId:o});else console.log("call disconnectDevice, but device maybe not connected",i,this._deviceConnectStatusStore.getAll())},t.prototype.setCurrentProduct=function(e){this._currentProductId=e},t.prototype.startBluetoothDevicesDiscovery=function(t){return void 0===t&&(t=!1),t?this._h5DiscoveringInUse=!0:this._localDiscoveringInUse=!0,e.prototype.startBluetoothDevicesDiscovery.call(this)},t.prototype.stopBluetoothDevicesDiscovery=function(t){if(void 0===t&&(t=!1),console.log("try call stopBluetoothDevicesDiscovery,\n     isFromH5: "+t+", _h5DiscoveringInUse: "+this._h5DiscoveringInUse+",\n      _localDiscoveringInUse: "+this._localDiscoveringInUse),t?this._h5DiscoveringInUse=!1:this._localDiscoveringInUse=!1,this._h5DiscoveringInUse||!this._localDiscoveringInUse)return e.prototype.stopBluetoothDevicesDiscovery.call(this)},t.prototype.response2BlueToothChanel=function(e,t,o){return void 0===t&&(t={}),void 0===o&&(o=""),r.__awaiter(this,void 0,void 0,(function(){var n;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),this._h5ChanelOpened?(console.log("response2BlueToothChanel",e,t),[4,this._h5Websocket.send("Response",{action:e,payload:t},{reqId:o})]):(console.log("h5 chanel not opened"),[2]);case 1:return r.sent(),[3,3];case 2:return n=r.sent(),console.warn("try send bluetooth message fail",n),[3,3];case 3:return[2]}}))}))},t.prototype.startCleanupTimer=function(){var e=this;clearTimeout(this._cleanupTimer),console.log("start cleanup timer"),this._cleanupTimer=setTimeout((function(){var t=e._deviceAdapterStore.getAll().filter((function(e){return e.isConnected}));console.log("bluetooth searching or deviceMap not empty, reset cleanup timer",e._discovering,t),e._h5ChanelOpened||e._discovering||t.length?e.startCleanupTimer():e.cleanup()}),3e4)},t.prototype.init=function(){return r.__awaiter(this,void 0,void 0,(function(){var t=this;return r.__generator(this,(function(r){return[2,e.prototype.init.call(this).then((function(){return t.startCleanupTimer()}))]}))}))},t.prototype.onBleConnectionStateChange=function(t){var r=t.deviceId,o=t.connected;return this.response2BlueToothChanel("onBLEConnectionStateChange",{deviceId:r,connected:o}),this._mpBleConnectionStateCache[r]=o,e.prototype.onBleConnectionStateChange.call(this,{deviceId:r,connected:o})},t.prototype.onBLECharacteristicValueChange=function(t){var r=t.deviceId,o=t.serviceId,n=t.characteristicId,s=t.value;return this.response2BlueToothChanel("onBLECharacteristicValueChange",{deviceId:r,serviceId:o,characteristicId:n,value:i(s)}),e.prototype.onBLECharacteristicValueChange.call(this,{deviceId:r,serviceId:o,characteristicId:n,value:s})},t.prototype.onBluetoothDeviceFound=function(t){return r.__awaiter(this,void 0,void 0,(function(){var o;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,e.prototype.onBluetoothDeviceFound.call(this,t)];case 1:return o=r.sent(),this.response2BlueToothChanel("onBluetoothDeviceFound",{devices:o.map(c)}),[2]}}))}))},t.prototype.startSearch=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(r){switch(r.label){case 0:return[4,e.prototype.startSearch.call(this,t)];case 1:return r.sent(),this.startCleanupTimer(),[2]}}))}))},t.prototype.searchDevice=function(t){return r.__awaiter(this,void 0,void 0,(function(){var o;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,e.prototype.searchDevice.call(this,t)];case 1:return o=r.sent(),this.startCleanupTimer(),[2,o]}}))}))},t.prototype.cleanup=function(t){e.prototype.cleanup.call(this,t),this._mpBleConnectionStateCache={}},t}(o.BlueToothAdapter);e.exports.BlueToothAdapter4Mp=l})),s.register("cFy13",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.DeviceAdapter4Mp=e.exports.AdapterDeviceAdapter4Mp=void 0;var r=s("983NH"),o=s("7hBxi");e.exports.AdapterDeviceAdapter4Mp=function(e){return function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t}(e)},e.exports.DeviceAdapter4Mp=e.exports.AdapterDeviceAdapter4Mp(o.DeviceAdapter)})),s.register("97ZCr",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.LLSyncOtaProcessor=e.exports.getPackageDataToSend=e.exports.generateFileChunks=void 0;var r=s("983NH"),o=s("fOlEO"),n=s("4ZYAF"),i=r.__importStar(s("jc4SE")),a=s("6TYuz"),c=s("8IFDn"),l=n.blueToothHelper.arrayBufferToHexStringArray,u=o.AppDevSdk.utils,d=u.genPromise,p=u.delay,f=u.byteUtil;e.exports.generateFileChunks=function(e,t){for(var r=t.alreadyReceiveSize,o=[],n=t.maxLengthPerPackage-3,i=Math.min(Math.ceil((e.fileSize-r)/n),t.maxPackageNumPerCircle),s=0;s<i;s++){var a=Math.min(r+n,e.fileSize),c=e.fileBuffer.slice(r,a);o.push(c),r=a}return o},e.exports.getPackageDataToSend=function(e,t){for(var o=[],n=parseInt(i.LL_OTA_WRITE_PREFIX[i.OTA_UPDATE_DATA],16),s=t;s<e.length;s++){var c=e[s].byteLength+1;o.push(r.__spread([a.U8ToHexString(n),a.U8ToHexString(c),a.U8ToHexString(s)],l(e[s])).join(""))}return o};var h=function(){function t(e){this.otaInProgress=!1,this.deviceAdapter=e}return Object.defineProperty(t.prototype,"reporter",{get:function(){return this.deviceAdapter.reporter},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"otaVersion",{get:function(){return this.deviceAdapter.otaVersion},enumerable:!1,configurable:!0}),t.prototype.onProgress=function(e,t){void 0===t&&(t={});var o=i.OTA_UPDATE_STEPS_MESSAGE[e];this.reporter.info(e,r.__assign({message:o},t)),"function"==typeof this._onProgressCb&&this._onProgressCb({code:e,msg:o,detail:t})},t.prototype.cancelOta=function(){this.otaInProgress&&this.processPromise.reject({code:"USER_CANCEL_OTA_UPDATE"})},t.prototype.startOta=function(e){var t=e.onProgress;return r.__awaiter(this,void 0,void 0,(function(){var e,o,n,s,a,c,l,u,p,f;return r.__generator(this,(function(r){switch(r.label){case 0:if(this.otaInProgress)throw{code:"OTA_UPDATE_IN_PROGRESS",msg:"OTA"};this.otaInProgress=!0,this.processPromise=d(),this._onProgressCb=t,r.label=1;case 1:return r.trys.push([1,8,9,10]),this.onProgress(i.OTA_UPDATE_STEPS.GET_OTA_UPDATE_INFO),[4,this.getOtaUpdateInfo()];case 2:if(e=r.sent(),this.onProgress(i.OTA_UPDATE_STEPS.GET_OTA_UPDATE_INFO_SUCCESS,{otaUpdateInfo:e}),!e.needUpdate)throw{code:this.otaVersion?"MODULE_VERSION_IS_UPDATED":"MODULE_DONNOT_SUPPORT"};return this.onProgress(i.OTA_UPDATE_STEPS.DOWNLOADING_OTA_FILE),[4,this.downloadOtaFile(e)];case 3:return o=r.sent(),this.onProgress(i.OTA_UPDATE_STEPS.DOWNLOAD_OTA_FILE_SUCCESS,{fileInfo:o}),this.onProgress(i.OTA_UPDATE_STEPS.REQUEST_MODULE_UPDATE_START),[4,this.sendOTARequest({fileInfo:o,otaUpdateInfo:e})];case 4:return n=r.sent(),s=n.supportUploadFromBreak,a=n.otaUpdateProgressInfo,this.onProgress(i.OTA_UPDATE_STEPS.REQUEST_MODULE_UPDATE_SUCCESS,{supportUploadFromBreak:s,otaUpdateProgressInfo:a}),this.onProgress(i.OTA_UPDATE_STEPS.SEND_UPDATE_DATA_START),c=Date.now(),[4,this.sendOtaFile({fileInfo:o,otaUpdateProgressInfo:a})];case 5:return r.sent(),[4,this.reportAndConfirmUpdateStatus({otaUpdateProgressInfo:a})];case 6:return l=r.sent(),this.onProgress(i.OTA_UPDATE_STEPS.SEND_UPDATE_DATA_SUCCESS,{timeCost:Date.now()-c,response:l}),this.onProgress(i.OTA_UPDATE_STEPS.WAITING_MODULE_UPDATE),u=Date.now(),[4,this.checkRebootStatus({otaUpdateInfo:e,rebootMaxTime:a.rebootMaxTime})];case 7:return r.sent(),this.onProgress(i.OTA_UPDATE_STEPS.MODULE_UPDATE_SUCCESS,{timeCost:Date.now()-u}),this.processPromise=null,[2,{code:i.OTA_UPDATE_STEPS.MODULE_UPDATE_SUCCESS,msg:i.OTA_UPDATE_STEPS_MESSAGE[i.OTA_UPDATE_STEPS.MODULE_UPDATE_SUCCESS]}];case 8:throw p=r.sent(),console.log("---ota fail---",p),p||(p={}),p.code&&i.OTA_UPDATE_ERRORS[p.code]?p.msg=i.OTA_UPDATE_ERRORS[p.code]+":"+p.code:(f="MODULE_DONNOT_SUPPORT",p.msg=f+":"+i.OTA_UPDATE_ERRORS[f]+":"+p.code+":"+(p.msg||p.errMsg||""),p.code=f),this.reporter.error("MODULE_UPDATE_FAIL",{error:p}),p;case 9:return this.otaInProgress=!1,[7];case 10:return[2]}}))}))},t.prototype.reportAndConfirmUpdateStatus=function(e){var t=e.otaUpdateProgressInfo;return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(r){return e=""+i.LL_OTA_WRITE_PREFIX[i.OTA_UPDATE_DATA_END],[2,this.deviceAdapter.writeAndWait4Response(e,i.UPDATE_DATA_CHECK_REPLY,(function(e){var t=e.data;if(console.log("---checkUpdateState---",t),!t.length)throw{code:i.UPDATE_REPLY_INVALID};var r=parseInt(t.slice(2).join(""),16),o=i.MODULE_UPDATE_DATA_REPLAY_CODE_MAP[r>>7];o=void 0===o?"MODULE_UPDATE_CHECK_FILE_FAIL":o;var n=(r<<1&255)>>1;if(console.log("------UPDATE_DATA_CHECK_REPLYcode----",o,n),o===i.OTA_UPDATE_STEPS.MODULE_UPDATE_CHECK_FILE_SUCCESS)return{code:o};throw{code:o,msg:i.MODULE_UPDATE_REPLAY_DATA_CODE_MAP[n]}}),{timeout:t.retryTimeGap*t.retryTimes,timeoutCode:"UPDATE_DATA_REPLAY_TIMEOUT",writeId:i.LL_OTA_WRITE_ID,shouldWrapSplitDataFn:!1})]}))}))},t.prototype.getOtaUpdateInfo=function(){return r.__awaiter(this,void 0,void 0,(function(){var e,t,o,n;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.deviceAdapter.models.getDeviceOTAInfo({DeviceId:this.deviceAdapter.explorerDeviceId})];case 1:return e=r.sent(),t=e.FirmwareURL,o=e.TargetVersion,console.log("----",o,t,this.otaVersion),n={needUpdate:!1,targetVersion:o,otaUrl:t},this.otaVersion&&o!==this.otaVersion&&(n.needUpdate=!0),[2,n];case 2:return r.sent(),[2,Promise.reject({code:"GET_OTA_INFO_FAIL"})];case 3:return[2]}}))}))},t.prototype.sendOTARequest=function(e){var t=this,o=e.fileInfo,n=e.otaUpdateInfo,s=f.hexString2hexArray(a.str2hexStr(n.targetVersion)),l=f.hexString2hexArray(a.U32ToHexString(o.fileSize)+""+a.U32ToHexString(o.fileCrc)+a.U8ToHexString(s.length)+s.join("")),u=this.deviceAdapter.sliceData(r.__spread([""+i.LL_OTA_WRITE_PREFIX[i.OTA_UPDATE_REQUEST],a.U16ToHexString(l.length)],l),[l],i.UPDATE_REPLY);return this.deviceAdapter.writeAndWait4Response(u,i.UPDATE_REPLY,(function(e){if(console.log("receive send OTA request",e),!e.length)throw{code:i.UPDATE_REPLY_INVALID};var r=parseInt(e.slice(2,3).join(""),16),o=!!(1&r),n=!!(r>>1&1),s=e.slice(3);if(!o){var a=parseInt(s.slice(0,1),16);throw{code:"MODULE_DONNOT_ALLOW",detail:{code:a,msg:i.MODULE_UPDATE_REPLAY_CODE_MAP[a]}}}var c={maxPackageNumPerCircle:parseInt(s.slice(0,1).join(""),16),maxLengthPerPackage:parseInt(s.slice(1,2).join(""),16),retryTimeGap:1e3*parseInt(s.slice(2,3).join(""),16),retryTimes:5,rebootMaxTime:1e3*parseInt(s.slice(3,4).join(""),16),alreadyReceiveSize:parseInt(s.slice(4,8).join(""),16),sendWaitGap:parseInt(s.slice(8,9).join("")||0,16)};return c.maxLengthPerPackage=Math.min(c.maxLengthPerPackage,t.deviceAdapter.mtu),{supportUploadFromBreak:n,otaUpdateProgressInfo:c}}),{timeout:c.LLSyncConfig.waitUpdateReplyInt,timeoutCode:i.WAIT_GET_UPDATE_INFO_TIMEOUT,writeId:i.LL_OTA_WRITE_ID})},t.prototype.reportSendOtaDataSuccess=function(){var e=""+i.LL_OTA_WRITE_PREFIX[i.OTA_UPDATE_DATA_END];return this.deviceAdapter.write(e,{writeId:i.LL_OTA_WRITE_ID})},t.prototype.sendOtaFile=function(t){var o=t.fileInfo,n=t.otaUpdateProgressInfo;return r.__awaiter(this,void 0,void 0,(function(){var t,s,a,c;return r.__generator(this,(function(r){switch(r.label){case 0:return this.onProgress(i.OTA_UPDATE_STEPS.SEND_UPDATE_DATA_DETAIL,{progress:Math.ceil(n.alreadyReceiveSize/o.fileSize*100)}),t=e.exports.generateFileChunks(o,n),s=d(),a=function(){console.log("disconnect while send data"),s.reject({code:"BLE_CONNECTION_BREAK"})},this.deviceAdapter.once("disconnect",a),[4,Promise.race([this.processPromise.promise,s.promise,this.sendFileChunks({fileChunks:t,otaUpdateProgressInfo:n})])];case 1:return c=r.sent().fileSize,console.log("----on--update---data-reply---then",c),n.alreadyReceiveSize=c,n.alreadyReceiveSize!==o.fileSize?[2,this.sendOtaFile({fileInfo:o,otaUpdateProgressInfo:n})]:[2]}}))}))},t.prototype.sendFileChunks=function(t){var o=t.fileChunks,n=t.otaUpdateProgressInfo,s=t.seq,a=void 0===s?0:s,c=t.retryTime,l=void 0===c?0:c;return r.__awaiter(this,void 0,void 0,(function(){var t,s,c,u,d,p,f,h;return r.__generator(this,(function(v){switch(v.label){case 0:if(console.log("----send file chunks",o,n,a,l),l>n.retryTimes)throw console.log("----UPDATE_DATA_REPLAY_TIMEOUT---reject---",l),{code:"UPDATE_DATA_REPLAY_TIMEOUT"};v.label=1;case 1:v.trys.push([1,11,,12]),t=e.exports.getPackageDataToSend(o,a),s=i.UPDATE_WRITE_ERROR_TIMES_PER_CIRCLE,v.label=2;case 2:if(!(s>0))return[3,7];v.label=3;case 3:return v.trys.push([3,5,,6]),[4,this.deviceAdapter.writeData(t,{writeId:i.LL_OTA_WRITE_ID,waitGap:n.sendWaitGap||10})];case 4:return v.sent(),[3,7];case 5:if(c=v.sent(),console.log("---write error, retry time:---",i.UPDATE_WRITE_ERROR_TIMES_PER_CIRCLE-s,c),!--s)throw c;return[3,6];case 6:return[3,2];case 7:return v.trys.push([7,9,,10]),[4,this.confirmFileChunkReceived({otaUpdateProgressInfo:n})];case 8:return u=v.sent(),d=u.seq,p=u.fileSize,console.log("---receive update reply",d,p,o.length),d!==o.length?(console.log("---confirmFileChunkSendStatus fail---","seqReceived and fileSended not match, resend file",d,o.length),[2,this.sendFileChunks({fileChunks:o,otaUpdateProgressInfo:n,seq:d||a,retryTime:l+1})]):[2,{fileSize:p}];case 9:return f=v.sent(),console.log("---confirmFileChunkSendStatus fail---",f),[2,Promise.reject(f)];case 10:return[3,12];case 11:return h=v.sent(),[2,Promise.reject(r.__assign({code:"BLE_WRITE_ERROR"},h))];case 12:return[2]}}))}))},t.prototype.confirmFileChunkReceived=function(e){var t,r=this,o=e.otaUpdateProgressInfo,n=d(),s=function(e){var r=e.data;if(clearTimeout(t),!r.length)return n.reject({code:i.UPDATE_REPLY_INVALID});var o=parseInt(r.slice(2,3).join(""),16),s=parseInt(r.slice(3,7).join(""),16);return n.resolve({seq:o,fileSize:s})};return console.log("---confirmFileChunkReceived---:listen data"),this.deviceAdapter.once(i.UPDATE_DATA_REPLY,s),Promise.race([n.promise,new Promise((function(e,n){t=setTimeout((function(){r.deviceAdapter.off(i.UPDATE_DATA_REPLY,s),n({code:"UPDATE_DATA_REPLAY_TIMEOUT"})}),o.retryTimeGap*o.retryTimes)}))])},t.prototype.checkRebootStatus=function(e){var t=e.otaUpdateInfo,o=e.rebootMaxTime;return r.__awaiter(this,void 0,void 0,(function(){var e,n,s,a,c,l,u,f=this;return r.__generator(this,(function(h){switch(h.label){case 0:return e=d(),n=!1,s=0,a=function(o){var a=(void 0===o?{}:o).allowSkipConnect,c=void 0!==a&&a;return r.__awaiter(f,void 0,void 0,(function(){var o;return r.__generator(this,(function(r){switch(r.label){case 0:if(!(s<=i.WAIT_MODULE_UPDATE_CONNECT_TIMES)||n)return[3,9];o=this.deviceAdapter.deviceName,r.label=1;case 1:return r.trys.push([1,6,,8]),c&&this.deviceAdapter.isConnected&&this.deviceAdapter.authorized?(console.log("llsync ota connectAndCheckVersion: already connected to device"),[3,5]):[3,2];case 2:return console.log("--try connect--",n,s,o),[4,this.deviceAdapter.connectDevice()];case 3:return r.sent(),[4,this.deviceAdapter.authenticateConnection({deviceName:o})];case 4:r.sent(),r.label=5;case 5:return this.otaVersion!==t.targetVersion?[2,e.reject({code:"MODULE_UPDATE_FAIL"})]:[2,e.resolve({code:i.OTA_UPDATE_STEPS.MODULE_UPDATE_SUCCESS})];case 6:return r.sent(),s+=1,[4,p(i.WAIT_MODULE_UPDATE_CONNECT_TIME_GAP)];case 7:return r.sent(),[3,8];case 8:return[3,0];case 9:return[2,e.reject({code:"MODULE_UPDATE_CONNECT_TIMEOUT"})]}}))}))},c=function(){f.deviceAdapter.off("disconnect",l),f.deviceAdapter.off("authorized",u)},l=function(){return r.__awaiter(f,void 0,void 0,(function(){return r.__generator(this,(function(e){return console.log("--on/disconnect--"),c(),a(),[2]}))}))},this.deviceAdapter.once("disconnect",l),u=function(){return r.__awaiter(f,void 0,void 0,(function(){return r.__generator(this,(function(e){return c(),a({allowSkipConnect:!0}),[2]}))}))},this.deviceAdapter.once("authorized",u),[4,Promise.race([e.promise,new Promise((function(e,t){setTimeout((function(){n=!0,c(),t({code:i.WAIT_MODULE_UPDATE_TIMEOUT})}),10*o)}))])];case 1:return[2,h.sent()]}}))}))},t.prototype.downloadOtaFile=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t,o,n,s,c,l=this;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,a.downloadFile(e.otaUrl,{onProgress:function(e){l.onProgress(i.OTA_UPDATE_STEPS.DOWNLOADING_OTA_FILE_DETAIL,e)}})];case 1:return t=r.sent(),o=t.fileSize,n=t.fileBuffer,console.log(o,n),(s=new a.CRC32).update(new Int8Array(n)),c=s.getValue(),[2,{fileSize:o,fileCrc:c,fileBuffer:n}]}}))}))},t}();e.exports.LLSyncOtaProcessor=h})),s.register("8IFDn",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.LLSyncProtocol=e.exports.LLSyncConfig=void 0;var r=s("983NH"),o=r.__importStar(s("jc4SE")),n=s("fOlEO"),i=s("6TYuz"),a=n.AppDevSdk.utils,c=a.noop,l=a.genPromise,u=a.byteUtil;e.exports.LLSyncConfig={BLE_PSK_DEVICE_KEY:"ble_psk_device_ket",waitConnectReplyTime:1e4,waitBindReplyTime:1e4,waitGetRegisterDeviceInfo:1e4,waitGetCheckTimeoutReplyTime:1e4,waitGetCheckTimeoutDefaultReplyTime:6e4,waitControlReplyTime:1e4,waitGetDeviceInfoTime:1e4,waitUpdateReplyInt:1e4,mtuDefaultMap:{0:void 0,1:20,2:20}};var d=function(){function t(e){this._cleanupUserCheckHandleAfterCancel=c,this.deviceAdapter=e}return Object.defineProperty(t.prototype,"reporter",{get:function(){return this.deviceAdapter.reporter},enumerable:!1,configurable:!0}),t.prototype.requestBindDevice=function(e){var t=e.needUserCheck,n=void 0!==t&&t,s=e.isDynamicRegister,a=void 0!==s&&s;return r.__awaiter(this,void 0,void 0,(function(){var e,t,s,c,l,u=this;return r.__generator(this,(function(r){switch(r.label){case 0:return e=Math.floor(Date.now()/1e3),t=parseInt(i.gen4BytesIntHex(),16),s=this._parseDataBeforeConnect(""+o.DEVICE_INFO_WRITE_PREFIX[o.TIME_SYNC]+t.toString(16)+e.toString(16),o.TIME_SYNC),this.reporter.info(o.TIME_SYNC,{timestamp:e,nonce:t,bindDeviceData:s,needUserCheck:n,isDynamicRegister:a}),a?[4,this.registerDevice({timestamp:e,bindDeviceData:s,nonce:t})]:[3,2];case 1:c=r.sent(),s=c.bleData,e=c.timestamp,r.label=2;case 2:return l={bindDeviceData:s,dataHandler:function(r){if(!r.length)throw{code:o.CONNECT_REPLY_INVALID};if(n){var s=!(i.getStrLength(r)>>15);if(console.log("bind auth response userCheckResult",s),!s)throw{code:o.GET_USER_CHECK_REJECT}}var a=r.slice(2,22).join(""),c=i.hex2str(r.slice(22)),l={sign:a.toLocaleLowerCase(),deviceName:c,nonce:t,timestamp:e+60};return u.reporter.info(o.TIME_SYNC,l),l}},this.reporter.info(o.TIME_SYNC,l),[2,n?this.waitUserCheckAndBindDevice(l):this.bindDeviceDirectly(l)]}}))}))},t.prototype.registerDevice=function(t){var n=t.timestamp,s=t.nonce,a=t.bindDeviceData;return r.__awaiter(this,void 0,void 0,(function(){var t,c,l,u,d,p,f,h,v=this;return r.__generator(this,(function(g){switch(g.label){case 0:return[4,this.deviceAdapter.writeAndWait4Response(a,o.REGISTER_DEVICE_INFO_REPLY,(function(e){if(!e.length)throw{code:o.REGISTER_DEVICE_INFO_REPLY_INVALID};var t=i.getStrLength(e),r=parseInt(e.slice(2,3).join(""),16),n=i.hex2str(e.slice(3,3+r)),s=i.hex2str(e.slice(3+r,3+t));return v.reporter.info(o.REGISTER_DEVICE_INFO_REPLY,{allLength:t,deviceNameLength:r,deviceName:n,sign:s}),{sign:s,deviceName:n}}),{timeout:e.exports.LLSyncConfig.waitGetRegisterDeviceInfo,timeoutCode:o.WAIT_REGISTER_DEVICE_INFO_REPLY_TIMEOUT,writeId:o.DEVICE_INFO_WRITE_ID})];case 1:t=g.sent(),c=t.deviceName,l=t.sign,this.reporter.info(o.TIME_SYNC,{deviceName:c,sign:l}),u=0,g.label=2;case 2:return g.trys.push([2,4,,5]),[4,this.deviceAdapter.models.dynamicRegisterDevice({deviceName:c,sign:l,productId:this.deviceAdapter.productId,timestamp:n,nonce:s})];case 3:return d=g.sent().payload,p=Math.floor(Date.now()/1e3),u=1,f=this._parseDataBeforeConnect(o.DEVICE_INFO_WRITE_PREFIX[o.SEND_REGISTER_DEVICE_PAYLOAD]+""+i.U8ToHexString(u)+i.U8ToHexString(d.length)+i.str2hexStr(d)+s.toString(16)+p.toString(16),o.SEND_REGISTER_DEVICE_PAYLOAD),this.reporter.info(o.REGISTER_DEVICE_SUCCESS,{payload:d,bleData:f}),[2,{bleData:f,timestamp:p}];case 4:throw h=g.sent(),r.__assign(r.__assign({},h),{code:o.REGISTER_DEVICE_ERROR});case 5:return[2]}}))}))},t.prototype.bindDeviceDirectly=function(t){var n=t.bindDeviceData,i=t.dataHandler;return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){return[2,this.deviceAdapter.writeAndWait4Response(n,o.BIND_AUTH,i,{timeout:e.exports.LLSyncConfig.waitBindReplyTime,timeoutCode:o.WAIT_CONNECT_REPLY_TIMEOUT,writeId:o.DEVICE_INFO_WRITE_ID})]}))}))},t.prototype.waitUserCheckAndBindDevice=function(t){var n=t.bindDeviceData,i=t.dataHandler;return r.__awaiter(this,void 0,void 0,(function(){var t,s,a,u=this;return r.__generator(this,(function(r){switch(r.label){case 0:return t=l(),a=function(e){clearTimeout(s),console.log("registerUserCheckTimer",e),s=setTimeout((function(){console.log("user check timeout",e),u.cancelUserCheck("timeout"),t.reject({code:o.WAIT_USER_CHECK_TIMEOUT})}),e)},this.deviceAdapter.wait4EventResponse(o.USER_CHECK_TIMEOUT_CALLBACK,(function(t){if(!t.length)return console.log("get user check timeout duration fail, trigger default timeout timer"),u.reporter.info(o.GET_USER_CHECK_TIMEOUT_ERROR),a(e.exports.LLSyncConfig.waitGetCheckTimeoutDefaultReplyTime);var r=1e3*parseInt(t.slice(2).join(""),16);u.reporter.info(o.GET_USER_CHECK_TIMEOUT_SUCCESS,{timeoutDuration:r}),a(r)}),{timeout:e.exports.LLSyncConfig.waitGetCheckTimeoutReplyTime,timeoutHandler:function(){u.reporter.info(o.GET_USER_CHECK_TIMEOUT_TIMEOUT),a(e.exports.LLSyncConfig.waitGetCheckTimeoutDefaultReplyTime-e.exports.LLSyncConfig.waitGetCheckTimeoutReplyTime)}}),this._cleanupUserCheckHandleAfterCancel=function(){console.log("process cleanup user check handler"),t.reject(null),u.deviceAdapter.off(o.BIND_AUTH),u._cleanupUserCheckHandleAfterCancel=c},[4,Promise.race([t.promise,this.deviceAdapter.writeAndWait4Response(n,o.BIND_AUTH,i,{timeout:e.exports.LLSyncConfig.waitBindReplyTime,timeoutCode:o.WAIT_CONNECT_REPLY_TIMEOUT,writeId:o.DEVICE_INFO_WRITE_ID})])];case 1:return[2,r.sent()]}}))}))},t.prototype.cancelUserCheck=function(e){void 0===e&&(e="timeout"),console.log("cancel user check, reason: ",e),"cancel"===e&&this._cleanupUserCheckHandleAfterCancel();var t=""+o.DEVICE_INFO_WRITE_PREFIX[o.USER_CHECK_TIMEOUT]+i.U8ToHexString("timeout"===e?o.WRITE_USER_CHECK_TIMEOUT:o.WRITE_USER_CHECK_CANCEL);this.deviceAdapter.write(t,{writeId:o.DEVICE_INFO_WRITE_ID})},t.prototype.getDeviceAuthInfo=function(){var t=Math.floor(Date.now()/1e3),r=this._parseDataBeforeConnect(""+o.DEVICE_INFO_WRITE_PREFIX[o.CONNECT_AUTH]+t.toString(16)+i.encrypt(t,this.deviceAdapter.localPsk),o.CONNECT_AUTH);return console.log("[LLsyncProtocol] auth data:",{data:r,moduleVersion:this.deviceAdapter.extendInfo.moduleVersion,localPsk:this.deviceAdapter.localPsk,dataStr:""+o.DEVICE_INFO_WRITE_PREFIX[o.CONNECT_AUTH]+t.toString(16)+i.encrypt(t,this.deviceAdapter.localPsk)}),this.deviceAdapter.writeAndWait4Response(r,o.CONNECT_AUTH,(function(e){if(!e.length)throw{code:o.CONNECT_REPLY_INVALID};return{sign:e.slice(2,22).join("").toLocaleLowerCase(),timestamp:t}}),{timeout:e.exports.LLSyncConfig.waitConnectReplyTime,timeoutCode:o.WAIT_CONNECT_REPLY_TIMEOUT,writeId:o.DEVICE_INFO_WRITE_ID})},t.prototype.getDeviceInfo=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){return[2,this.deviceAdapter.writeAndWait4Response(o.DEVICE_INFO_WRITE_PREFIX[o.CONNECT_RESULT_WRITE_SUCCESS],o.DEVICE_INFO,(function(e){if(!e.length)throw{code:o.DEVICE_INFO_INVALID};var t=parseInt(e.slice(2,3).join(""),16),r=parseInt(e.slice(3,5).join(""),16),n=!!(r>>15),s=8191&r,a=e.slice(6).join("");return{version:t,mtu:s,needSetMtu:n,otaVersion:a?i.hex2str(a):a}}),{timeout:e.exports.LLSyncConfig.waitGetDeviceInfoTime,timeoutCode:o.WAIT_GET_DEVICE_INFO_TIMEOUT,writeId:o.DEVICE_INFO_WRITE_ID})]}))}))},t.prototype.getUnbindAuthSign=function(){var t=this._parseDataBeforeConnect(""+o.DEVICE_INFO_WRITE_PREFIX[o.UNBIND_AUTH]+i.encrypt(o.UNBIND_REQUEST,this.deviceAdapter.localPsk),o.UNBIND_AUTH);return this.deviceAdapter.writeAndWait4Response(t,o.UNBIND_AUTH,(function(e){if(!e.length)throw{code:o.UNBIND_REPLY_INVALID};return{sign:e.slice(2,22).join("").toLocaleLowerCase()}}),{timeout:e.exports.LLSyncConfig.waitConnectReplyTime,timeoutCode:o.WAIT_UNBIND_REPLY_TIMEOUT,writeId:o.DEVICE_INFO_WRITE_ID})},t.prototype.controlDeviceAction=function(t){var n=i.convertActionControlToTlv(t,this.deviceAdapter.dataTemplate),s=n.actionIndex,a=n.tlvData,c=n.tmpData,l=this.deviceAdapter.sliceData(r.__spread([i.getTypeHead(o.DEVICE_DATA_WRITE_HEAD[o.CONTROL_ACTION],s),i.U16ToHexString(a.length)],a),c,o.CONTROL_ACTION);return this.deviceAdapter.writeAndWait4Response(l,o.ACTION_REPLY,(function(e){if(!e.length)throw{code:o.CONTROL_REPLY_INVALID};var t=parseInt(e.slice(2,3).join(""),16),r=e.slice(3);if(0===t)return{success:!0,output:r};throw{code:o.CONTROL_REPLY_CODE_INVALID,errCode:t}}),{timeout:e.exports.LLSyncConfig.waitControlReplyTime,timeoutCode:o.WAIT_CONTROL_ACTION_REPLY_TIMEOUT,writeId:o.DEVICE_DATA_WRITE_ID,wrapSplitDataMode:o.ACTION_REPLY})},t.prototype.controlDeviceProperty=function(t){var n=i.convertPropertiesChangeToTlv(t,this.deviceAdapter.dataTemplate),s=n.tlvData,a=n.tmpData,c=this.deviceAdapter.sliceData(r.__spread([i.getTypeHead(o.DEVICE_DATA_WRITE_HEAD[o.CONTROL_DEVICE],o.DEVICE_DATA_WRITE_SUFFIX[o.CONTROL_DEVICE]),i.U16ToHexString(s.length)],s),a,o.CONTROL_DEVICE);return this.deviceAdapter.writeAndWait4Response(c,o.CONTROL_REPLY,(function(e){if(!e.length)throw{code:o.CONTROL_REPLY_INVALID};var t=parseInt(e.slice(2).join(""),16);if(0===t)return{code:0};throw{code:o.CONTROL_REPLY_CODE_INVALID,errCode:t}}),{timeout:e.exports.LLSyncConfig.waitControlReplyTime,timeoutCode:o.WAIT_CONTROL_DEVICE_REPLY_TIMEOUT,writeId:o.DEVICE_DATA_WRITE_ID})},t.prototype.reportBindSuccess=function(t){return r.__awaiter(this,void 0,void 0,(function(){var n,s;return r.__generator(this,(function(r){switch(r.label){case 0:return n=i.gen4BytesIntHex(),this.reporter.info(o.BIND_AUTH_SUCCESS,{identify:this.deviceAdapter.userIdentify,localPsk:n,timeCost:Date.now()-t}),s=""+o.DEVICE_INFO_WRITE_PREFIX[o.BIND_AUTH_SUCCESS]+o.DEVICE_INFO_WRITE_PREFIX[o.BIND_AUTH_SUCCESS]+n+this.deviceAdapter.userIdentify,this.deviceAdapter.writeData(this._parseDataBeforeConnect(s,o.BIND_AUTH_SUCCESS),{writeId:o.DEVICE_INFO_WRITE_ID}),[4,this.deviceAdapter.models.setDeviceConfig({DeviceId:this.deviceAdapter.explorerDeviceId,DeviceKey:e.exports.LLSyncConfig.BLE_PSK_DEVICE_KEY,DeviceValue:n})];case 1:return r.sent(),[2,n]}}))}))},t.prototype.reportBindError=function(e){var t=""+o.DEVICE_INFO_WRITE_PREFIX[o.BIND_AUTH_FAIL]+i.str2hexStr(e);this.deviceAdapter.write(t,{writeId:o.DEVICE_INFO_WRITE_ID})},t.prototype.reportConnectError=function(){var e=o.DEVICE_INFO_WRITE_PREFIX[o.CONNECT_RESULT_WRITE_FAIL];this.deviceAdapter.write(e,{writeId:o.DEVICE_INFO_WRITE_ID})},t.prototype.reportPropertyReportResult=function(e){void 0===e&&(e=0);var t=o.DEVICE_DATA_WRITE_HEAD,r=o.DEVICE_DATA_WRITE_SUFFIX,n=o.REPORT_RESULT,s=o.DEVICE_DATA_WRITE_ID,a=""+i.getTypeHead(t[n],r[n])+u.byteToHex(u.convertNumberToByte(e));this.deviceAdapter.write(a,{writeId:s})},t.prototype.reportEventReportResult=function(e,t){void 0===e&&(e=0);var r=o.DEVICE_DATA_WRITE_HEAD,n=o.EVENT_REPLY,s=o.DEVICE_DATA_WRITE_ID,a=""+i.getTypeHead(r[n],t)+u.byteToHex(u.convertNumberToByte(e));this.deviceAdapter.write(a,{writeId:s})},t.prototype.reportGetStatusResult=function(e,t,n){void 0===e&&(e=0);var s=o.DEVICE_DATA_WRITE_HEAD,a=o.DEVICE_DATA_WRITE_SUFFIX,c=o.GET_STATUS,l=o.DEVICE_DATA_WRITE_ID,d=[""+i.getTypeHead(s[c],a[c]),u.byteToHex(u.convertNumberToByte(e))];t&&(d=this.deviceAdapter.sliceData(d.concat(r.__spread([i.U16ToHexString(t.length)],t)),n,o.GET_STATUS)),this.deviceAdapter.writeData(d,{writeId:l})},t.prototype.reportUnbindResult=function(e){var t=o.DEVICE_INFO_WRITE_PREFIX[o.UNBIND_RESULT_AUTH_SUCCESS];return"fail"===e&&(t=o.DEVICE_INFO_WRITE_PREFIX[o.UNBIND_RESULT_AUTH_FAIL]),this.deviceAdapter.write(t,{writeId:o.DEVICE_INFO_WRITE_ID})},t.prototype._parseDataBeforeConnect=function(t,r){void 0===this.deviceAdapter.extendInfo.moduleVersion&&console.warn("[LLsyncProtocol] invalid moduleVersion:",this.deviceAdapter.extendInfo.moduleVersion);var n,s=this.deviceAdapter.extendInfo.moduleVersion||2;s&&(n=e.exports.LLSyncConfig.mtuDefaultMap[s],s>=2&&(n=e.exports.LLSyncConfig.mtuDefaultMap[2])),this.reporter.info(o.SET_MTU_BEFORE_CONNECT,{version:s,mtuLength:n}),this.deviceAdapter.bleVersion=s,this.deviceAdapter.mtu=n;var a=u.hexString2hexArray(t.slice(2)),c=[a],l=[t.slice(0,2)];return s>0&&l.push(i.U16ToHexString(a.length)),l=l.concat(a),this.deviceAdapter.sliceData(l,c,r)},t}();e.exports.LLSyncProtocol=d})),s.register("jwJ9e",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),s("983NH").__exportStar(s("fYKKu"),e.exports)})),s.register("fYKKu",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.StandardDeviceAdapter4Mp=void 0;var r=s("4ZYAF"),o=s("6arPh");e.exports.StandardDeviceAdapter4Mp=r.AdapterDeviceAdapter4Mp(o.StandardDeviceAdapter)})),s.register("6SWq8",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),s("983NH").__exportStar(s("fFDrz"),e.exports)})),s.register("fFDrz",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.StandardDeviceAdapter4H5=void 0;var r=s("983NH"),o=s("4ZYAF"),n=function(e){function t(t){var r=e.call(this,t)||this;return r.on("authorized",(function(){var e;null===(e=r._h5Websocket)||void 0===e||e.send("Control",{action:"llsync_device_authorized",payload:{explorerDeviceId:r.explorerDeviceId,deviceId:r.deviceId}})})),r}return r.__extends(t,e),t}(s("6arPh").StandardDeviceAdapter);e.exports.StandardDeviceAdapter4H5=o.AdapterDeviceAdapter4H5(n)})),s("bgCzB");var a=s("7sCZa");function c(){}const l=Object.assign,u="undefined"!=typeof window;function d(e,t){const r=t.split(".");let o=e;return r.forEach((e=>{var t;o=null!=(t=o[e])?t:""})),o}function p(e,t,r){return t.reduce(((t,o)=>(r&&void 0===e[o]||(t[o]=e[o]),t)),{})}const f=e=>Array.isArray(e)?e:[e],h=null,v=[Number,String],g={type:Boolean,default:!0},_=e=>({type:e,required:!0}),m=()=>({type:Array,default:()=>[]}),E=e=>({type:Number,default:e}),y=e=>({type:v,default:e}),T=e=>({type:String,default:e});s("bgCzB");var b=s("liXpq"),C=s("d4ofg");s("bgCzB");b=s("liXpq"),C=s("d4ofg");s("bgCzB");b=s("liXpq"),C=s("d4ofg");s("bgCzB");b=s("liXpq"),C=s("d4ofg");s("bgCzB");b=s("liXpq"),C=s("d4ofg");s("bgCzB");b=s("liXpq"),C=s("d4ofg");s("bgCzB");b=s("liXpq"),C=s("d4ofg");s("bgCzB");b=s("liXpq"),C=s("d4ofg");s("bgCzB");b=s("liXpq"),C=s("d4ofg");s("bgCzB");b=s("liXpq"),C=s("d4ofg");s("bgCzB");b=s("liXpq"),C=s("d4ofg");s("bgCzB");b=s("liXpq"),C=s("d4ofg");var I="undefined"!=typeof window;function x(e){return I?requestAnimationFrame(e):-1}function A(e){I&&cancelAnimationFrame(e)}function S(e){x((()=>x(e)))}var D=(e,t)=>({top:0,left:0,right:e,bottom:t,width:e,height:t}),w=e=>{const t=b.unref(e);if(t===window){const e=t.innerWidth,r=t.innerHeight;return D(e,r)}return(null==t?void 0:t.getBoundingClientRect)?t.getBoundingClientRect():D(0,0)};function O(e){const t=C.inject(e,null);if(t){const e=C.getCurrentInstance(),{link:r,unlink:o,internalChildren:n}=t;r(e),C.onUnmounted((()=>o(e)));return{parent:t,index:C.computed((()=>n.indexOf(e)))}}return{parent:null,index:b.ref(-1)}}function N(e,t,r){const o=function(e){const t=[],r=e=>{Array.isArray(e)&&e.forEach((e=>{var o;C.isVNode(e)&&(t.push(e),(null==(o=e.component)?void 0:o.subTree)&&(t.push(e.component.subTree),r(e.component.subTree.children)),e.children&&r(e.children))}))};return r(e),t}(e.subTree.children);r.sort(((e,t)=>o.indexOf(e.vnode)-o.indexOf(t.vnode)));const n=r.map((e=>e.proxy));t.sort(((e,t)=>n.indexOf(e)-n.indexOf(t)))}function R(e){const t=b.reactive([]),r=b.reactive([]),o=C.getCurrentInstance();return{children:t,linkChildren:n=>{C.provide(e,Object.assign({link:e=>{e.proxy&&(r.push(e),t.push(e.proxy),N(o,t,r))},unlink:e=>{const o=r.indexOf(e);t.splice(o,1),r.splice(o,1)},children:t,internalChildren:r},n))}}}var B,P,L=1e3,U=6e4,V=36e5,k=864e5;function M(e){let t,r,o,n;const i=b.ref(e.time),s=C.computed((()=>{return{total:e=i.value,days:Math.floor(e/k),hours:Math.floor(e%k/V),minutes:Math.floor(e%V/U),seconds:Math.floor(e%U/L),milliseconds:Math.floor(e%L)};var e})),a=()=>{o=!1,A(t)},c=()=>Math.max(r-Date.now(),0),l=t=>{var r,o;i.value=t,null==(r=e.onChange)||r.call(e,s.value),0===t&&(a(),null==(o=e.onFinish)||o.call(e))},u=()=>{t=x((()=>{o&&(l(c()),i.value>0&&u())}))},d=()=>{t=x((()=>{if(o){const r=c();e=r,t=i.value,(Math.floor(e/1e3)!==Math.floor(t/1e3)||0===r)&&l(r),i.value>0&&d()}var e,t}))},p=()=>{I&&(e.millisecond?u():d())};return C.onBeforeUnmount(a),C.onActivated((()=>{n&&(o=!0,n=!1,p())})),C.onDeactivated((()=>{o&&(a(),n=!0)})),{start:()=>{o||(r=Date.now()+i.value,o=!0,p())},pause:a,reset:(t=e.time)=>{a(),i.value=t},current:s}}function F(e){let t;C.onMounted((()=>{e(),C.nextTick((()=>{t=!0}))})),C.onActivated((()=>{t&&e()}))}function H(e,t,r={}){if(!I)return;const{target:o=window,passive:n=!1,capture:i=!1}=r;let s;const a=r=>{const o=b.unref(r);o&&!s&&(o.addEventListener(e,t,{capture:i,passive:n}),s=!0)},c=r=>{const o=b.unref(r);o&&s&&(o.removeEventListener(e,t,i),s=!1)};C.onUnmounted((()=>c(o))),C.onDeactivated((()=>c(o))),F((()=>a(o))),b.isRef(o)&&C.watch(o,((e,t)=>{c(t),a(e)}))}function W(e,t,r={}){if(!I)return;const{eventName:o="click"}=r;H(o,(r=>{const o=b.unref(e);o&&!o.contains(r.target)&&t(r)}),{target:document})}var z,j=/scroll|auto/i,G=I?window:void 0;function Y(e){return"HTML"!==e.tagName&&"BODY"!==e.tagName&&1===e.nodeType}function q(e,t=G){let r=e;for(;r&&r!==t&&Y(r);){const{overflowY:e}=window.getComputedStyle(r);if(j.test(e))return r;r=r.parentNode}return t}function $(e,t=G){const r=b.ref();return C.onMounted((()=>{e.value&&(r.value=q(e.value,t))})),r}var X=Symbol("van-field");function K(e){const t=C.inject(X,null);t&&!t.customValue.value&&(t.customValue.value=e,C.watch(e,(()=>{t.resetValidation(),t.validateWithTrigger("onChange")})))}s("bgCzB");b=s("liXpq");const Z=e=>null!=e,J=e=>"function"==typeof e,Q=e=>null!==e&&"object"==typeof e,ee=e=>Q(e)&&J(e.then)&&J(e.catch),te=e=>"[object Date]"===Object.prototype.toString.call(e)&&!Number.isNaN(e.getTime());function re(e){return e=e.replace(/[^-|\d]/g,""),/^((\+86)|(86))?(1)\d{10}$/.test(e)||/^0[0-9-]{10,13}$/.test(e)}const oe=e=>"number"==typeof e||/^\d+(\.\d+)?$/.test(e);function ne(e){const t="scrollTop"in e?e.scrollTop:e.pageYOffset;return Math.max(t,0)}function ie(e,t){"scrollTop"in e?e.scrollTop=t:e.scrollTo(e.scrollX,t)}function se(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function ae(e){ie(window,e),ie(document.body,e)}function ce(e,t){if(e===window)return 0;const r=t?ne(t):se();return w(e).top+r}const le=!!u&&/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase());function ue(){le&&ae(se())}const de=e=>e.stopPropagation();function pe(e,t){("boolean"!=typeof e.cancelable||e.cancelable)&&e.preventDefault(),t&&de(e)}function fe(e){const t=b.unref(e);if(!t)return!1;const r=window.getComputedStyle(t),o="none"===r.display,n=null===t.offsetParent&&"fixed"!==r.position;return o||n}const{width:he,height:ve}=function(){if(!B&&(B=b.ref(0),P=b.ref(0),I)){const e=()=>{B.value=window.innerWidth,P.value=window.innerHeight};e(),window.addEventListener("resize",e,{passive:!0}),window.addEventListener("orientationchange",e,{passive:!0})}return{width:B,height:P}}();function ge(e){if(Z(e))return oe(e)?`${e}px`:String(e)}function _e(e){if(Z(e)){if(Array.isArray(e))return{width:ge(e[0]),height:ge(e[1])};const t=ge(e);return{width:t,height:t}}}function me(e){const t={};return void 0!==e&&(t.zIndex=+e),t}let Ee;function ye(e){return+(e=e.replace(/rem/g,""))*function(){if(!Ee){const e=document.documentElement,t=e.style.fontSize||window.getComputedStyle(e).fontSize;Ee=parseFloat(t)}return Ee}()}function Te(e){if("number"==typeof e)return e;if(u){if(e.includes("rem"))return ye(e);if(e.includes("vw"))return function(e){return+(e=e.replace(/vw/g,""))*he.value/100}(e);if(e.includes("vh"))return function(e){return+(e=e.replace(/vh/g,""))*ve.value/100}(e)}return parseFloat(e)}const be=/-(\w)/g,Ce=e=>e.replace(be,((e,t)=>t.toUpperCase()));function Ie(e,t=2){let r=e+"";for(;r.length<t;)r="0"+r;return r}const xe=(e,t,r)=>Math.min(Math.max(e,t),r);function Ae(e,t,r){const o=e.indexOf(t);return-1===o?e:"-"===t&&0!==o?e.slice(0,o):e.slice(0,o+1)+e.slice(o).replace(r,"")}function Se(e,t=!0,r=!0){e=t?Ae(e,".",/\./g):e.split(".")[0];const o=t?/[^-0-9.]/g:/[^-0-9]/g;return(e=r?Ae(e,"-",/-/g):e.replace(/-/,"")).replace(o,"")}function De(e,t){const r=10**10;return Math.round((e+t)*r)/r}s("bgCzB");b=s("liXpq");const{hasOwnProperty:we}=Object.prototype;function Oe(e,t){return Object.keys(t).forEach((r=>{!function(e,t,r){const o=t[r];Z(o)&&(we.call(e,r)&&Q(o)?e[r]=Oe(Object(e[r]),o):e[r]=o)}(e,t,r)})),e}const Ne=b.ref("zh-CN"),Re=b.reactive({"zh-CN":{name:"",tel:"",save:"",confirm:"",cancel:"",delete:"",loading:"...",noCoupon:"",nameEmpty:"",addContact:"",telInvalid:"",vanCalendar:{end:"",start:"",title:"",weekdays:["","","","","","",""],monthTitle:(e,t)=>`${e}${t}`,rangePrompt:e=>` ${e} `},vanCascader:{select:""},vanPagination:{prev:"",next:""},vanPullRefresh:{pulling:"...",loosing:"..."},vanSubmitBar:{label:":"},vanCoupon:{unlimited:"",discount:e=>`${e}`,condition:e=>`${e}`},vanCouponCell:{title:"",count:e=>`${e}`},vanCouponList:{exchange:"",close:"",enable:"",disabled:"",placeholder:""},vanAddressEdit:{area:"",postal:"",areaEmpty:"",addressEmpty:"",postalEmpty:"",addressDetail:"",defaultAddress:""},vanAddressList:{add:""}}});var Be={messages:()=>Re[Ne.value],use(e,t){Ne.value=e,this.add({[e]:t})},add(e={}){Oe(Re,e)}};function Pe(e){const t=Ce(e)+".";return(e,...r)=>{const o=Be.messages(),n=d(o,t+e)||d(o,e);return J(n)?n(...r):n}}function Le(e,t){return t?"string"==typeof t?` ${e}--${t}`:Array.isArray(t)?t.reduce(((t,r)=>t+Le(e,r)),""):Object.keys(t).reduce(((r,o)=>r+(t[o]?Le(e,o):"")),""):""}function Ue(e){return(t,r)=>(t&&"string"!=typeof t&&(r=t,t=""),`${t=t?`${e}__${t}`:e}${Le(t,r)}`)}function Ve(e){const t=`van-${e}`;return[t,Ue(t),Pe(t)]}const ke="van-hairline",Me="van-hairline--top",Fe="van-hairline--left",He="van-hairline--bottom",We="van-hairline--surround",ze="van-hairline--top-bottom",je="van-haptics-feedback",Ge=Symbol("van-form");function Ye(e,{args:t=[],done:r,canceled:o}){if(e){const n=e.apply(null,t);ee(n)?n.then((e=>{e?r():o&&o()})).catch(c):n?r():o&&o()}else r()}function qe(e){return e.install=t=>{const{name:r}=e;t.component(r,e),t.component(Ce(`-${r}`),e)},e}s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");const[$e,Xe]=Ve("action-bar"),Ke=Symbol($e),Ze={safeAreaInsetBottom:g};const Je=qe(C.defineComponent({name:$e,props:Ze,setup(e,{slots:t}){const{linkChildren:r}=R(Ke);return r(),()=>{var r;return C.createVNode("div",{class:[Xe(),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[null==(r=t.default)?void 0:r.call(t)])}}}));s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");function Qe(e){const t=C.getCurrentInstance();t&&l(t.proxy,e)}s("bgCzB");C=s("d4ofg");const et={to:[String,Object],url:String,replace:Boolean};function tt({to:e,url:t,replace:r,$router:o}){e&&o?o[r?"replace":"push"](e):t&&(r?location.replace(t):location.href=t)}function rt(){const e=C.getCurrentInstance().proxy;return()=>tt(e)}s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");const[ot,nt]=Ve("badge"),it={dot:Boolean,max:v,tag:T("div"),color:String,offset:Array,content:v,showZero:g,position:T("top-right")};const st=qe(C.defineComponent({name:ot,props:it,setup(e,{slots:t}){const r=()=>{if(t.content)return!0;const{content:r,showZero:o}=e;return Z(r)&&""!==r&&(o||0!==r)},o=()=>{const{dot:o,max:n,content:i}=e;if(!o&&r())return t.content?t.content():Z(n)&&oe(i)&&+i>n?`${n}+`:i},n=C.computed((()=>{const r={background:e.color};if(e.offset){const[o,n]=e.offset;t.default?(r.top=ge(n),r.right="number"==typeof o?ge(-o):o.startsWith("-")?o.replace("-",""):`-${o}`):(r.marginTop=ge(n),r.marginLeft=ge(o))}return r})),i=()=>{if(r()||e.dot)return C.createVNode("div",{class:nt([e.position,{dot:e.dot,fixed:!!t.default}]),style:n.value},[o()])};return()=>{if(t.default){const{tag:r}=e;return C.createVNode(r,{class:nt("wrapper")},{default:()=>[t.default(),i()]})}return i()}}}));s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");const[at,ct]=Ve("config-provider"),lt=Symbol(at),ut={tag:T("div"),themeVars:Object,iconPrefix:String};var dt=C.defineComponent({name:at,props:ut,setup(e,{slots:t}){const r=C.computed((()=>{if(e.themeVars)return function(e){const t={};return Object.keys(e).forEach((r=>{var o;t[`--van-${o=r,o.replace(/([A-Z])/g,"-$1").toLowerCase().replace(/^-/,"")}`]=e[r]})),t}(e.themeVars)}));return C.provide(lt,e),()=>C.createVNode(e.tag,{class:ct(),style:r.value},{default:()=>{var e;return[null==(e=t.default)?void 0:e.call(t)]}})}});const[pt,ft]=Ve("icon"),ht={dot:Boolean,tag:T("i"),name:String,size:v,badge:v,color:String,badgeProps:Object,classPrefix:String};const vt=qe(C.defineComponent({name:pt,props:ht,setup(e,{slots:t}){const r=C.inject(lt,null),o=C.computed((()=>e.classPrefix||(null==r?void 0:r.iconPrefix)||ft()));return()=>{const{tag:r,dot:n,name:i,size:s,badge:a,color:c}=e,l=(e=>null==e?void 0:e.includes("/"))(i);return C.createVNode(st,C.mergeProps({dot:n,tag:r,class:[o.value,l?"":`${o.value}-${i}`],style:{color:c,fontSize:ge(s)},content:a},e.badgeProps),{default:()=>{var e;return[null==(e=t.default)?void 0:e.call(t),l&&C.createVNode("img",{class:ft("image"),src:i},null)]}})}}}));s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");const[gt,_t]=Ve("loading"),mt=Array(12).fill(null).map(((e,t)=>C.createVNode("i",{class:_t("line",String(t+1))},null))),Et=C.createVNode("svg",{class:_t("circular"),viewBox:"25 25 50 50"},[C.createVNode("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),yt={size:v,type:T("circular"),color:String,vertical:Boolean,textSize:v,textColor:String};const Tt=qe(C.defineComponent({name:gt,props:yt,setup(e,{slots:t}){const r=C.computed((()=>l({color:e.color},_e(e.size)))),o=()=>{var r;if(t.default)return C.createVNode("span",{class:_t("text"),style:{fontSize:ge(e.textSize),color:null!=(r=e.textColor)?r:e.color}},[t.default()])};return()=>{const{type:t,vertical:n}=e;return C.createVNode("div",{class:_t([t,{vertical:n}]),"aria-live":"polite","aria-busy":!0},[C.createVNode("span",{class:_t("spinner",t),style:r.value},["spinner"===t?mt:Et]),o()])}}}));const[bt,Ct]=Ve("button"),It=l({},et,{tag:T("button"),text:String,icon:String,type:T("default"),size:T("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:T("button"),loadingSize:v,loadingText:String,loadingType:String,iconPosition:T("left")});const xt=qe(C.defineComponent({name:bt,props:It,emits:["click"],setup(e,{emit:t,slots:r}){const o=rt(),n=()=>e.loading?r.loading?r.loading():C.createVNode(Tt,{size:e.loadingSize,type:e.loadingType,class:Ct("loading")},null):r.icon?C.createVNode("div",{class:Ct("icon")},[r.icon()]):e.icon?C.createVNode(vt,{name:e.icon,class:Ct("icon"),classPrefix:e.iconPrefix},null):void 0,i=()=>{let t;if(t=e.loading?e.loadingText:r.default?r.default():e.text,t)return C.createVNode("span",{class:Ct("text")},[t])},s=()=>{const{color:t,plain:r}=e;if(t){const e={color:r?t:"white"};return r||(e.background=t),t.includes("gradient")?e.border=0:e.borderColor=t,e}},a=r=>{e.loading?pe(r):e.disabled||(t("click",r),o())};return()=>{const{tag:t,type:r,size:o,block:c,round:l,plain:u,square:d,loading:p,disabled:f,hairline:h,nativeType:v,iconPosition:g}=e,_=[Ct([r,o,{plain:u,block:c,round:l,square:d,loading:p,disabled:f,hairline:h}]),{[We]:h}];return C.createVNode(t,{type:v,class:_,style:s(),disabled:f,onClick:a},{default:()=>[C.createVNode("div",{class:Ct("content")},["left"===g&&n(),i(),"right"===g&&n()])]})}}}));const[At,St]=Ve("action-bar-button"),Dt=l({},et,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean});const wt=qe(C.defineComponent({name:At,props:Dt,setup(e,{slots:t}){const r=rt(),{parent:o,index:n}=O(Ke),i=C.computed((()=>{if(o){const e=o.children[n.value-1];return!(e&&"isButton"in e)}})),s=C.computed((()=>{if(o){const e=o.children[n.value+1];return!(e&&"isButton"in e)}}));return Qe({isButton:!0}),()=>{const{type:o,icon:n,text:a,color:c,loading:l,disabled:u}=e;return C.createVNode(xt,{class:St([o,{last:s.value,first:i.value}]),size:"large",type:o,icon:n,color:c,loading:l,disabled:u,onClick:r},{default:()=>[t.default?t.default():a]})}}}));s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");const[Ot,Nt]=Ve("action-bar-icon"),Rt=l({},et,{dot:Boolean,text:String,icon:String,color:String,badge:v,iconClass:h,badgeProps:Object,iconPrefix:String});qe(C.defineComponent({name:Ot,props:Rt,setup(e,{slots:t}){const r=rt();O(Ke);const o=()=>{const{dot:r,badge:o,icon:n,color:i,iconClass:s,badgeProps:a,iconPrefix:c}=e;return t.icon?C.createVNode(st,C.mergeProps({dot:r,class:Nt("icon"),content:o},a),{default:t.icon}):C.createVNode(vt,{tag:"div",dot:r,name:n,badge:o,color:i,class:[Nt("icon"),s],badgeProps:a,classPrefix:c},null)};return()=>C.createVNode("div",{role:"button",class:Nt(),tabindex:0,onClick:r},[o(),t.default?t.default():e.text])}}));s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg"),b=s("liXpq"),a=s("7sCZa");s("bgCzB");C=s("d4ofg"),b=s("liXpq"),a=s("7sCZa");const Bt={show:Boolean,zIndex:v,overlay:g,duration:v,teleport:[String,Object],lockScroll:g,lazyRender:g,beforeClose:Function,overlayStyle:Object,overlayClass:h,transitionAppear:Boolean,closeOnClickOverlay:g},Pt=Object.keys(Bt);s("bgCzB");C=s("d4ofg");s("bgCzB");b=s("liXpq");function Lt(){const e=b.ref(0),t=b.ref(0),r=b.ref(0),o=b.ref(0),n=b.ref(0),i=b.ref(0),s=b.ref(""),a=()=>{r.value=0,o.value=0,n.value=0,i.value=0,s.value=""};return{move:a=>{const c=a.touches[0];r.value=(c.clientX<0?0:c.clientX)-e.value,o.value=c.clientY-t.value,n.value=Math.abs(r.value),i.value=Math.abs(o.value);var l,u;(!s.value||n.value<10&&i.value<10)&&(s.value=(l=n.value,u=i.value,l>u?"horizontal":u>l?"vertical":""))},start:r=>{a(),e.value=r.touches[0].clientX,t.value=r.touches[0].clientY},reset:a,startX:e,startY:t,deltaX:r,deltaY:o,offsetX:n,offsetY:i,direction:s,isVertical:()=>"vertical"===s.value,isHorizontal:()=>"horizontal"===s.value}}let Ut=0;const Vt="van-overflow-hidden";s("bgCzB");b=s("liXpq"),C=s("d4ofg");function kt(e){const t=b.ref(!1);return C.watch(e,(e=>{e&&(t.value=e)}),{immediate:!0}),e=>()=>t.value?e():null}s("bgCzB");C=s("d4ofg");const Mt=Symbol();function Ft(e){const t=C.inject(Mt,null);t&&C.watch(t,(t=>{t&&e()}))}s("bgCzB");C=s("d4ofg"),a=s("7sCZa");s("bgCzB");C=s("d4ofg"),a=s("7sCZa");const[Ht,Wt]=Ve("overlay"),zt={show:Boolean,zIndex:v,duration:v,className:h,lockScroll:g,lazyRender:g,customStyle:Object};const jt=qe(C.defineComponent({name:Ht,props:zt,setup(e,{slots:t}){const r=kt((()=>e.show||!e.lazyRender)),o=e=>{pe(e,!0)},n=r((()=>{var r;const n=l(me(e.zIndex),e.customStyle);return Z(e.duration)&&(n.animationDuration=`${e.duration}s`),C.withDirectives(C.createVNode("div",{style:n,class:[Wt(),e.className],onTouchmove:e.lockScroll?o:c},[null==(r=t.default)?void 0:r.call(t)]),[[a.vShow,e.show]])}));return()=>C.createVNode(a.Transition,{name:"van-fade",appear:!0},{default:n})}}));const Gt=l({},Bt,{round:Boolean,position:T("center"),closeIcon:T("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:T("top-right"),safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[Yt,qt]=Ve("popup");let $t=2e3;const Xt=qe(C.defineComponent({name:Yt,inheritAttrs:!1,props:Gt,emits:["open","close","opened","closed","keydown","update:show","click-overlay","click-close-icon"],setup(e,{emit:t,attrs:r,slots:o}){let n,i;const s=b.ref(),c=b.ref(),l=kt((()=>e.show||!e.lazyRender)),u=C.computed((()=>{const t={zIndex:s.value};if(Z(e.duration)){t["center"===e.position?"animationDuration":"transitionDuration"]=`${e.duration}s`}return t})),d=()=>{n||(void 0!==e.zIndex&&($t=+e.zIndex),n=!0,s.value=++$t,t("open"))},p=()=>{n&&Ye(e.beforeClose,{done(){n=!1,t("close"),t("update:show",!1)}})},f=r=>{t("click-overlay",r),e.closeOnClickOverlay&&p()},h=()=>{if(e.overlay)return C.createVNode(jt,{show:e.show,class:e.overlayClass,zIndex:s.value,duration:e.duration,customStyle:e.overlayStyle,onClick:f},{default:o["overlay-content"]})},v=e=>{t("click-close-icon",e),p()},g=()=>{if(e.closeable)return C.createVNode(vt,{role:"button",tabindex:0,name:e.closeIcon,class:[qt("close-icon",e.closeIconPosition),je],classPrefix:e.iconPrefix,onClick:v},null)},_=()=>t("opened"),m=()=>t("closed"),E=e=>t("keydown",e),y=l((()=>{var t;const{round:n,position:i,safeAreaInsetTop:s,safeAreaInsetBottom:l}=e;return C.withDirectives(C.createVNode("div",C.mergeProps({ref:c,style:u.value,class:[qt({round:n,[i]:i}),{"van-safe-area-top":s,"van-safe-area-bottom":l}],onKeydown:E},r),[null==(t=o.default)?void 0:t.call(o),g()]),[[a.vShow,e.show]])})),T=()=>{const{position:t,transition:r,transitionAppear:o}=e,n="center"===t?"van-fade":`van-popup-slide-${t}`;return C.createVNode(a.Transition,{name:r||n,appear:o,onAfterEnter:_,onAfterLeave:m},{default:y})};return C.watch((()=>e.show),(e=>{e&&!n&&(d(),0===r.tabindex&&C.nextTick((()=>{var e;null==(e=c.value)||e.focus()}))),!e&&n&&(n=!1,t("close"))})),Qe({popupRef:c}),function(e,t){const r=Lt(),o=t=>{r.move(t);const o=r.deltaY.value>0?"10":"01",n=q(t.target,e.value),{scrollHeight:i,offsetHeight:s,scrollTop:a}=n;let c="11";0===a?c=s>=i?"00":"01":a+s>=i&&(c="10"),"11"===c||!r.isVertical()||parseInt(c,2)&parseInt(o,2)||pe(t,!0)},n=()=>{document.addEventListener("touchstart",r.start),document.addEventListener("touchmove",o,{passive:!1}),Ut||document.body.classList.add(Vt),Ut++},i=()=>{Ut&&(document.removeEventListener("touchstart",r.start),document.removeEventListener("touchmove",o),Ut--,Ut||document.body.classList.remove(Vt))},s=()=>t()&&i();F((()=>t()&&n())),C.onDeactivated(s),C.onBeforeUnmount(s),C.watch(t,(e=>{e?n():i()}))}(c,(()=>e.show&&e.lockScroll)),H("popstate",(()=>{e.closeOnPopstate&&(p(),i=!1)})),C.onMounted((()=>{e.show&&d()})),C.onActivated((()=>{i&&(t("update:show",!0),i=!1)})),C.onDeactivated((()=>{e.show&&(p(),i=!0)})),C.provide(Mt,(()=>e.show)),()=>e.teleport?C.createVNode(C.Teleport,{to:e.teleport},{default:()=>[h(),T()]}):C.createVNode(C.Fragment,null,[h(),T()])}}));const[Kt,Zt]=Ve("action-sheet"),Jt=l({},Bt,{title:String,round:g,actions:m(),closeIcon:T("cross"),closeable:g,cancelText:String,description:String,closeOnPopstate:g,closeOnClickAction:Boolean,safeAreaInsetBottom:g}),Qt=[...Pt,"round","closeOnPopstate","safeAreaInsetBottom"];qe(C.defineComponent({name:Kt,props:Jt,emits:["select","cancel","update:show"],setup(e,{slots:t,emit:r}){const o=e=>r("update:show",e),n=()=>{o(!1),r("cancel")},i=()=>{if(e.title)return C.createVNode("div",{class:Zt("header")},[e.title,e.closeable&&C.createVNode(vt,{name:e.closeIcon,class:[Zt("close"),je],onClick:n},null)])},s=()=>{if(t.cancel||e.cancelText)return[C.createVNode("div",{class:Zt("gap")},null),C.createVNode("button",{type:"button",class:Zt("cancel"),onClick:n},[t.cancel?t.cancel():e.cancelText])]},a=(e,r)=>e.loading?C.createVNode(Tt,{class:Zt("loading-icon")},null):t.action?t.action({action:e,index:r}):[C.createVNode("span",{class:Zt("name")},[e.name]),e.subname&&C.createVNode("div",{class:Zt("subname")},[e.subname])],c=(t,n)=>{const{color:i,loading:s,callback:c,disabled:l,className:u}=t;return C.createVNode("button",{type:"button",style:{color:i},class:[Zt("item",{loading:s,disabled:l}),u],onClick:()=>{l||s||(c&&c(t),e.closeOnClickAction&&o(!1),C.nextTick((()=>r("select",t,n))))}},[a(t,n)])},l=()=>{if(e.description||t.description){const r=t.description?t.description():e.description;return C.createVNode("div",{class:Zt("description")},[r])}};return()=>C.createVNode(Xt,C.mergeProps({class:Zt(),position:"bottom","onUpdate:show":o},p(e,Qt)),{default:()=>{var r;return[i(),l(),C.createVNode("div",{class:Zt("content")},[e.actions.map(c),null==(r=t.default)?void 0:r.call(t)]),s()]}})}}));s("bgCzB");C=s("d4ofg"),b=s("liXpq"),a=s("7sCZa");s("bgCzB");C=s("d4ofg"),b=s("liXpq"),a=s("7sCZa");s("bgCzB");C=s("d4ofg"),b=s("liXpq");s("bgCzB");C=s("d4ofg"),b=s("liXpq");function er(e){if(!Z(e))return e;if(Array.isArray(e))return e.map((e=>er(e)));if(Q(e)){const t={};return Object.keys(e).forEach((r=>{t[r]=er(e[r])})),t}return e}s("bgCzB");C=s("d4ofg"),b=s("liXpq");s("bgCzB");C=s("d4ofg"),b=s("liXpq");s("bgCzB");C=s("d4ofg"),b=s("liXpq");s("bgCzB");C=s("d4ofg"),b=s("liXpq");const[tr,rr]=Ve("picker-column");const or=Symbol(tr),nr=e=>Q(e)&&e.disabled;var ir=C.defineComponent({name:tr,props:{textKey:_(String),readonly:Boolean,allowHtml:Boolean,className:h,itemHeight:_(Number),defaultIndex:E(0),swipeDuration:_(v),initialOptions:m(),visibleItemCount:_(v)},emits:["change"],setup(e,{emit:t,slots:r}){let o,n,i,s,a;const c=b.ref(),l=b.reactive({index:e.defaultIndex,offset:0,duration:0,options:er(e.initialOptions)}),u=Lt(),d=()=>l.options.length,p=()=>e.itemHeight*(+e.visibleItemCount-1)/2,f=(r,n)=>{const i=-(r=(e=>{for(let t=e=xe(e,0,d());t<d();t++)if(!nr(l.options[t]))return t;for(let t=e-1;t>=0;t--)if(!nr(l.options[t]))return t})(r)||0)*e.itemHeight,s=()=>{r!==l.index&&(l.index=r,n&&t("change",r))};o&&i!==l.offset?a=s:s(),l.offset=i},h=t=>{JSON.stringify(t)!==JSON.stringify(l.options)&&(l.options=er(t),f(e.defaultIndex))},v=t=>Q(t)&&e.textKey in t?t[e.textKey]:t,g=t=>xe(Math.round(-t/e.itemHeight),0,d()-1),_=()=>{o=!1,l.duration=0,a&&(a(),a=null)},m=t=>{if(!e.readonly){if(u.start(t),o){const e=function(e){const{transform:t}=window.getComputedStyle(e),r=t.slice(7,t.length-1).split(", ")[5];return Number(r)}(c.value);l.offset=Math.min(0,e-p()),n=l.offset}else n=l.offset;l.duration=0,i=Date.now(),s=n,a=null}},E=t=>{if(e.readonly)return;u.move(t),u.isVertical()&&(o=!0,pe(t,!0)),l.offset=xe(n+u.deltaY.value,-d()*e.itemHeight,e.itemHeight);const r=Date.now();r-i>300&&(i=r,s=l.offset)},y=()=>{if(e.readonly)return;const t=l.offset-s,r=Date.now()-i;if(r<300&&Math.abs(t)>15)return void((t,r)=>{const o=Math.abs(t/r);t=l.offset+o/.003*(t<0?-1:1);const n=g(t);l.duration=+e.swipeDuration,f(n,!0)})(t,r);const n=g(l.offset);l.duration=200,f(n,!0),setTimeout((()=>{o=!1}),0)},T=()=>{const t={height:`${e.itemHeight}px`};return l.options.map(((n,i)=>{const s=v(n),c=nr(n),u={role:"button",style:t,tabindex:c?-1:0,class:rr("item",{disabled:c,selected:i===l.index}),onClick:()=>(t=>{o||e.readonly||(a=null,l.duration=200,f(t,!0))})(i)},d={class:"van-ellipsis",[e.allowHtml?"innerHTML":"textContent"]:s};return C.createVNode("li",u,[r.option?r.option(n):C.createVNode("div",d,null)])}))};return f(l.index),O(or),Qe({state:l,setIndex:f,getValue:()=>l.options[l.index],setValue:e=>{const{options:t}=l;for(let r=0;r<t.length;r++)if(v(t[r])===e)return f(r)},setOptions:h,stopMomentum:_}),C.watch((()=>e.initialOptions),h),C.watch((()=>e.defaultIndex),(e=>f(e))),()=>C.createVNode("div",{class:[rr(),e.className],onTouchstart:m,onTouchmove:E,onTouchend:y,onTouchcancel:y},[C.createVNode("ul",{ref:c,style:{transform:`translate3d(0, ${l.offset+p()}px, 0)`,transitionDuration:`${l.duration}ms`,transitionProperty:l.duration?"all":"none"},class:rr("wrapper"),onTransitionend:_},[T()])])}});const[sr,ar,cr]=Ve("picker"),lr={title:String,loading:Boolean,readonly:Boolean,allowHtml:Boolean,itemHeight:y(44),showToolbar:g,swipeDuration:y(1e3),visibleItemCount:y(6),cancelButtonText:String,confirmButtonText:String},ur=l({},lr,{columns:m(),valueKey:String,defaultIndex:y(0),toolbarPosition:T("top"),columnsFieldNames:Object});const dr=qe(C.defineComponent({name:sr,props:ur,emits:["confirm","cancel","change"],setup(e,{emit:t,slots:r}){const o=b.ref(!1),n=b.ref([]),{text:i,values:s,children:a}=l({text:e.valueKey||"text",values:"values",children:"children"},e.columnsFieldNames),{children:c,linkChildren:u}=R(or);u();const d=C.computed((()=>Te(e.itemHeight))),p=C.computed((()=>{const t=e.columns[0];if("object"==typeof t){if(a in t)return"cascade";if(s in t)return"object"}return"plain"})),f=()=>c.map((e=>e.state.index)),h=(e,t)=>{const r=c[e];r&&(r.setOptions(t),o.value=!0)},v=t=>{let r={[a]:e.columns};const o=f();for(let e=0;e<=t;e++)r=r[a][o[e]];for(;r&&r[a];)t++,h(t,r[a]),r=r[a][r.defaultIndex||0]},g=e=>c[e],_=e=>{const t=g(e);if(t)return t.getValue()},m=(e,t)=>{const r=g(e);r&&(r.setValue(t),"cascade"===p.value&&v(e))},E=e=>{const t=g(e);if(t)return t.state.index},y=(e,t)=>{const r=g(e);r&&(r.setIndex(t),"cascade"===p.value&&v(e))},T=()=>c.map((e=>e.getValue())),I=e=>{"plain"===p.value?t(e,_(0),E(0)):t(e,T(),f())},x=()=>{c.forEach((e=>e.stopMomentum())),I("confirm")},A=()=>I("cancel"),S=()=>{const t=e.cancelButtonText||cr("cancel");return C.createVNode("button",{type:"button",class:[ar("cancel"),je],onClick:A},[r.cancel?r.cancel():t])},D=()=>{const t=e.confirmButtonText||cr("confirm");return C.createVNode("button",{type:"button",class:[ar("confirm"),je],onClick:x},[r.confirm?r.confirm():t])},w=()=>{if(e.showToolbar){const t=r.toolbar||r.default;return C.createVNode("div",{class:ar("toolbar")},[t?t():[S(),r.title?r.title():e.title?C.createVNode("div",{class:[ar("title"),"van-ellipsis"]},[e.title]):void 0,D()]])}},O=()=>n.value.map(((o,n)=>{var a;return C.createVNode(ir,{textKey:i,readonly:e.readonly,allowHtml:e.allowHtml,className:o.className,itemHeight:d.value,defaultIndex:null!=(a=o.defaultIndex)?a:+e.defaultIndex,swipeDuration:e.swipeDuration,initialOptions:o[s],visibleItemCount:e.visibleItemCount,onChange:()=>(e=>{"cascade"===p.value&&v(e),"plain"===p.value?t("change",_(0),E(0)):t("change",T(),e)})(n)},{option:r.option})})),N=e=>{if(o.value){const t={height:`${d.value}px`},r={backgroundSize:`100% ${(e-d.value)/2}px`};return[C.createVNode("div",{class:ar("mask"),style:r},null),C.createVNode("div",{class:["van-hairline-unset--top-bottom",ar("frame")],style:t},null)]}},B=()=>{const t=d.value*+e.visibleItemCount,r={height:`${t}px`};return C.createVNode("div",{class:ar("columns"),style:r,onTouchmove:pe},[O(),N(t)])};return C.watch((()=>e.columns),(()=>{const{columns:t}=e;"plain"===p.value?n.value=[{[s]:t}]:"cascade"===p.value?(()=>{var t;const r=[];let o={[a]:e.columns};for(;o&&o[a];){const n=o[a];let i=null!=(t=o.defaultIndex)?t:+e.defaultIndex;for(;n[i]&&n[i].disabled;){if(!(i<n.length-1)){i=0;break}i++}r.push({[s]:o[a],className:o.className,defaultIndex:i}),o=n[i]}n.value=r})():n.value=t,o.value=n.value.some((e=>e[s]&&0!==e[s].length))}),{immediate:!0}),Qe({confirm:x,getValues:T,setValues:e=>{e.forEach(((e,t)=>{m(t,e)}))},getIndexes:f,setIndexes:e=>{e.forEach(((e,t)=>{y(t,e)}))},getColumnIndex:E,setColumnIndex:y,getColumnValue:_,setColumnValue:m,getColumnValues:e=>{const t=g(e);if(t)return t.state.options},setColumnValues:h}),()=>{var t,o;return C.createVNode("div",{class:ar()},["top"===e.toolbarPosition?w():null,e.loading?C.createVNode(Tt,{class:ar("loading")},null):null,null==(t=r["columns-top"])?void 0:t.call(r),B(),null==(o=r["columns-bottom"])?void 0:o.call(r),"bottom"===e.toolbarPosition?w():null])}}}));const[pr,fr]=Ve("area"),hr="000000",vr=["title","cancel","confirm","toolbar","columns-top","columns-bottom"],gr=["title","loading","readonly","itemHeight","swipeDuration","visibleItemCount","cancelButtonText","confirmButtonText"],_r=l({},lr,{value:String,columnsNum:y(3),columnsPlaceholder:m(),areaList:{type:Object,default:()=>({})},isOverseaCode:{type:Function,default:e=>"9"===e[0]}});const mr=qe(C.defineComponent({name:pr,props:_r,emits:["change","confirm","cancel"],setup(e,{emit:t,slots:r}){const o=b.ref(),n=b.reactive({code:e.value,columns:[{values:[]},{values:[]},{values:[]}]}),i=C.computed((()=>{const{areaList:t}=e;return{province:t.province_list||{},city:t.city_list||{},county:t.county_list||{}}})),s=C.computed((()=>{const{columnsPlaceholder:t}=e;return{province:t[0]||"",city:t[1]||"",county:t[2]||""}})),a=(t,r)=>{let o=[];if("province"!==t&&!r)return o;const n=i.value[t];if(o=Object.keys(n).map((e=>({code:e,name:n[e]}))),r&&("city"===t&&e.isOverseaCode(r)&&(r="9"),o=o.filter((e=>0===e.code.indexOf(r)))),s.value[t]&&o.length){let e="";"city"===t?e=hr.slice(2,4):"county"===t&&(e=hr.slice(4,6)),o.unshift({code:r+e,name:s.value[t]})}return o},c=(t,r)=>{let o=r.length;"province"===t&&(o=e.isOverseaCode(r)?1:2),"city"===t&&(o=4),r=r.slice(0,o);const n=a(t,o>2?r.slice(0,o-2):"");for(let e=0;e<n.length;e++)if(n[e].code.slice(0,o)===r)return e;return 0},l=()=>{const t=o.value;if(!t)return;let r=n.code||(()=>{if(e.columnsPlaceholder.length)return hr;const{county:t,city:r}=i.value,o=Object.keys(t);if(o[0])return o[0];const n=Object.keys(r);return n[0]?n[0]:""})();const s=a("province"),l=a("city",r.slice(0,2));t.setColumnValues(0,s),t.setColumnValues(1,l),l.length&&"00"===r.slice(2,4)&&!e.isOverseaCode(r)&&([{code:r}]=l),t.setColumnValues(2,a("county",r.slice(0,4))),t.setIndexes([c("province",r),c("city",r),c("county",r)])},u=t=>t.map(((t,r)=>(t&&((t=er(t)).code&&t.name!==e.columnsPlaceholder[r]||(t.code="",t.name="")),t))),d=()=>{if(o.value){const e=o.value.getValues().filter(Boolean);return u(e)}return[]},f=(e,r)=>{if(n.code=e[r].code,l(),o.value){const e=u(o.value.getValues());t("change",e,r)}},h=(e,r)=>{l(),t("confirm",u(e),r)},v=(...e)=>t("cancel",...e);return C.onMounted(l),C.watch((()=>e.value),(e=>{n.code=e,l()})),C.watch((()=>e.areaList),l,{deep:!0}),C.watch((()=>e.columnsNum),(()=>{C.nextTick(l)})),Qe({reset:(e="")=>{n.code=e,l()},getArea:()=>{const t=d(),r={code:"",country:"",province:"",city:"",county:""};if(!t.length)return r;const o=t.map((e=>e.name)),n=t.filter((e=>e.code));return r.code=n.length?n[n.length-1].code:"",e.isOverseaCode(r.code)?(r.country=o[1]||"",r.province=o[2]||""):(r.province=o[0]||"",r.city=o[1]||"",r.county=o[2]||""),r},getValues:d}),()=>{const t=n.columns.slice(0,+e.columnsNum);return C.createVNode(dr,C.mergeProps({ref:o,class:fr(),columns:t,columnsFieldNames:{text:"name"},onChange:f,onCancel:v,onConfirm:h},p(e,gr)),p(r,vr))}}}));s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");const[Er,yr]=Ve("cell"),Tr={icon:String,size:String,title:v,value:v,label:v,center:Boolean,isLink:Boolean,border:g,required:Boolean,iconPrefix:String,valueClass:h,labelClass:h,titleClass:h,titleStyle:null,arrowDirection:String,clickable:{type:Boolean,default:null}},br=l({},Tr,et);const Cr=qe(C.defineComponent({name:Er,props:br,setup(e,{slots:t}){const r=rt(),o=()=>{if(t.label||Z(e.label))return C.createVNode("div",{class:[yr("label"),e.labelClass]},[t.label?t.label():e.label])},n=()=>{if(t.title||Z(e.title))return C.createVNode("div",{class:[yr("title"),e.titleClass],style:e.titleStyle},[t.title?t.title():C.createVNode("span",null,[e.title]),o()])},i=()=>{const r=t.value||t.default;if(r||Z(e.value)){const o=t.title||Z(e.title);return C.createVNode("div",{class:[yr("value",{alone:!o}),e.valueClass]},[r?r():C.createVNode("span",null,[e.value])])}},s=()=>{if(t["right-icon"])return t["right-icon"]();if(e.isLink){const t=e.arrowDirection?`arrow-${e.arrowDirection}`:"arrow";return C.createVNode(vt,{name:t,class:yr("right-icon")},null)}};return()=>{var o,a;const{size:c,center:l,border:u,isLink:d,required:p}=e,f=null!=(o=e.clickable)?o:d,h={center:l,required:p,clickable:f,borderless:!u};return c&&(h[c]=!!c),C.createVNode("div",{class:yr(h),role:f?"button":void 0,tabindex:f?0:void 0,onClick:r},[t.icon?t.icon():e.icon?C.createVNode(vt,{name:e.icon,class:yr("left-icon"),classPrefix:e.iconPrefix},null):void 0,n(),i(),s(),null==(a=t.extra)?void 0:a.call(t)])}}}));s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");const[Ir,xr]=Ve("form"),Ar={colon:Boolean,disabled:Boolean,readonly:Boolean,showError:Boolean,labelWidth:v,labelAlign:String,inputAlign:String,scrollToError:Boolean,validateFirst:Boolean,submitOnEnter:g,showErrorMessage:g,errorMessageAlign:String,validateTrigger:{type:[String,Array],default:"onBlur"}};const Sr=qe(C.defineComponent({name:Ir,props:Ar,emits:["submit","failed"],setup(e,{emit:t,slots:r}){const{children:o,linkChildren:n}=R(Ge),i=e=>e?o.filter((t=>e.includes(t.name))):o,s=t=>{return"string"==typeof t?(e=>{const t=o.find((t=>t.name===e));return t?new Promise(((e,r)=>{t.validate().then((t=>{t?r(t):e()}))})):Promise.reject()})(t):e.validateFirst?(r=t,new Promise(((e,t)=>{const o=[];i(r).reduce(((e,t)=>e.then((()=>{if(!o.length)return t.validate().then((e=>{e&&o.push(e)}))}))),Promise.resolve()).then((()=>{o.length?t(o):e()}))}))):(e=>new Promise(((t,r)=>{const o=i(e);Promise.all(o.map((e=>e.validate()))).then((e=>{(e=e.filter(Boolean)).length?r(e):t()}))})))(t);var r},a=(e,t)=>{o.some((r=>r.name===e&&(r.$el.scrollIntoView(t),!0)))},c=()=>o.reduce(((e,t)=>(e[t.name]=t.formValue.value,e)),{}),l=()=>{const r=c();s().then((()=>t("submit",r))).catch((o=>{t("failed",{values:r,errors:o}),e.scrollToError&&o[0].name&&a(o[0].name)}))},u=e=>{pe(e),l()};return n({props:e}),Qe({submit:l,validate:s,getValues:c,scrollToField:a,resetValidation:e=>{"string"==typeof e&&(e=[e]);i(e).forEach((e=>{e.resetValidation()}))}}),()=>{var e;return C.createVNode("form",{class:xr(),onSubmit:u},[null==(e=r.default)?void 0:e.call(r)])}}}));s("bgCzB");C=s("d4ofg"),b=s("liXpq");s("bgCzB");C=s("d4ofg"),b=s("liXpq");function Dr(e,t){return(!t.required||!function(e){return Array.isArray(e)?!e.length:0!==e&&!e}(e))&&!(t.pattern&&!t.pattern.test(String(e)))}function wr(e,t){const{message:r}=t;return J(r)?r(e,t):r||""}function Or({target:e}){e.composing=!0}function Nr({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}function Rr(e){return[...e].length}s("bgCzB");C=s("d4ofg");let Br=0;function Pr(){const e=C.getCurrentInstance(),{name:t="unknown"}=(null==e?void 0:e.type)||{};return`${t}-${++Br}`}const[Lr,Ur]=Ve("field"),Vr={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:v,formatter:Function,clearIcon:T("clear"),modelValue:y(""),inputAlign:String,placeholder:String,autocomplete:String,errorMessage:String,enterkeyhint:String,clearTrigger:T("focus"),formatTrigger:T("onChange"),error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null}},kr=l({},Tr,Vr,{rows:v,type:T("text"),rules:Array,autosize:[Boolean,Object],labelWidth:v,labelClass:h,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});const Mr=qe(C.defineComponent({name:Lr,props:kr,emits:["blur","focus","clear","keypress","click-input","click-left-icon","click-right-icon","update:modelValue"],setup(e,{emit:t,slots:r}){const o=Pr(),n=b.reactive({focused:!1,validateFailed:!1,validateMessage:""}),i=b.ref(),s=b.ref(),{parent:a}=O(Ge),c=()=>{var t;return String(null!=(t=e.modelValue)?t:"")},l=t=>Z(e[t])?e[t]:a&&Z(a.props[t])?a.props[t]:void 0,u=C.computed((()=>{const t=l("readonly");if(e.clearable&&!t){const t=""!==c(),r="always"===e.clearTrigger||"focus"===e.clearTrigger&&n.focused;return t&&r}return!1})),d=C.computed((()=>s.value&&r.input?s.value():e.modelValue)),p=e=>e.reduce(((e,t)=>e.then((()=>{if(n.validateFailed)return;let{value:e}=d;return t.formatter&&(e=t.formatter(e,t)),Dr(e,t)?t.validator?function(e,t){return new Promise((r=>{const o=t.validator(e,t);ee(o)?o.then(r):r(o)}))}(e,t).then((r=>{r&&"string"==typeof r?(n.validateFailed=!0,n.validateMessage=r):!1===r&&(n.validateFailed=!0,n.validateMessage=wr(e,t))})):void 0:(n.validateFailed=!0,void(n.validateMessage=wr(e,t)))}))),Promise.resolve()),h=()=>{n.validateFailed&&(n.validateFailed=!1,n.validateMessage="")},v=(t=e.rules)=>new Promise((r=>{h(),t?p(t).then((()=>{n.validateFailed?r({name:e.name,message:n.validateMessage}):r()})):r()})),g=t=>{if(a&&e.rules){const{validateTrigger:r}=a.props,o=f(r).includes(t),n=e.rules.filter((e=>e.trigger?f(e.trigger).includes(t):o));n.length&&v(n)}},_=(r,o="onChange")=>{if(r=(t=>{const{maxlength:r}=e;if(Z(r)&&Rr(t)>r){const e=c();return e&&Rr(e)===+r?e:function(e,t){return[...e].slice(0,t).join("")}(t,+r)}return t})(r),"number"===e.type||"digit"===e.type){const t="number"===e.type;r=Se(r,t,t)}e.formatter&&o===e.formatTrigger&&(r=e.formatter(r)),i.value&&i.value.value!==r&&(i.value.value=r),r!==e.modelValue&&t("update:modelValue",r)},m=e=>{e.target.composing||_(e.target.value)},E=()=>{var e;return null==(e=i.value)?void 0:e.blur()},y=()=>{const t=i.value;"textarea"===e.type&&e.autosize&&t&&function(e,t){const r=se();e.style.height="auto";let o=e.scrollHeight;if(Q(t)){const{maxHeight:e,minHeight:r}=t;void 0!==e&&(o=Math.min(o,e)),void 0!==r&&(o=Math.max(o,r))}o&&(e.style.height=`${o}px`,ae(r))}(t,e.autosize)},T=e=>{n.focused=!0,t("focus",e),C.nextTick(y),l("readonly")&&E()},I=e=>{l("readonly")||(n.focused=!1,_(c(),"onBlur"),t("blur",e),g("onBlur"),C.nextTick(y),ue())},x=e=>t("click-input",e),A=e=>t("click-left-icon",e),S=e=>t("click-right-icon",e),D=e=>{pe(e),t("update:modelValue",""),t("clear",e)},w=C.computed((()=>"boolean"==typeof e.error?e.error:!!(a&&a.props.showError&&n.validateFailed)||void 0)),N=C.computed((()=>{const e=l("labelWidth");if(e)return{width:ge(e)}})),R=r=>{if(13===r.keyCode){a&&a.props.submitOnEnter||"textarea"===e.type||pe(r),"search"===e.type&&E()}t("keypress",r)},B=()=>e.id||`${o}-input`,P=()=>{const t=Ur("control",[l("inputAlign"),{error:w.value,custom:!!r.input,"min-height":"textarea"===e.type&&!e.autosize}]);if(r.input)return C.createVNode("div",{class:t,onClick:x},[r.input()]);const n={id:B(),ref:i,name:e.name,rows:void 0!==e.rows?+e.rows:void 0,class:t,value:e.modelValue,disabled:l("disabled"),readonly:l("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,enterkeyhint:e.enterkeyhint,"aria-labelledby":e.label?`${o}-label`:void 0,onBlur:I,onFocus:T,onInput:m,onClick:x,onChange:Nr,onKeypress:R,onCompositionend:Nr,onCompositionstart:Or};return"textarea"===e.type?C.createVNode("textarea",n,null):C.createVNode("input",C.mergeProps("number"===(s=e.type)?{type:"text",inputmode:"decimal"}:"digit"===s?{type:"tel",inputmode:"numeric"}:{type:s},n),null);var s},L=()=>{const t=r["right-icon"];if(e.rightIcon||t)return C.createVNode("div",{class:Ur("right-icon"),onClick:S},[t?t():C.createVNode(vt,{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},U=()=>{if(e.showWordLimit&&e.maxlength){const t=Rr(c());return C.createVNode("div",{class:Ur("word-limit")},[C.createVNode("span",{class:Ur("word-num")},[t]),C.createTextVNode("/"),e.maxlength])}},V=()=>{if(a&&!1===a.props.showErrorMessage)return;const t=e.errorMessage||n.validateMessage;if(t){const e=r["error-message"],o=l("errorMessageAlign");return C.createVNode("div",{class:Ur("error-message",o)},[e?e({message:t}):t])}},k=()=>[C.createVNode("div",{class:Ur("body")},[P(),u.value&&C.createVNode(vt,{name:e.clearIcon,class:Ur("clear"),onTouchstart:D},null),L(),r.button&&C.createVNode("div",{class:Ur("button")},[r.button()])]),U(),V()];return Qe({blur:E,focus:()=>{var e;return null==(e=i.value)?void 0:e.focus()},validate:v,formValue:d,resetValidation:h}),C.provide(X,{customValue:s,resetValidation:h,validateWithTrigger:g}),C.watch((()=>e.modelValue),(()=>{_(c()),h(),g("onChange"),C.nextTick(y)})),C.onMounted((()=>{_(c(),e.formatTrigger),C.nextTick(y)})),()=>{const t=l("disabled"),n=l("labelAlign"),i=(()=>{const t=l("colon")?":":"";return r.label?[r.label(),t]:e.label?C.createVNode("label",{id:`${o}-label`,for:B()},[e.label+t]):void 0})(),s=(()=>{const t=r["left-icon"];if(e.leftIcon||t)return C.createVNode("div",{class:Ur("left-icon"),onClick:A},[t?t():C.createVNode(vt,{name:e.leftIcon,classPrefix:e.iconPrefix},null)])})();return C.createVNode(Cr,{size:e.size,icon:e.leftIcon,class:Ur({error:w.value,disabled:t,[`label-${n}`]:n}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:N.value,valueClass:Ur("value"),titleClass:[Ur("label",[n,{required:e.required}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:s?()=>s:null,title:i?()=>i:null,value:k,extra:r.extra})}}}));s("bgCzB");b=s("liXpq"),C=s("d4ofg");s("bgCzB");b=s("liXpq"),C=s("d4ofg");s("bgCzB");b=s("liXpq"),a=s("7sCZa");function Fr(){const e=b.reactive({show:!1}),t=t=>{e.show=t},r=r=>{l(e,r,{transitionAppear:!0}),t(!0)},o=()=>t(!1);return Qe({open:r,close:o,toggle:t}),{open:r,close:o,state:e,toggle:t}}function Hr(e){const t=a.createApp(e),r=document.createElement("div");return document.body.appendChild(r),{instance:t.mount(r),unmount(){t.unmount(),document.body.removeChild(r)}}}s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");let Wr=0;const[zr,jr]=Ve("toast"),Gr=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay"],Yr={icon:String,show:Boolean,type:T("text"),overlay:Boolean,message:v,iconSize:v,duration:E(2e3),position:T("middle"),teleport:[String,Object],className:h,iconPrefix:String,transition:T("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:h,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean};var qr=C.defineComponent({name:zr,props:Yr,emits:["update:show"],setup(e,{emit:t}){let r,o=!1;const n=()=>{const t=e.show&&e.forbidClick;o!==t&&(o=t,o?(Wr||document.body.classList.add("van-toast--unclickable"),Wr++):Wr&&(Wr--,Wr||document.body.classList.remove("van-toast--unclickable")))},i=e=>t("update:show",e),s=()=>{e.closeOnClick&&i(!1)},a=()=>clearTimeout(r),c=()=>{const{icon:t,type:r,iconSize:o,iconPrefix:n,loadingType:i}=e;return t||"success"===r||"fail"===r?C.createVNode(vt,{name:t||r,size:o,class:jr("icon"),classPrefix:n},null):"loading"===r?C.createVNode(Tt,{class:jr("loading"),size:o,type:i},null):void 0},l=()=>{const{type:t,message:r}=e;if(Z(r)&&""!==r)return"html"===t?C.createVNode("div",{key:0,class:jr("text"),innerHTML:String(r)},null):C.createVNode("div",{class:jr("text")},[r])};return C.watch((()=>[e.show,e.forbidClick]),n),C.watch((()=>[e.show,e.type,e.message,e.duration]),(()=>{a(),e.show&&e.duration>0&&(r=setTimeout((()=>{i(!1)}),e.duration))})),C.onMounted(n),C.onUnmounted(n),()=>C.createVNode(Xt,C.mergeProps({class:[jr([e.position,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:s,onClosed:a,"onUpdate:show":i},p(e,Gr)),{default:()=>[c(),l()]})}});const $r={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let Xr=[],Kr=!1,Zr=l({},$r);const Jr=new Map;function Qr(e){return Q(e)?e:{message:e}}function eo(){if(!Xr.length||Kr){const e=function(){const{instance:e,unmount:t}=Hr({setup(){const r=b.ref(""),{open:o,state:n,close:i,toggle:s}=Fr(),a=()=>{Kr&&(Xr=Xr.filter((t=>t!==e)),t())};return C.watch(r,(e=>{n.message=e})),C.getCurrentInstance().render=()=>{const e={onClosed:a,"onUpdate:show":s};return C.createVNode(qr,C.mergeProps(n,e),null)},{open:o,clear:i,message:r}}});return e}();Xr.push(e)}return Xr[Xr.length-1]}function to(e={}){if(!u)return{};const t=eo(),r=Qr(e);return t.open(l({},Zr,Jr.get(r.type||Zr.type),r)),t}const ro=e=>t=>to(l({type:e},Qr(t)));to.loading=ro("loading"),to.success=ro("success"),to.fail=ro("fail"),to.clear=e=>{var t;Xr.length&&(e?(Xr.forEach((e=>{e.clear()})),Xr=[]):Kr?null==(t=Xr.shift())||t.clear():Xr[0].clear())},to.setDefaultOptions=function(e,t){"string"==typeof e?Jr.set(e,t):l(Zr,e)},to.resetDefaultOptions=e=>{"string"==typeof e?Jr.delete(e):(Zr=l({},$r),Jr.clear())},to.allowMultiple=(e=!0)=>{Kr=e},to.install=e=>{e.use(qe(qr)),e.config.globalProperties.$toast=to};s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");const[oo,no]=Ve("switch"),io={size:v,loading:Boolean,disabled:Boolean,modelValue:h,activeColor:String,inactiveColor:String,activeValue:{type:h,default:!0},inactiveValue:{type:h,default:!1}};const so=qe(C.defineComponent({name:oo,props:io,emits:["change","update:modelValue"],setup(e,{emit:t}){const r=()=>e.modelValue===e.activeValue,o=()=>{if(!e.disabled&&!e.loading){const o=r()?e.inactiveValue:e.activeValue;t("update:modelValue",o),t("change",o)}},n=()=>{if(e.loading){const t=r()?e.activeColor:e.inactiveColor;return C.createVNode(Tt,{class:no("loading"),color:t},null)}};return K((()=>e.modelValue)),()=>{const{size:t,loading:i,disabled:s,activeColor:a,inactiveColor:c}=e,l=r(),u={fontSize:ge(t),backgroundColor:l?a:c};return C.createVNode("div",{role:"switch",class:no({on:l,loading:i,disabled:s}),style:u,tabindex:s?void 0:0,"aria-checked":l,onClick:o},[C.createVNode("div",{class:no("node")},[n()])])}}}));s("bgCzB");C=s("d4ofg"),b=s("liXpq");s("bgCzB");C=s("d4ofg"),b=s("liXpq");const[ao,co]=Ve("address-edit-detail"),lo=Ve("address-edit")[2];var uo=C.defineComponent({name:ao,props:{show:Boolean,rows:v,value:String,rules:Array,focused:Boolean,maxlength:v,searchResult:Array,showSearchResult:Boolean},emits:["blur","focus","input","select-search"],setup(e,{emit:t}){const r=b.ref(),o=()=>e.focused&&e.searchResult&&e.showSearchResult,n=()=>{if(!o())return;const{searchResult:r}=e;return r.map((r=>C.createVNode(Cr,{clickable:!0,key:r.name+r.address,icon:"location-o",label:r.address,class:co("search-item"),border:!1,onClick:()=>(e=>{t("select-search",e),t("input",`${e.address||""} ${e.name||""}`.trim())})(r)},{title:()=>(t=>{if(t.name){const r=t.name.replace(e.value,`<span class=${co("keyword")}>${e.value}</span>`);return C.createVNode("div",{innerHTML:r},null)}})(r)})))},i=e=>t("blur",e),s=e=>t("focus",e),a=e=>t("input",e);return()=>{if(e.show)return C.createVNode(C.Fragment,null,[C.createVNode(Mr,{autosize:!0,clearable:!0,ref:r,class:co(),rows:e.rows,type:"textarea",rules:e.rules,label:lo("addressDetail"),border:!o(),maxlength:e.maxlength,modelValue:e.value,placeholder:lo("addressDetail"),onBlur:i,onFocus:s,"onUpdate:modelValue":a},null),n()])}}});const[po,fo,ho]=Ve("address-edit"),vo={name:"",tel:"",city:"",county:"",country:"",province:"",areaCode:"",isDefault:!1,postalCode:"",addressDetail:""},go={areaList:Object,isSaving:Boolean,isDeleting:Boolean,validator:Function,showArea:g,showDetail:g,showDelete:Boolean,showPostal:Boolean,disableArea:Boolean,searchResult:Array,telMaxlength:v,showSetDefault:Boolean,saveButtonText:String,areaPlaceholder:String,deleteButtonText:String,showSearchResult:Boolean,detailRows:y(1),detailMaxlength:y(200),areaColumnsPlaceholder:m(),addressInfo:{type:Object,default:()=>l({},vo)},telValidator:{type:Function,default:re},postalValidator:{type:Function,default:e=>/^\d{6}$/.test(e)}};qe(C.defineComponent({name:po,props:go,emits:["save","focus","delete","click-area","change-area","change-detail","select-search","change-default"],setup(e,{emit:t,slots:r}){const o=b.ref(),n=b.reactive({}),i=b.ref(!1),s=b.ref(!1),c=C.computed((()=>Q(e.areaList)&&Object.keys(e.areaList).length)),u=C.computed((()=>{const{country:e,province:t,city:r,county:o,areaCode:i}=n;if(i){const n=[e,t,r,o];return t&&t===r&&n.splice(1,1),n.filter(Boolean).join("/")}return""})),d=C.computed((()=>{var t;return(null==(t=e.searchResult)?void 0:t.length)&&s.value})),p=()=>{if(o.value){const e=o.value.getArea();e.areaCode=e.code,delete e.code,l(n,e)}},f=e=>{s.value="addressDetail"===e,t("focus",e)},h=C.computed((()=>{const{validator:t,telValidator:r,postalValidator:o}=e,n=(e,r)=>({validator:o=>{if(t){const r=t(e,o);if(r)return r}return!!o||r}});return{name:[n("name",ho("nameEmpty"))],tel:[n("tel",ho("telInvalid")),{validator:r,message:ho("telInvalid")}],areaCode:[n("areaCode",ho("areaEmpty"))],addressDetail:[n("addressDetail",ho("addressEmpty"))],postalCode:[n("addressDetail",ho("postalEmpty")),{validator:o,message:ho("postalEmpty")}]}})),v=()=>t("save",n),g=e=>{n.addressDetail=e,t("change-detail",e)},_=e=>{(e=e.filter(Boolean)).some((e=>!e.code))?to(ho("areaEmpty")):(i.value=!1,p(),t("change-area",e))},m=()=>t("delete",n),E=e=>{n.areaCode=e||"",e&&C.nextTick(p)},y=()=>{setTimeout((()=>{s.value=!1}))},T=()=>{if(e.showSetDefault){const e={"right-icon":()=>C.createVNode(so,{modelValue:n.isDefault,"onUpdate:modelValue":e=>n.isDefault=e,size:"24",onChange:e=>t("change-default",e)},null)};return C.withDirectives(C.createVNode(Cr,{center:!0,title:ho("defaultAddress"),class:fo("default")},e),[[a.vShow,!d.value]])}};return Qe({getArea:()=>{var e;return(null==(e=o.value)?void 0:e.getValues())||[]},setAreaCode:E,setAddressDetail:e=>{n.addressDetail=e}}),C.watch((()=>e.areaList),(()=>E(n.areaCode))),C.watch((()=>e.addressInfo),(e=>{l(n,vo,e),E(e.areaCode)}),{deep:!0,immediate:!0}),()=>{const{disableArea:l}=e;return C.createVNode(Sr,{class:fo(),onSubmit:v},{default:()=>{var p;return[C.createVNode("div",{class:fo("fields")},[C.createVNode(Mr,{modelValue:n.name,"onUpdate:modelValue":e=>n.name=e,clearable:!0,label:ho("name"),rules:h.value.name,placeholder:ho("name"),onFocus:()=>f("name")},null),C.createVNode(Mr,{modelValue:n.tel,"onUpdate:modelValue":e=>n.tel=e,clearable:!0,type:"tel",label:ho("tel"),rules:h.value.tel,maxlength:e.telMaxlength,placeholder:ho("tel"),onFocus:()=>f("tel")},null),C.withDirectives(C.createVNode(Mr,{readonly:!0,label:ho("area"),"is-link":!l,modelValue:u.value,rules:h.value.areaCode,placeholder:e.areaPlaceholder||ho("area"),onFocus:()=>f("areaCode"),onClick:()=>{t("click-area"),i.value=!l}},null),[[a.vShow,e.showArea]]),C.createVNode(uo,{show:e.showDetail,rows:e.detailRows,rules:h.value.addressDetail,value:n.addressDetail,focused:s.value,maxlength:e.detailMaxlength,searchResult:e.searchResult,showSearchResult:e.showSearchResult,onBlur:y,onFocus:()=>f("addressDetail"),onInput:g,"onSelect-search":e=>t("select-search",e)},null),e.showPostal&&C.withDirectives(C.createVNode(Mr,{modelValue:n.postalCode,"onUpdate:modelValue":e=>n.postalCode=e,type:"tel",rules:h.value.postalCode,label:ho("postal"),maxlength:"6",placeholder:ho("postal"),onFocus:()=>f("postalCode")},null),[[a.vShow,!d.value]]),null==(p=r.default)?void 0:p.call(r)]),T(),C.withDirectives(C.createVNode("div",{class:fo("buttons")},[C.createVNode(xt,{block:!0,round:!0,type:"danger",text:e.saveButtonText||ho("save"),class:fo("button"),loading:e.isSaving,nativeType:"submit"},null),e.showDelete&&C.createVNode(xt,{block:!0,round:!0,class:fo("button"),loading:e.isDeleting,text:e.deleteButtonText||ho("delete"),onClick:m},null)]),[[a.vShow,!d.value]]),C.createVNode(Xt,{show:i.value,"onUpdate:show":e=>i.value=e,round:!0,teleport:"body",position:"bottom",lazyRender:!1},{default:()=>[C.createVNode(mr,{ref:o,value:n.areaCode,loading:!c.value,areaList:e.areaList,columnsPlaceholder:e.areaColumnsPlaceholder,onConfirm:_,onCancel:()=>{i.value=!1}},null)]})]}})}}}));s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");const[_o,mo]=Ve("radio-group"),Eo={disabled:Boolean,iconSize:v,direction:String,modelValue:h,checkedColor:String},yo=Symbol(_o);const To=qe(C.defineComponent({name:_o,props:Eo,emits:["change","update:modelValue"],setup(e,{emit:t,slots:r}){const{linkChildren:o}=R(yo);return C.watch((()=>e.modelValue),(e=>t("change",e))),o({props:e,updateValue:e=>t("update:modelValue",e)}),K((()=>e.modelValue)),()=>{var t;return C.createVNode("div",{class:mo([e.direction]),role:"radiogroup"},[null==(t=r.default)?void 0:t.call(r)])}}}));s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg"),a=s("7sCZa");s("bgCzB");C=s("d4ofg"),a=s("7sCZa");const[bo,Co]=Ve("tag"),Io={size:String,mark:Boolean,show:g,type:T("default"),color:String,plain:Boolean,round:Boolean,textColor:String,closeable:Boolean};const xo=qe(C.defineComponent({name:bo,props:Io,emits:["close"],setup(e,{slots:t,emit:r}){const o=e=>{e.stopPropagation(),r("close",e)},n=()=>{var r;const{type:n,mark:i,plain:s,round:a,size:c,closeable:l}=e,u={mark:i,plain:s,round:a};c&&(u[c]=c);const d=l&&C.createVNode(vt,{name:"cross",class:[Co("close"),je],onClick:o},null);return C.createVNode("span",{style:e.plain?{color:e.textColor||e.color,borderColor:e.color}:{color:e.textColor,background:e.color},class:Co([u,n])},[null==(r=t.default)?void 0:r.call(t),d])};return()=>C.createVNode(a.Transition,{name:e.closeable?"van-fade":void 0},{default:()=>[e.show?n():null]})}}));s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg"),b=s("liXpq");s("bgCzB");C=s("d4ofg"),b=s("liXpq");const Ao={name:h,shape:T("round"),disabled:Boolean,iconSize:v,modelValue:h,checkedColor:String,labelPosition:String,labelDisabled:Boolean};var So=C.defineComponent({props:l({},Ao,{bem:_(Function),role:String,parent:Object,checked:Boolean,bindGroup:g}),emits:["click","toggle"],setup(e,{emit:t,slots:r}){const o=b.ref(),n=t=>{if(e.parent&&e.bindGroup)return e.parent.props[t]},i=C.computed((()=>n("disabled")||e.disabled)),s=C.computed((()=>n("direction"))),a=C.computed((()=>{const t=e.checkedColor||n("checkedColor");if(t&&e.checked&&!i.value)return{borderColor:t,backgroundColor:t}})),c=r=>{const{target:n}=r,s=o.value,a=s===n||(null==s?void 0:s.contains(n));i.value||!a&&e.labelDisabled||t("toggle"),t("click",r)},l=()=>{const{bem:t,shape:s,checked:c}=e,l=e.iconSize||n("iconSize");return C.createVNode("div",{ref:o,class:t("icon",[s,{disabled:i.value,checked:c}]),style:{fontSize:ge(l)}},[r.icon?r.icon({checked:c,disabled:i.value}):C.createVNode(vt,{name:"success",style:a.value},null)])},u=()=>{if(r.default)return C.createVNode("span",{class:e.bem("label",[e.labelPosition,{disabled:i.value}])},[r.default()])};return()=>{const t="left"===e.labelPosition?[u(),l()]:[l(),u()];return C.createVNode("div",{role:e.role,class:e.bem([{disabled:i.value,"label-disabled":e.labelDisabled},s.value]),tabindex:i.value?void 0:0,"aria-checked":e.checked,onClick:c},[t])}}});const[Do,wo]=Ve("radio");const Oo=qe(C.defineComponent({name:Do,props:Ao,emits:["update:modelValue"],setup(e,{emit:t,slots:r}){const{parent:o}=O(yo),n=()=>{o?o.updateValue(e.name):t("update:modelValue",e.name)};return()=>C.createVNode(So,C.mergeProps({bem:wo,role:"radio",parent:o,checked:(o?o.props.modelValue:e.modelValue)===e.name,onToggle:n},e),p(r,["default","icon"]))}}));const[No,Ro]=Ve("address-item");var Bo=C.defineComponent({name:No,props:{address:_(Object),disabled:Boolean,switchable:Boolean,defaultTagText:String},emits:["edit","click","select"],setup(e,{slots:t,emit:r}){const o=()=>{e.switchable&&r("select"),r("click")},n=()=>C.createVNode(vt,{name:"edit",class:Ro("edit"),onClick:e=>{e.stopPropagation(),r("edit"),r("click")}},null),i=()=>{const{address:r,disabled:o,switchable:n}=e,i=[C.createVNode("div",{class:Ro("name")},[`${r.name} ${r.tel}`,t.tag?t.tag(e.address):e.address.isDefault&&e.defaultTagText?C.createVNode(xo,{type:"danger",round:!0,class:Ro("tag")},{default:()=>[e.defaultTagText]}):void 0]),C.createVNode("div",{class:Ro("address")},[r.address])];return n&&!o?C.createVNode(Oo,{name:r.id,iconSize:18},{default:()=>[i]}):i};return()=>{var r;const{disabled:s}=e;return C.createVNode("div",{class:Ro({disabled:s}),onClick:o},[C.createVNode(Cr,{border:!1,valueClass:Ro("value")},{value:i,"right-icon":n}),null==(r=t.bottom)?void 0:r.call(t,l({},e.address,{disabled:s}))])}}});const[Po,Lo,Uo]=Ve("address-list"),Vo={list:m(),modelValue:v,switchable:g,disabledText:String,disabledList:m(),addButtonText:String,defaultTagText:String};qe(C.defineComponent({name:Po,props:Vo,emits:["add","edit","select","click-item","edit-disabled","select-disabled","update:modelValue"],setup(e,{slots:t,emit:r}){const o=(o,n)=>{if(o)return o.map(((o,i)=>((o,n,i)=>C.createVNode(Bo,{key:o.id,address:o,disabled:i,switchable:e.switchable,defaultTagText:e.defaultTagText,onEdit:()=>r(i?"edit-disabled":"edit",o,n),onClick:()=>r("click-item",o,n),onSelect:()=>{r(i?"select-disabled":"select",o,n),i||r("update:modelValue",o.id)}},{bottom:t["item-bottom"],tag:t.tag}))(o,i,n)))};return()=>{var n,i;const s=o(e.list),a=o(e.disabledList,!0),c=e.disabledText&&C.createVNode("div",{class:Lo("disabled-text")},[e.disabledText]);return C.createVNode("div",{class:Lo()},[null==(n=t.top)?void 0:n.call(t),C.createVNode(To,{modelValue:e.modelValue},{default:()=>[s]}),c,a,null==(i=t.default)?void 0:i.call(t),C.createVNode("div",{class:[Lo("bottom"),"van-safe-area-bottom"]},[C.createVNode(xt,{round:!0,block:!0,type:"danger",text:e.addButtonText||Uo("add"),class:Lo("add"),onClick:()=>r("add")},null)])])}}}));s("bgCzB");C=s("d4ofg"),b=s("liXpq");s("bgCzB");C=s("d4ofg"),b=s("liXpq");const[ko,Mo,Fo]=Ve("calendar");function Ho(e,t){const r=e.getFullYear(),o=t.getFullYear();if(r===o){const r=e.getMonth(),o=t.getMonth();return r===o?0:r>o?1:-1}return r>o?1:-1}function Wo(e,t){const r=Ho(e,t);if(0===r){const r=e.getDate(),o=t.getDate();return r===o?0:r>o?1:-1}return r}const zo=e=>new Date(e),jo=e=>Array.isArray(e)?e.map(zo):zo(e);function Go(e,t){const r=zo(e);return r.setDate(r.getDate()+t),r}const Yo=e=>Go(e,-1),qo=e=>Go(e,1),$o=()=>{const e=new Date;return e.setHours(0,0,0,0),e};s("bgCzB");b=s("liXpq"),C=s("d4ofg");function Xo(){const e=b.ref([]),t=[];C.onBeforeUpdate((()=>{e.value=[]}));return[e,r=>(t[r]||(t[r]=t=>{e.value[r]=t}),t[r])]}s("bgCzB");C=s("d4ofg"),b=s("liXpq");s("bgCzB");C=s("d4ofg"),b=s("liXpq");const Ko=l({},lr,{filter:Function,columnsOrder:Array,formatter:{type:Function,default:(e,t)=>t}}),Zo=Object.keys(lr);function Jo(e,t){if(e<0)return[];const r=Array(e);let o=-1;for(;++o<e;)r[o]=t(o);return r}const Qo=(e,t)=>32-new Date(e,t-1,32).getDate(),en=(e,t)=>{const r=["setValues","setIndexes","setColumnIndex","setColumnValue"];return new Proxy(e,{get:(e,o)=>r.includes(o)?(...r)=>{e[o](...r),t()}:e[o]})};s("bgCzB");b=s("liXpq"),C=s("d4ofg");const tn=e=>{const t=b.ref(),r=()=>{t.value=w(e).height};return C.onMounted((()=>{C.nextTick(r),setTimeout(r,100)})),t};s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");const[rn]=Ve("calendar-day");var on=C.defineComponent({name:rn,props:{item:_(Object),color:String,index:Number,offset:E(0),rowHeight:String},emits:["click"],setup(e,{emit:t,slots:r}){const o=C.computed((()=>{var t;const{item:r,index:o,color:n,offset:i,rowHeight:s}=e,a={height:s};if("placeholder"===r.type)return a.width="100%",a;if(0===o&&(a.marginLeft=100*i/7+"%"),n)switch(r.type){case"end":case"start":case"start-end":case"multiple-middle":case"multiple-selected":a.background=n;break;case"middle":a.color=n}return i+((null==(t=r.date)?void 0:t.getDate())||1)>28&&(a.marginBottom=0),a})),n=()=>{"disabled"!==e.item.type&&t("click",e.item)},i=()=>{const{topInfo:t}=e.item;if(t||r["top-info"])return C.createVNode("div",{class:Mo("top-info")},[r["top-info"]?r["top-info"](e.item):t])},s=()=>{const{bottomInfo:t}=e.item;if(t||r["bottom-info"])return C.createVNode("div",{class:Mo("bottom-info")},[r["bottom-info"]?r["bottom-info"](e.item):t])},a=()=>{const{item:t,color:r,rowHeight:o}=e,{type:n,text:a}=t,c=[i(),a,s()];return"selected"===n?C.createVNode("div",{class:Mo("selected-day"),style:{width:o,height:o,background:r}},[c]):c};return()=>{const{type:t,className:r}=e.item;return"placeholder"===t?C.createVNode("div",{class:Mo("day"),style:o.value},null):C.createVNode("div",{role:"gridcell",style:o.value,class:[Mo("day",t),r],tabindex:"disabled"===t?void 0:-1,onClick:n},[a()])}}});const[nn]=Ve("calendar-month"),sn={date:_(Date),type:String,color:String,minDate:_(Date),maxDate:_(Date),showMark:Boolean,rowHeight:v,formatter:Function,lazyRender:Boolean,currentDate:[Date,Array],allowSameDay:Boolean,showSubtitle:Boolean,showMonthTitle:Boolean,firstDayOfWeek:Number};var an=C.defineComponent({name:nn,props:sn,emits:["click","update-height"],setup(e,{emit:t,slots:r}){const[o,n]=function(e=!1){const t=b.ref(e);return[t,(e=!t.value)=>{t.value=e}]}(),i=b.ref(),s=b.ref(),a=tn(s),c=C.computed((()=>{return t=e.date,Fo("monthTitle",t.getFullYear(),t.getMonth()+1);var t})),l=C.computed((()=>ge(e.rowHeight))),u=C.computed((()=>{const t=e.date.getDay();return e.firstDayOfWeek?(t+7-e.firstDayOfWeek)%7:t})),d=C.computed((()=>Qo(e.date.getFullYear(),e.date.getMonth()+1))),f=C.computed((()=>o.value||!e.lazyRender)),h=t=>{const{type:r,minDate:o,maxDate:n,currentDate:i}=e;if(Wo(t,o)<0||Wo(t,n)>0)return"disabled";if(null===i)return"";if(Array.isArray(i)){if("multiple"===r)return(t=>{const r=t=>e.currentDate.some((e=>0===Wo(e,t)));if(r(t)){const e=Yo(t),o=qo(t),n=r(e),i=r(o);return n&&i?"multiple-middle":n?"end":i?"start":"multiple-selected"}return""})(t);if("range"===r)return(t=>{const[r,o]=e.currentDate;if(!r)return"";const n=Wo(t,r);if(!o)return 0===n?"start":"";const i=Wo(t,o);return e.allowSameDay&&0===n&&0===i?"start-end":0===n?"start":0===i?"end":n>0&&i<0?"middle":""})(t)}else if("single"===r)return 0===Wo(t,i)?"selected":"";return""},v=t=>{if("range"===e.type){if("start"===t||"end"===t)return Fo(t);if("start-end"===t)return`${Fo("start")}/${Fo("end")}`}},g=()=>{if(e.showMonthTitle)return C.createVNode("div",{class:Mo("month-title")},[c.value])},_=()=>{if(e.showMark&&f.value)return C.createVNode("div",{class:Mo("month-mark")},[e.date.getMonth()+1])},m=C.computed((()=>{const e=Math.ceil((d.value+u.value)/7);return Array(e).fill({type:"placeholder"})})),E=C.computed((()=>{const t=[],r=e.date.getFullYear(),o=e.date.getMonth();for(let n=1;n<=d.value;n++){const i=new Date(r,o,n),s=h(i);let a={date:i,type:s,text:n,bottomInfo:v(s)};e.formatter&&(a=e.formatter(a)),t.push(a)}return t})),y=C.computed((()=>E.value.filter((e=>"disabled"===e.type)))),T=(o,n)=>C.createVNode(on,{item:o,index:n,color:e.color,offset:u.value,rowHeight:l.value,onClick:e=>t("click",e)},p(r,["top-info","bottom-info"]));return Qe({getTitle:()=>c.value,getHeight:()=>a.value,setVisible:n,scrollToDate:(e,t)=>{if(i.value){const r=w(i.value),o=m.value.length,n=(Math.ceil((t.getDate()+u.value)/7)-1)*r.height/o;ie(e,r.top+n+e.scrollTop-w(e).top)}},disabledDays:y}),()=>C.createVNode("div",{class:Mo("month"),ref:s},[g(),C.createVNode("div",{ref:i,role:"grid",class:Mo("days")},[_(),(f.value?E:m).value.map(T)])])}});s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");const[cn]=Ve("calendar-header");var ln=C.defineComponent({name:cn,props:{title:String,subtitle:String,showTitle:Boolean,showSubtitle:Boolean,firstDayOfWeek:Number},emits:["click-subtitle"],setup(e,{slots:t,emit:r}){const o=()=>{if(e.showTitle){const r=e.title||Fo("title"),o=t.title?t.title():r;return C.createVNode("div",{class:Mo("header-title")},[o])}},n=e=>r("click-subtitle",e),i=()=>{if(e.showSubtitle){const r=t.subtitle?t.subtitle():e.subtitle;return C.createVNode("div",{class:Mo("header-subtitle"),onClick:n},[r])}},s=()=>{const{firstDayOfWeek:t}=e,r=Fo("weekdays"),o=[...r.slice(t,7),...r.slice(0,t)];return C.createVNode("div",{class:Mo("weekdays")},[o.map((e=>C.createVNode("span",{class:Mo("weekday")},[e])))])};return()=>C.createVNode("div",{class:Mo("header")},[o(),i(),s()])}});const un={show:Boolean,type:T("single"),title:String,color:String,round:g,readonly:Boolean,poppable:g,maxRange:y(null),position:T("bottom"),teleport:[String,Object],showMark:g,showTitle:g,formatter:Function,rowHeight:v,confirmText:String,rangePrompt:String,lazyRender:g,showConfirm:g,defaultDate:[Date,Array],allowSameDay:Boolean,showSubtitle:g,closeOnPopstate:g,showRangePrompt:g,confirmDisabledText:String,closeOnClickOverlay:g,safeAreaInsetTop:Boolean,safeAreaInsetBottom:g,minDate:{type:Date,validator:te,default:$o},maxDate:{type:Date,validator:te,default:()=>{const e=$o();return new Date(e.getFullYear(),e.getMonth()+6,e.getDate())}},firstDayOfWeek:{type:v,default:0,validator:e=>e>=0&&e<=6}};qe(C.defineComponent({name:ko,props:un,emits:["select","confirm","unselect","month-show","over-range","update:show","click-subtitle"],setup(e,{emit:t,slots:r}){const o=(t,r=e.minDate,o=e.maxDate)=>-1===Wo(t,r)?r:1===Wo(t,o)?o:t,n=(t=e.defaultDate)=>{const{type:r,minDate:n,maxDate:i}=e;if(null===t)return t;const s=$o();if("range"===r){Array.isArray(t)||(t=[]);return[o(t[0]||s,n,Yo(i)),o(t[1]||s,qo(n))]}return"multiple"===r?Array.isArray(t)?t.map((e=>o(e))):[o(s)]:(t&&!Array.isArray(t)||(t=s),o(t))};let i;const s=b.ref(),a=b.ref(""),c=b.ref(n()),[l,u]=Xo(),d=C.computed((()=>e.firstDayOfWeek?+e.firstDayOfWeek%7:0)),f=C.computed((()=>{const t=[],r=new Date(e.minDate);r.setDate(1);do{t.push(new Date(r)),r.setMonth(r.getMonth()+1)}while(1!==Ho(r,e.maxDate));return t})),h=C.computed((()=>{if(c.value){if("range"===e.type)return!c.value[0]||!c.value[1];if("multiple"===e.type)return!c.value.length}return!c.value})),v=()=>{const e=ne(s.value),r=e+i,o=f.value.map(((e,t)=>l.value[t].getHeight()));if(r>o.reduce(((e,t)=>e+t),0)&&e>0)return;let n,c=0;const u=[-1,-1];for(let i=0;i<f.value.length;i++){const s=l.value[i];c<=r&&c+o[i]>=e&&(u[1]=i,n||(n=s,u[0]=i),l.value[i].showed||(l.value[i].showed=!0,t("month-show",{date:s.date,title:s.getTitle()}))),c+=o[i]}f.value.forEach(((e,t)=>{const r=t>=u[0]-1&&t<=u[1]+1;l.value[t].setVisible(r)})),n&&(a.value=n.getTitle())},g=e=>{x((()=>{f.value.some(((t,r)=>0===Ho(t,e)&&(s.value&&l.value[r].scrollToDate(s.value,e),!0))),v()}))},_=()=>{if(!e.poppable||e.show)if(c.value){const t="single"===e.type?c.value:c.value[0];g(t)}else x(v)},m=()=>{e.poppable&&!e.show||(x((()=>{i=Math.floor(w(s).height)})),_())},E=(e=n())=>{c.value=e,_()},y=()=>{var e;return t("confirm",null!=(e=c.value)?e:jo(c.value))},T=(r,o)=>{const n=e=>{c.value=e,t("select",jo(e))};if(o&&"range"===e.type){const o=(r=>{const{maxRange:o,rangePrompt:n,showRangePrompt:i}=e;return!(o&&function(e){const t=e[0].getTime();return(e[1].getTime()-t)/864e5+1}(r)>o&&(i&&to(n||Fo("rangePrompt",o)),t("over-range"),1))})(r);if(!o)return void n([r[0],Go(r[0],+e.maxRange-1)])}n(r),o&&!e.showConfirm&&y()},I=C.computed((()=>l.value.reduce(((e,t)=>{var r,o;return e.push(...null!=(o=null==(r=t.disabledDays)?void 0:r.value)?o:[]),e}),[]))),A=r=>{if(e.readonly||!r.date)return;const{date:o}=r,{type:n}=e;if("range"===n){if(!c.value)return void T([o]);const[t,r]=c.value;if(t&&!r){const r=Wo(o,t);if(1===r){const e=((e,t,r)=>{var o;return null==(o=e.find((e=>-1===Wo(t,e.date)&&-1===Wo(e.date,r))))?void 0:o.date})(I.value,t,o);if(e){const r=Yo(e);-1===Wo(t,r)?T([t,r]):T([o])}else T([t,o],!0)}else-1===r?T([o]):e.allowSameDay&&T([o,o],!0)}else T([o])}else if("multiple"===n){if(!c.value)return void T([o]);const r=c.value,n=r.findIndex((e=>0===Wo(e,o)));if(-1!==n){const[e]=r.splice(n,1);t("unselect",zo(e))}else e.maxRange&&r.length>=e.maxRange?to(e.rangePrompt||Fo("rangePrompt",e.maxRange)):T([...r,o])}else T(o,!0)},S=e=>t("update:show",e),D=(t,o)=>{const n=0!==o||!e.showSubtitle;return C.createVNode(an,C.mergeProps({ref:u(o),date:t,currentDate:c.value,showMonthTitle:n,firstDayOfWeek:d.value},p(e,["type","color","minDate","maxDate","showMark","formatter","rowHeight","lazyRender","showSubtitle","allowSameDay"]),{onClick:A}),p(r,["top-info","bottom-info"]))},O=()=>{if(r.footer)return r.footer();if(e.showConfirm){const t=r["confirm-text"],o=h.value,n=o?e.confirmDisabledText:e.confirmText;return C.createVNode(xt,{round:!0,block:!0,type:"danger",color:e.color,class:Mo("confirm"),disabled:o,nativeType:"button",onClick:y},{default:()=>[t?t({disabled:o}):n||Fo("confirm")]})}},N=()=>C.createVNode("div",{class:Mo()},[C.createVNode(ln,{title:e.title,subtitle:a.value,showTitle:e.showTitle,showSubtitle:e.showSubtitle,firstDayOfWeek:d.value,"onClick-subtitle":e=>t("click-subtitle",e)},p(r,["title","subtitle"])),C.createVNode("div",{ref:s,class:Mo("body"),onScroll:v},[f.value.map(D)]),C.createVNode("div",{class:[Mo("footer"),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[O()])]);return C.watch((()=>e.show),m),C.watch((()=>[e.type,e.minDate,e.maxDate]),(()=>E(n(c.value)))),C.watch((()=>e.defaultDate),((e=null)=>{c.value=e,_()})),Qe({reset:E,scrollToDate:g}),F(m),()=>e.poppable?C.createVNode(Xt,{show:e.show,class:Mo("popup"),round:e.round,position:e.position,closeable:e.showTitle||e.showSubtitle,teleport:e.teleport,closeOnPopstate:e.closeOnPopstate,safeAreaInsetTop:e.safeAreaInsetTop,closeOnClickOverlay:e.closeOnClickOverlay,"onUpdate:show":S},{default:N}):N()}}));s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg"),b=s("liXpq");s("bgCzB");C=s("d4ofg"),b=s("liXpq");const[dn,pn]=Ve("image"),fn={src:String,alt:String,fit:String,position:String,round:Boolean,width:v,height:v,radius:v,lazyLoad:Boolean,iconSize:v,showError:g,errorIcon:T("photo-fail"),iconPrefix:String,showLoading:g,loadingIcon:T("photo")};const hn=qe(C.defineComponent({name:dn,props:fn,emits:["load","error"],setup(e,{emit:t,slots:r}){const o=b.ref(!1),n=b.ref(!0),i=b.ref(),{$Lazyload:s}=C.getCurrentInstance().proxy,a=C.computed((()=>{const t={width:ge(e.width),height:ge(e.height)};return Z(e.radius)&&(t.overflow="hidden",t.borderRadius=ge(e.radius)),t}));C.watch((()=>e.src),(()=>{o.value=!1,n.value=!0}));const c=e=>{n.value=!1,t("load",e)},l=e=>{o.value=!0,n.value=!1,t("error",e)},d=(t,r,o)=>o?o():C.createVNode(vt,{name:t,size:e.iconSize,class:r,classPrefix:e.iconPrefix},null),p=()=>{if(o.value||!e.src)return;const t={alt:e.alt,class:pn("img"),style:{objectFit:e.fit,objectPosition:e.position}};return e.lazyLoad?C.withDirectives(C.createVNode("img",C.mergeProps({ref:i},t),null),[[C.resolveDirective("lazy"),e.src]]):C.createVNode("img",C.mergeProps({src:e.src,onLoad:c,onError:l},t),null)},f=({el:e})=>{const t=()=>{e===i.value&&n.value&&c()};i.value?t():C.nextTick(t)},h=({el:e})=>{e!==i.value||o.value||l()};return s&&u&&(s.$on("loaded",f),s.$on("error",h),C.onBeforeUnmount((()=>{s.$off("loaded",f),s.$off("error",h)}))),()=>{var t;return C.createVNode("div",{class:pn({round:e.round}),style:a.value},[p(),n.value&&e.showLoading?C.createVNode("div",{class:pn("loading")},[d(e.loadingIcon,pn("loading-icon"),r.loading)]):o.value&&e.showError?C.createVNode("div",{class:pn("error")},[d(e.errorIcon,pn("error-icon"),r.error)]):void 0,null==(t=r.default)?void 0:t.call(r)])}}}));const[vn,gn]=Ve("card"),_n={tag:String,num:v,desc:String,thumb:String,title:String,price:v,centered:Boolean,lazyLoad:Boolean,currency:T(""),thumbLink:String,originPrice:v};qe(C.defineComponent({name:vn,props:_n,emits:["click-thumb"],setup(e,{slots:t,emit:r}){const o=()=>{if(t.tag||e.tag)return C.createVNode("div",{class:gn("tag")},[t.tag?t.tag():C.createVNode(xo,{mark:!0,type:"danger"},{default:()=>[e.tag]})])},n=()=>{if(t.thumb||e.thumb)return C.createVNode("a",{href:e.thumbLink,class:gn("thumb"),onClick:e=>r("click-thumb",e)},[t.thumb?t.thumb():C.createVNode(hn,{src:e.thumb,fit:"cover",width:"100%",height:"100%",lazyLoad:e.lazyLoad},null),o()])},i=()=>{const t=e.price.toString().split(".");return C.createVNode("div",null,[C.createVNode("span",{class:gn("price-currency")},[e.currency]),C.createVNode("span",{class:gn("price-integer")},[t[0]]),C.createTextVNode("."),C.createVNode("span",{class:gn("price-decimal")},[t[1]])])};return()=>{var r,o,s;const a=t.num||Z(e.num),c=t.price||Z(e.price),l=t["origin-price"]||Z(e.originPrice),u=a||c||l||t.bottom,d=c&&C.createVNode("div",{class:gn("price")},[t.price?t.price():i()]),p=l&&C.createVNode("div",{class:gn("origin-price")},[t["origin-price"]?t["origin-price"]():`${e.currency} ${e.originPrice}`]),f=a&&C.createVNode("div",{class:gn("num")},[t.num?t.num():`x${e.num}`]),h=t.footer&&C.createVNode("div",{class:gn("footer")},[t.footer()]),v=u&&C.createVNode("div",{class:gn("bottom")},[null==(r=t["price-top"])?void 0:r.call(t),d,p,f,null==(o=t.bottom)?void 0:o.call(t)]);return C.createVNode("div",{class:gn()},[C.createVNode("div",{class:gn("header")},[n(),C.createVNode("div",{class:gn("content",{centered:e.centered})},[C.createVNode("div",null,[t.title?t.title():e.title?C.createVNode("div",{class:[gn("title"),"van-multi-ellipsis--l2"]},[e.title]):void 0,t.desc?t.desc():e.desc?C.createVNode("div",{class:[gn("desc"),"van-ellipsis"]},[e.desc]):void 0,null==(s=t.tags)?void 0:s.call(t)]),v])]),h])}}}));s("bgCzB");C=s("d4ofg"),b=s("liXpq");s("bgCzB");C=s("d4ofg"),b=s("liXpq");s("bgCzB");C=s("d4ofg"),b=s("liXpq"),a=s("7sCZa");s("bgCzB");C=s("d4ofg"),b=s("liXpq"),a=s("7sCZa");s("bgCzB");C=s("d4ofg"),b=s("liXpq");s("bgCzB");C=s("d4ofg"),b=s("liXpq");s("bgCzB");C=s("d4ofg"),b=s("liXpq");s("bgCzB");C=s("d4ofg"),b=s("liXpq");s("bgCzB");C=s("d4ofg");const[mn,En]=Ve("sticky"),yn={zIndex:v,position:T("top"),container:Object,offsetTop:y(0),offsetBottom:y(0)};const Tn=qe(C.defineComponent({name:mn,props:yn,emits:["scroll","change"],setup(e,{emit:t,slots:r}){const o=b.ref(),n=$(o),i=b.reactive({fixed:!1,width:0,height:0,transform:0}),s=C.computed((()=>Te("top"===e.position?e.offsetTop:e.offsetBottom))),a=C.computed((()=>{const{fixed:e,height:t,width:r}=i;if(e)return{width:`${r}px`,height:`${t}px`}})),c=C.computed((()=>{if(!i.fixed)return;const t=l(me(e.zIndex),{width:`${i.width}px`,height:`${i.height}px`,[e.position]:`${s.value}px`});return i.transform&&(t.transform=`translate3d(0, ${i.transform}px, 0)`),t})),d=()=>{if(!o.value||fe(o))return;const{container:r,position:n}=e,a=w(o),c=ne(window);if(i.width=a.width,i.height=a.height,"top"===n)if(r){const e=w(r),t=e.bottom-s.value-i.height;i.fixed=s.value>a.top&&e.bottom>0,i.transform=t<0?t:0}else i.fixed=s.value>a.top;else{const{clientHeight:e}=document.documentElement;if(r){const t=w(r),o=e-t.top-s.value-i.height;i.fixed=e-s.value<a.bottom&&e>t.top,i.transform=o<0?-o:0}else i.fixed=e-s.value<a.bottom}(e=>{t("scroll",{scrollTop:e,isFixed:i.fixed})})(c)};return C.watch((()=>i.fixed),(e=>t("change",e))),H("scroll",d,{target:n}),function(e,t){if(!u||!window.IntersectionObserver)return;const r=new IntersectionObserver((e=>{t(e[0].intersectionRatio>0)}),{root:document.body}),o=()=>{e.value&&r.unobserve(e.value)};C.onDeactivated(o),C.onBeforeUnmount(o),F((()=>{e.value&&r.observe(e.value)}))}(o,d),()=>{var e;return C.createVNode("div",{ref:o,style:a.value},[C.createVNode("div",{class:En({fixed:i.fixed}),style:c.value},[null==(e=r.default)?void 0:e.call(r)])])}}}));s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");const[bn,Cn]=Ve("tab");var In=C.defineComponent({name:bn,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:v,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:g},setup(e,{slots:t}){const r=C.computed((()=>{const t={},{type:r,color:o,disabled:n,isActive:i,activeColor:s,inactiveColor:a}=e;o&&"card"===r&&(t.borderColor=o,n||(i?t.backgroundColor=o:t.color=o));const c=i?s:a;return c&&(t.color=c),t})),o=()=>{const r=C.createVNode("span",{class:Cn("text",{ellipsis:!e.scrollable})},[t.title?t.title():e.title]);return e.dot||Z(e.badge)&&""!==e.badge?C.createVNode(st,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[r]}):r};return()=>C.createVNode("div",{id:e.id,role:"tab",class:[Cn([e.type,{grow:e.scrollable&&!e.shrink,shrink:e.shrink,active:e.isActive,disabled:e.disabled}])],style:r.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls},[o()])}});s("bgCzB");C=s("d4ofg"),b=s("liXpq");s("bgCzB");C=s("d4ofg"),b=s("liXpq");s("bgCzB");C=s("d4ofg"),b=s("liXpq");s("bgCzB");C=s("d4ofg"),b=s("liXpq");const[xn,An]=Ve("swipe"),Sn={loop:g,width:v,height:v,vertical:Boolean,autoplay:y(0),duration:y(500),touchable:g,lazyRender:Boolean,initialSwipe:y(0),indicatorColor:String,showIndicators:g,stopPropagation:g},Dn=Symbol(xn);const wn=qe(C.defineComponent({name:xn,props:Sn,emits:["change"],setup(e,{emit:t,slots:r}){const o=b.ref(),n=b.reactive({rect:null,width:0,height:0,offset:0,active:0,swiping:!1}),i=Lt(),{children:s,linkChildren:a}=R(Dn),c=C.computed((()=>s.length)),l=C.computed((()=>n[e.vertical?"height":"width"])),u=C.computed((()=>e.vertical?i.deltaY.value:i.deltaX.value)),d=C.computed((()=>{if(n.rect){return(e.vertical?n.rect.height:n.rect.width)-l.value*c.value}return 0})),p=C.computed((()=>Math.ceil(Math.abs(d.value)/l.value))),f=C.computed((()=>c.value*l.value)),h=C.computed((()=>(n.active+c.value)%c.value)),v=C.computed((()=>{const t=e.vertical?"vertical":"horizontal";return i.direction.value===t})),g=C.computed((()=>{const t={transitionDuration:`${n.swiping?0:e.duration}ms`,transform:`translate${e.vertical?"Y":"X"}(${n.offset}px)`};if(l.value){const r=e.vertical?"height":"width",o=e.vertical?"width":"height";t[r]=`${f.value}px`,t[o]=e[o]?`${e[o]}px`:""}return t})),_=(t,r=0)=>{let o=t*l.value;e.loop||(o=Math.min(o,-d.value));let n=r-o;return e.loop||(n=xe(n,d.value,0)),n},m=({pace:r=0,offset:o=0,emitChange:i})=>{if(c.value<=1)return;const{active:a}=n,l=(t=>{const{active:r}=n;return t?e.loop?xe(r+t,-1,c.value):xe(r+t,0,p.value):r})(r),u=_(l,o);if(e.loop){if(s[0]&&u!==d.value){const e=u<d.value;s[0].setOffset(e?f.value:0)}if(s[c.value-1]&&0!==u){const e=u>0;s[c.value-1].setOffset(e?-f.value:0)}}n.active=l,n.offset=u,i&&l!==a&&t("change",h.value)},E=()=>{n.swiping=!0,n.active<=-1?m({pace:c.value}):n.active>=c.value&&m({pace:-c.value})},y=()=>{E(),i.reset(),S((()=>{n.swiping=!1,m({pace:1,emitChange:!0})}))};let T;const x=()=>clearTimeout(T),A=()=>{x(),e.autoplay>0&&c.value>1&&(T=setTimeout((()=>{y(),A()}),+e.autoplay))},D=(t=+e.initialSwipe)=>{if(!o.value)return;const r=()=>{var r,i;if(!fe(o)){const t={width:o.value.offsetWidth,height:o.value.offsetHeight};n.rect=t,n.width=+(null!=(r=e.width)?r:t.width),n.height=+(null!=(i=e.height)?i:t.height)}c.value&&(t=Math.min(c.value-1,t)),n.active=t,n.swiping=!0,n.offset=_(t),s.forEach((e=>{e.setOffset(0)})),A()};fe(o)?C.nextTick().then(r):r()},w=()=>D(n.active);let O;const N=t=>{e.touchable&&(i.start(t),O=Date.now(),x(),E())},B=t=>{e.touchable&&n.swiping&&(i.move(t),v.value&&(pe(t,e.stopPropagation),m({offset:u.value})))},P=()=>{if(!e.touchable||!n.swiping)return;const t=Date.now()-O,r=u.value/t;if((Math.abs(r)>.25||Math.abs(u.value)>l.value/2)&&v.value){const t=e.vertical?i.offsetY.value:i.offsetX.value;let r=0;r=e.loop?t>0?u.value>0?-1:1:0:-Math[u.value>0?"ceil":"floor"](u.value/l.value),m({pace:r,emitChange:!0})}else u.value&&m({pace:0});n.swiping=!1,A()},L=(t,r)=>{const o=r===h.value,n=o?{backgroundColor:e.indicatorColor}:void 0;return C.createVNode("i",{style:n,class:An("indicator",{active:o})},null)};return Qe({prev:()=>{E(),i.reset(),S((()=>{n.swiping=!1,m({pace:-1,emitChange:!0})}))},next:y,state:n,resize:w,swipeTo:(t,r={})=>{E(),i.reset(),S((()=>{let o;o=e.loop&&t===c.value?0===n.active?0:t:t%c.value,r.immediate?S((()=>{n.swiping=!1})):n.swiping=!1,m({pace:o-n.active,emitChange:!0})}))}}),a({size:l,props:e,count:c,activeIndicator:h}),C.watch((()=>e.initialSwipe),(e=>D(+e))),C.watch(c,(()=>D(n.active))),C.watch((()=>e.autoplay),A),C.watch([he,ve],w),C.watch(function(){if(!z&&(z=b.ref("visible"),I)){const e=()=>{z.value=document.hidden?"hidden":"visible"};e(),window.addEventListener("visibilitychange",e)}return z}(),(e=>{"visible"===e?A():x()})),C.onMounted(D),C.onActivated((()=>D(n.active))),Ft((()=>D(n.active))),C.onDeactivated(x),C.onBeforeUnmount(x),()=>{var t;return C.createVNode("div",{ref:o,class:An()},[C.createVNode("div",{style:g.value,class:An("track",{vertical:e.vertical}),onTouchstart:N,onTouchmove:B,onTouchend:P,onTouchcancel:P},[null==(t=r.default)?void 0:t.call(r)]),r.indicator?r.indicator({active:h.value,total:c.value}):e.showIndicators&&c.value>1?C.createVNode("div",{class:An("indicators",{vertical:e.vertical})},[Array(c.value).fill("").map(L)]):void 0])}}}));const[On,Nn]=Ve("tabs");var Rn=C.defineComponent({name:On,props:{count:_(Number),inited:Boolean,animated:Boolean,duration:_(v),swipeable:Boolean,lazyRender:Boolean,currentIndex:_(Number)},emits:["change"],setup(e,{emit:t,slots:r}){const o=b.ref(),n=e=>t("change",e),i=()=>{var t;const i=null==(t=r.default)?void 0:t.call(r);return e.animated||e.swipeable?C.createVNode(wn,{ref:o,loop:!1,class:Nn("track"),duration:1e3*+e.duration,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:n},{default:()=>[i]}):i},s=t=>{const r=o.value;r&&r.state.active!==t&&r.swipeTo(t,{immediate:!e.inited})};return C.watch((()=>e.currentIndex),s),C.onMounted((()=>{s(e.currentIndex)})),()=>C.createVNode("div",{class:Nn("content",{animated:e.animated||e.swipeable})},[i()])}});const[Bn,Pn]=Ve("tabs"),Ln={type:T("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:y(0),duration:y(.3),animated:Boolean,ellipsis:g,swipeable:Boolean,scrollspy:Boolean,offsetTop:y(0),background:String,lazyRender:g,lineWidth:v,lineHeight:v,beforeChange:Function,swipeThreshold:y(5),titleActiveColor:String,titleInactiveColor:String},Un=Symbol(Bn);var Vn=C.defineComponent({name:Bn,props:Ln,emits:["click","change","scroll","disabled","rendered","click-tab","update:active"],setup(e,{emit:t,slots:r}){let o,n,i;const s=b.ref(),a=b.ref(),c=b.ref(),l=Pr(),u=$(s),[d,f]=Xo(),{children:h,linkChildren:v}=R(Un),g=b.reactive({inited:!1,position:"",lineStyle:{},currentIndex:-1}),_=C.computed((()=>h.length>e.swipeThreshold||!e.ellipsis||e.shrink)),m=C.computed((()=>({borderColor:e.color,background:e.background}))),E=(e,t)=>{var r;return null!=(r=e.name)?r:t},y=C.computed((()=>{const e=h[g.currentIndex];if(e)return E(e,g.currentIndex)})),T=C.computed((()=>Te(e.offsetTop))),I=C.computed((()=>e.sticky?T.value+o:0)),A=t=>{const r=a.value,o=d.value;if(!(_.value&&r&&o&&o[g.currentIndex]))return;const n=o[g.currentIndex].$el;!function(e,t,r){let o=0;const n=e.scrollLeft,i=0===r?1:Math.round(1e3*r/16);!function r(){e.scrollLeft+=(t-n)/i,++o<i&&x(r)}()}(r,n.offsetLeft-(r.offsetWidth-n.offsetWidth)/2,t?0:+e.duration)},S=()=>{const t=g.inited;C.nextTick((()=>{const r=d.value;if(!r||!r[g.currentIndex]||"line"!==e.type||fe(s.value))return;const o=r[g.currentIndex].$el,{lineWidth:n,lineHeight:i}=e,a=o.offsetLeft+o.offsetWidth/2,c={width:ge(n),backgroundColor:e.color,transform:`translateX(${a}px) translateX(-50%)`};if(t&&(c.transitionDuration=`${e.duration}s`),Z(i)){const e=ge(i);c.height=e,c.borderRadius=e}g.lineStyle=c}))},D=r=>{const o=(e=>{const t=e<g.currentIndex?-1:1;for(;e>=0&&e<h.length;){if(!h[e].disabled)return e;e+=t}})(r);if(!Z(o))return;const n=h[o],i=E(n,o),s=null!==g.currentIndex;g.currentIndex=o,i!==e.active&&(t("update:active",i),s&&t("change",i,n.title))},O=e=>{const t=h.find(((t,r)=>E(t,r)===e)),r=t?h.indexOf(t):0;D(r)},N=(t=!1)=>{if(e.scrollspy){const r=h[g.currentIndex].$el;if(r&&u.value){const o=ce(r,u.value)-I.value;n=!0,function(e,t,r,o){let n=ne(e);const i=n<t,s=0===r?1:Math.round(1e3*r/16),a=(t-n)/s;!function r(){n+=a,(i&&n>t||!i&&n<t)&&(n=t),ie(e,n),i&&n<t||!i&&n>t?x(r):o&&x(o)}()}(u.value,o,t?0:+e.duration,(()=>{n=!1}))}}},B=e=>{i=e.isFixed,t("scroll",e)},P=()=>h.map(((r,o)=>C.createVNode(In,C.mergeProps({key:r.id,id:`${l}-${o}`,ref:f(o),type:e.type,color:e.color,style:r.titleStyle,class:r.titleClass,shrink:e.shrink,isActive:o===g.currentIndex,controls:r.id,scrollable:_.value,activeColor:e.titleActiveColor,inactiveColor:e.titleInactiveColor,onClick:n=>((r,o,n)=>{const{title:i,disabled:s}=h[o],a=E(h[o],o);s?t("disabled",a,i):(Ye(e.beforeChange,{args:[a],done:()=>{D(o),N()}}),t("click",a,i),tt(r)),t("click-tab",{name:a,title:i,event:n,disabled:s})})(r,o,n)},p(r,["dot","badge","title","disabled","showZeroBadge"])),{title:r.$slots.title}))),L=()=>{if("line"===e.type&&h.length)return C.createVNode("div",{class:Pn("line"),style:g.lineStyle},null)},U=()=>{var t,o;const{type:n,border:i}=e;return C.createVNode("div",{ref:c,class:[Pn("wrap"),{[ze]:"line"===n&&i}]},[C.createVNode("div",{ref:a,role:"tablist",class:Pn("nav",[n,{shrink:e.shrink,complete:_.value}]),style:m.value,"aria-orientation":"horizontal"},[null==(t=r["nav-left"])?void 0:t.call(r),P(),L(),null==(o=r["nav-right"])?void 0:o.call(r)])])};C.watch([()=>e.color,he],S),C.watch((()=>e.active),(e=>{e!==y.value&&O(e)})),C.watch((()=>h.length),(()=>{g.inited&&(O(e.active),S(),C.nextTick((()=>{A(!0)})))})),C.watch((()=>g.currentIndex),(()=>{A(),S(),i&&!e.scrollspy&&ae(Math.ceil(ce(s.value)-T.value))}));return Qe({resize:S,scrollTo:e=>{C.nextTick((()=>{O(e),N(!0)}))}}),C.onActivated(S),Ft(S),F((()=>{O(e.active),C.nextTick((()=>{g.inited=!0,c.value&&(o=w(c.value).height),A(!0)}))})),H("scroll",(()=>{if(e.scrollspy&&!n){const e=(()=>{for(let e=0;e<h.length;e++){const{top:t}=w(h[e].$el);if(t>I.value)return 0===e?0:e-1}return h.length-1})();D(e)}}),{target:u}),v({id:l,props:e,setLine:S,onRendered:(e,r)=>t("rendered",e,r),currentName:y,scrollIntoView:A}),()=>{var t;return C.createVNode("div",{ref:s,class:Pn([e.type])},[e.sticky?C.createVNode(Tn,{container:s.value,offsetTop:T.value,onScroll:B},{default:()=>{var e;return[U(),null==(e=r["nav-bottom"])?void 0:e.call(r)]}}):[U(),null==(t=r["nav-bottom"])?void 0:t.call(r)],C.createVNode(Rn,{count:h.length,inited:g.inited,animated:e.animated,duration:e.duration,swipeable:e.swipeable,lazyRender:e.lazyRender,currentIndex:g.currentIndex,onChange:D},{default:()=>{var e;return[null==(e=r.default)?void 0:e.call(r)]}})])}}});s("bgCzB");C=s("d4ofg");const kn=Symbol();s("bgCzB");C=s("d4ofg"),b=s("liXpq");s("bgCzB");C=s("d4ofg"),b=s("liXpq");const[Mn,Fn]=Ve("swipe-item");const Hn=qe(C.defineComponent({name:Mn,setup(e,{slots:t}){let r;const o=b.reactive({offset:0,inited:!1,mounted:!1}),{parent:n,index:i}=O(Dn);if(!n)return;const s=C.computed((()=>{const e={},{vertical:t}=n.props;return n.size.value&&(e[t?"height":"width"]=`${n.size.value}px`),o.offset&&(e.transform=`translate${t?"Y":"X"}(${o.offset}px)`),e})),a=C.computed((()=>{const{loop:e,lazyRender:t}=n.props;if(!t||r)return!0;if(!o.mounted)return!1;const s=n.activeIndicator.value,a=n.count.value-1,c=0===s&&e?a:s-1,l=s===a&&e?0:s+1;return r=i.value===s||i.value===c||i.value===l,r}));return C.onMounted((()=>{C.nextTick((()=>{o.mounted=!0}))})),Qe({setOffset:e=>{o.offset=e}}),()=>{var e;return C.createVNode("div",{class:Fn(),style:s.value},[a.value?null==(e=t.default)?void 0:e.call(t):null])}}}));const[Wn,zn]=Ve("tab"),jn=l({},et,{dot:Boolean,name:v,badge:v,title:String,disabled:Boolean,titleClass:h,titleStyle:[String,Object],showZeroBadge:g});const Gn=qe(C.defineComponent({name:Wn,props:jn,setup(e,{slots:t}){const r=Pr(),o=b.ref(!1),{parent:n,index:i}=O(Un);if(!n)return;const s=()=>{var t;return null!=(t=e.name)?t:i.value},c=C.computed((()=>{const t=s()===n.currentName.value;return t&&!o.value&&(o.value=!0,n.props.lazyRender&&C.nextTick((()=>{n.onRendered(s(),e.title)}))),t}));return C.watch((()=>e.title),(()=>{n.setLine(),n.scrollIntoView()})),C.provide(kn,c),()=>{var e;const s=`${n.id}-${i.value}`,{animated:l,swipeable:u,scrollspy:d,lazyRender:p}=n.props;if(!t.default&&!l)return;const f=d||c.value;if(l||u)return C.createVNode(Hn,{id:r,role:"tabpanel",class:zn("panel-wrapper",{inactive:!c.value}),tabindex:c.value?0:-1,"aria-hidden":!c.value,"aria-labelledby":s},{default:()=>{var e;return[C.createVNode("div",{class:zn("panel")},[null==(e=t.default)?void 0:e.call(t)])]}});const h=o.value||d||!p?null==(e=t.default)?void 0:e.call(t):null;return Qe({id:r}),C.withDirectives(C.createVNode("div",{id:r,role:"tabpanel",class:zn("panel"),tabindex:f?0:-1,"aria-labelledby":s},[h]),[[a.vShow,f]])}}}));const Yn=qe(Vn);const[qn,$n,Xn]=Ve("cascader"),Kn={title:String,options:m(),closeable:g,swipeable:g,closeIcon:T("cross"),showHeader:g,modelValue:v,fieldNames:Object,placeholder:String,activeColor:String};qe(C.defineComponent({name:qn,props:Kn,emits:["close","change","finish","click-tab","update:modelValue"],setup(e,{slots:t,emit:r}){const o=b.ref([]),n=b.ref(0),{text:i,value:s,children:a}=l({text:"text",value:"value",children:"children"},e.fieldNames),c=(e,t)=>{for(const r of e){if(r[s]===t)return[r];if(r[a]){const e=c(r[a],t);if(e)return[r,...e]}}},u=()=>{const{options:t,modelValue:r}=e;if(void 0!==r){const e=c(t,r);if(e){let r=t;return o.value=e.map((e=>{const t={options:r,selected:e},o=r.find((t=>t[s]===e[s]));return o&&(r=o[a]),t})),r&&o.value.push({options:r,selected:null}),void C.nextTick((()=>{n.value=o.value.length-1}))}}o.value=[{options:t,selected:null}]},d=()=>r("close"),p=({name:e,title:t})=>r("click-tab",e,t),f=(c,l,u)=>{const{disabled:d}=c,p=!(!l||c[s]!==l[s]),f=c.color||(p?e.activeColor:void 0),h=t.option?t.option({option:c,selected:p}):C.createVNode("span",null,[c[i]]);return C.createVNode("li",{role:"menuitemradio",class:[$n("option",{selected:p,disabled:d}),c.className],style:{color:f},tabindex:d?void 0:p?0:-1,"aria-checked":p,"aria-disabled":d||void 0,onClick:()=>((e,t)=>{if(e.disabled)return;if(o.value[t].selected=e,o.value.length>t+1&&(o.value=o.value.slice(0,t+1)),e[a]){const r={options:e[a],selected:null};o.value[t+1]?o.value[t+1]=r:o.value.push(r),C.nextTick((()=>{n.value++}))}const i=o.value.map((e=>e.selected)).filter(Boolean);r("update:modelValue",e[s]);const c={value:e[s],tabIndex:t,selectedOptions:i};r("change",c),e[a]||r("finish",c)})(c,u)},[h,p?C.createVNode(vt,{name:"success",class:$n("selected-icon")},null):null])},h=(e,t,r)=>C.createVNode("ul",{role:"menu",class:$n("options")},[e.map((e=>f(e,t,r)))]),v=(r,o)=>{const{options:n,selected:s}=r,a=e.placeholder||Xn("select"),c=s?s[i]:a;return C.createVNode(Gn,{title:c,titleClass:$n("tab",{unselected:!s})},{default:()=>{var e,r;return[null==(e=t["options-top"])?void 0:e.call(t,{tabIndex:o}),h(n,s,o),null==(r=t["options-bottom"])?void 0:r.call(t,{tabIndex:o})]}})};return u(),C.watch((()=>e.options),u,{deep:!0}),C.watch((()=>e.modelValue),(e=>{if(void 0!==e){if(o.value.map((e=>{var t;return null==(t=e.selected)?void 0:t[s]})).includes(e))return}u()})),()=>C.createVNode("div",{class:$n()},[e.showHeader?C.createVNode("div",{class:$n("header")},[C.createVNode("h2",{class:$n("title")},[t.title?t.title():e.title]),e.closeable?C.createVNode(vt,{name:e.closeIcon,class:[$n("close-icon"),je],onClick:d},null):null]):null,C.createVNode(Yn,{active:n.value,"onUpdate:active":e=>n.value=e,shrink:!0,animated:!0,class:$n("tabs"),color:e.activeColor,swipeable:e.swipeable,"onClick-tab":p},{default:()=>[o.value.map(v)]})])}}));s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");const[Zn,Jn]=Ve("cell-group"),Qn={title:String,inset:Boolean,border:g};const ei=qe(C.defineComponent({name:Zn,inheritAttrs:!1,props:Qn,setup(e,{slots:t,attrs:r}){const o=()=>{var o;return C.createVNode("div",C.mergeProps({class:[Jn({inset:e.inset}),{[ze]:e.border&&!e.inset}]},r),[null==(o=t.default)?void 0:o.call(t)])};return()=>e.title||t.title?C.createVNode(C.Fragment,null,[C.createVNode("div",{class:Jn("title",{inset:e.inset})},[t.title?t.title():e.title]),o()]):o()}}));s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");const[ti,ri]=Ve("checkbox-group"),oi={max:v,disabled:Boolean,iconSize:v,direction:String,modelValue:m(),checkedColor:String},ni=Symbol(ti);var ii=C.defineComponent({name:ti,props:oi,emits:["change","update:modelValue"],setup(e,{emit:t,slots:r}){const{children:o,linkChildren:n}=R(ni),i=e=>t("update:modelValue",e);return C.watch((()=>e.modelValue),(e=>t("change",e))),Qe({toggleAll:(e={})=>{"boolean"==typeof e&&(e={checked:e});const{checked:t,skipDisabled:r}=e,n=o.filter((e=>!!e.props.bindGroup&&(e.props.disabled&&r?e.checked.value:null!=t?t:!e.checked.value))).map((e=>e.name));i(n)}}),K((()=>e.modelValue)),n({props:e,updateValue:i}),()=>{var t;return C.createVNode("div",{class:ri([e.direction])},[null==(t=r.default)?void 0:t.call(r)])}}});const[si,ai]=Ve("checkbox"),ci=l({},Ao,{bindGroup:g});const li=qe(C.defineComponent({name:si,props:ci,emits:["change","update:modelValue"],setup(e,{emit:t,slots:r}){const{parent:o}=O(ni),n=C.computed((()=>o&&e.bindGroup?-1!==o.props.modelValue.indexOf(e.name):!!e.modelValue)),i=(r=!n.value)=>{o&&e.bindGroup?(t=>{const{name:r}=e,{max:n,modelValue:i}=o.props,s=i.slice();if(t)n&&s.length>=n||s.includes(r)||(s.push(r),e.bindGroup&&o.updateValue(s));else{const t=s.indexOf(r);-1!==t&&(s.splice(t,1),e.bindGroup&&o.updateValue(s))}})(r):t("update:modelValue",r)};return C.watch((()=>e.modelValue),(e=>t("change",e))),Qe({toggle:i,props:e,checked:n}),K((()=>e.modelValue)),()=>C.createVNode(So,C.mergeProps({bem:ai,role:"checkbox",parent:o,checked:n.value,onToggle:i},e),p(r,["default","icon"]))}}));qe(ii);s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");const[ui,di]=Ve("circle");let pi=0;const fi=e=>Math.min(Math.max(+e,0),100);const hi={text:String,size:v,fill:T("none"),rate:y(100),speed:y(0),color:[String,Object],clockwise:g,layerColor:String,currentRate:E(0),strokeWidth:y(40),strokeLinecap:String,startPosition:T("top")};qe(C.defineComponent({name:ui,props:hi,emits:["update:currentRate"],setup(e,{emit:t,slots:r}){const o="van-circle-"+pi++,n=C.computed((()=>+e.strokeWidth+1e3)),i=C.computed((()=>function(e,t){const r=e?1:0;return`M ${t/2} ${t/2} m 0, -500 a 500, 500 0 1, ${r} 0, 1000 a 500, 500 0 1, ${r} 0, -1000`}(e.clockwise,n.value))),s=C.computed((()=>{const t={top:0,right:90,bottom:180,left:270}[e.startPosition];if(t)return{transform:`rotate(${t}deg)`}}));C.watch((()=>e.rate),(r=>{let o;const n=Date.now(),i=e.currentRate,s=fi(r),a=Math.abs(1e3*(i-s)/+e.speed),c=()=>{const e=Date.now(),r=Math.min((e-n)/a,1)*(s-i)+i;t("update:currentRate",fi(parseFloat(r.toFixed(1)))),(s>i?r<s:r>s)&&(o=x(c))};e.speed?(o&&A(o),o=x(c)):t("update:currentRate",s)}),{immediate:!0});const a=()=>{const{strokeWidth:t,currentRate:r,strokeLinecap:n}=e,s=3140*r/100,a=Q(e.color)?`url(#${o})`:e.color,c={stroke:a,strokeWidth:+t+1+"px",strokeLinecap:n,strokeDasharray:`${s}px 3140px`};return C.createVNode("path",{d:i.value,style:c,class:di("hover"),stroke:a},null)},c=()=>{const t={fill:e.fill,stroke:e.layerColor,strokeWidth:`${e.strokeWidth}px`};return C.createVNode("path",{class:di("layer"),style:t,d:i.value},null)},l=()=>{const{color:t}=e;if(!Q(t))return;const r=Object.keys(t).sort(((e,t)=>parseFloat(e)-parseFloat(t))).map(((e,r)=>C.createVNode("stop",{key:r,offset:e,"stop-color":t[e]},null)));return C.createVNode("defs",null,[C.createVNode("linearGradient",{id:o,x1:"100%",y1:"0%",x2:"0%",y2:"0%"},[r])])};return()=>C.createVNode("div",{class:di(),style:_e(e.size)},[C.createVNode("svg",{viewBox:`0 0 ${n.value} ${n.value}`,style:s.value},[l(),c(),a()]),r.default?r.default():e.text?C.createVNode("div",{class:di("text")},[e.text]):void 0])}}));s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");const[vi,gi]=Ve("row"),_i=Symbol(vi),mi={tag:T("div"),wrap:g,align:String,gutter:y(0),justify:String};var Ei=C.defineComponent({name:vi,props:mi,setup(e,{slots:t}){const{children:r,linkChildren:o}=R(_i),n=C.computed((()=>{const e=[[]];let t=0;return r.forEach(((r,o)=>{t+=Number(r.span),t>24?(e.push([o]),t-=24):e[e.length-1].push(o)})),e}));return o({spaces:C.computed((()=>{const t=Number(e.gutter),r=[];return t?(n.value.forEach((e=>{const o=t*(e.length-1)/e.length;e.forEach(((e,n)=>{if(0===n)r.push({right:o});else{const n=t-r[e-1].right,i=o-n;r.push({left:n,right:i})}}))})),r):r}))}),()=>{const{tag:r,wrap:o,align:n,justify:i}=e;return C.createVNode(r,{class:gi({[`align-${n}`]:n,[`justify-${i}`]:i,nowrap:!o})},{default:()=>{var e;return[null==(e=t.default)?void 0:e.call(t)]}})}}});const[yi,Ti]=Ve("col"),bi={tag:T("div"),span:y(0),offset:v};qe(C.defineComponent({name:yi,props:bi,setup(e,{slots:t}){const{parent:r,index:o}=O(_i),n=C.computed((()=>{if(!r)return;const{spaces:e}=r;if(e&&e.value&&e.value[o.value]){const{left:t,right:r}=e.value[o.value];return{paddingLeft:t?`${t}px`:null,paddingRight:r?`${r}px`:null}}}));return()=>{const{tag:r,span:o,offset:i}=e;return C.createVNode(r,{style:n.value,class:Ti({[o]:o,[`offset-${i}`]:i})},{default:()=>{var e;return[null==(e=t.default)?void 0:e.call(t)]}})}}}));s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");const[Ci,Ii]=Ve("collapse"),xi=Symbol(Ci),Ai={border:g,accordion:Boolean,modelValue:{type:[String,Number,Array],default:""}};qe(C.defineComponent({name:Ci,props:Ai,emits:["change","update:modelValue"],setup(e,{emit:t,slots:r}){const{linkChildren:o}=R(xi),n=e=>{t("change",e),t("update:modelValue",e)};return o({toggle:(t,r)=>{const{accordion:o,modelValue:i}=e;n(o?t===i?"":t:r?i.concat(t):i.filter((e=>e!==t)))},isExpanded:t=>{const{accordion:r,modelValue:o}=e;return r?o===t:o.includes(t)}}),()=>{var t;return C.createVNode("div",{class:[Ii(),{[ze]:e.border}]},[null==(t=r.default)?void 0:t.call(r)])}}}));s("bgCzB");C=s("d4ofg"),b=s("liXpq"),a=s("7sCZa");s("bgCzB");C=s("d4ofg"),b=s("liXpq"),a=s("7sCZa");const[Si,Di]=Ve("collapse-item"),wi=["icon","title","value","label","right-icon"],Oi=l({},Tr,{name:v,isLink:g,disabled:Boolean,readonly:Boolean,lazyRender:g});qe(C.defineComponent({name:Si,props:Oi,setup(e,{slots:t}){const r=b.ref(),o=b.ref(),{parent:n,index:i}=O(xi);if(!n)return;const s=C.computed((()=>{var t;return null!=(t=e.name)?t:i.value})),c=C.computed((()=>n.isExpanded(s.value))),l=b.ref(c.value),u=kt((()=>l.value||!e.lazyRender)),d=()=>{c.value?r.value&&(r.value.style.height=""):l.value=!1};C.watch(c,((e,t)=>{if(null===t)return;e&&(l.value=!0);(e?C.nextTick:x)((()=>{if(!o.value||!r.value)return;const{offsetHeight:t}=o.value;if(t){const o=`${t}px`;r.value.style.height=e?"0":o,S((()=>{r.value&&(r.value.style.height=e?o:"0")}))}else d()}))}));const f=(e=!c.value)=>{n.toggle(s.value,e)},h=()=>{e.disabled||e.readonly||f()},v=()=>{const{border:r,disabled:o,readonly:n}=e,i=p(e,Object.keys(Tr));return n&&(i.isLink=!1),(o||n)&&(i.clickable=!1),C.createVNode(Cr,C.mergeProps({role:"button",class:Di("title",{disabled:o,expanded:c.value,borderless:!r}),"aria-expanded":String(c.value),onClick:h},i),p(t,wi))},g=u((()=>{var e;return C.withDirectives(C.createVNode("div",{ref:r,class:Di("wrapper"),onTransitionend:d},[C.createVNode("div",{ref:o,class:Di("content")},[null==(e=t.default)?void 0:e.call(t)])]),[[a.vShow,l.value]])}));return Qe({toggle:f}),()=>C.createVNode("div",{class:[Di({border:i.value&&e.border})]},[v(),g()])}}));qe(dt);s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");const[Ni,Ri,Bi]=Ve("contact-card"),Pi={tel:String,name:String,type:T("add"),addText:String,editable:g};qe(C.defineComponent({name:Ni,props:Pi,emits:["click"],setup(e,{emit:t}){const r=r=>{e.editable&&t("click",r)},o=()=>"add"===e.type?e.addText||Bi("addContact"):[C.createVNode("div",null,[`${Bi("name")}${e.name}`]),C.createVNode("div",null,[`${Bi("tel")}${e.tel}`])];return()=>C.createVNode(Cr,{center:!0,icon:"edit"===e.type?"contact":"add-square",class:Ri([e.type]),border:!1,isLink:e.editable,valueClass:Ri("value"),onClick:r},{value:o})}}));s("bgCzB");C=s("d4ofg"),b=s("liXpq");s("bgCzB");C=s("d4ofg"),b=s("liXpq");const[Li,Ui,Vi]=Ve("contact-edit"),ki={tel:"",name:""},Mi={isEdit:Boolean,isSaving:Boolean,isDeleting:Boolean,showSetDefault:Boolean,setDefaultLabel:String,contactInfo:{type:Object,default:()=>l({},ki)},telValidator:{type:Function,default:re}};qe(C.defineComponent({name:Li,props:Mi,emits:["save","delete","change-default"],setup(e,{emit:t}){const r=b.reactive(l({},ki,e.contactInfo)),o=()=>{e.isSaving||t("save",r)},n=()=>t("delete",r),i=()=>C.createVNode(so,{modelValue:r.isDefault,"onUpdate:modelValue":e=>r.isDefault=e,size:24,onChange:e=>t("change-default",e)},null),s=()=>{if(e.showSetDefault)return C.createVNode(Cr,{title:e.setDefaultLabel,class:Ui("switch-cell"),border:!1},{"right-icon":i})};return C.watch((()=>e.contactInfo),(e=>l(r,ki,e))),()=>C.createVNode(Sr,{class:Ui(),onSubmit:o},{default:()=>[C.createVNode("div",{class:Ui("fields")},[C.createVNode(Mr,{modelValue:r.name,"onUpdate:modelValue":e=>r.name=e,clearable:!0,label:Vi("name"),rules:[{required:!0,message:Vi("nameEmpty")}],maxlength:"30",placeholder:Vi("name")},null),C.createVNode(Mr,{modelValue:r.tel,"onUpdate:modelValue":e=>r.tel=e,clearable:!0,type:"tel",label:Vi("tel"),rules:[{validator:e.telValidator,message:Vi("telInvalid")}],placeholder:Vi("tel")},null)]),s(),C.createVNode("div",{class:Ui("buttons")},[C.createVNode(xt,{block:!0,round:!0,type:"danger",text:Vi("save"),class:Ui("button"),loading:e.isSaving,nativeType:"submit"},null),e.isEdit&&C.createVNode(xt,{block:!0,round:!0,text:Vi("delete"),class:Ui("button"),loading:e.isDeleting,onClick:n},null)])]})}}));s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");const[Fi,Hi,Wi]=Ve("contact-list"),zi={list:Array,addText:String,modelValue:h,defaultTagText:String};qe(C.defineComponent({name:Fi,props:zi,emits:["add","edit","select","update:modelValue"],setup(e,{emit:t}){const r=(r,o)=>C.createVNode(Cr,{key:r.id,isLink:!0,center:!0,class:Hi("item"),valueClass:Hi("item-value"),onClick:()=>{t("update:modelValue",r.id),t("select",r,o)}},{icon:()=>C.createVNode(vt,{name:"edit",class:Hi("edit"),onClick:e=>{e.stopPropagation(),t("edit",r,o)}},null),value:()=>{const t=[`${r.name}${r.tel}`];return r.isDefault&&e.defaultTagText&&t.push(C.createVNode(xo,{type:"danger",round:!0,class:Hi("item-tag")},{default:()=>[e.defaultTagText]})),t},"right-icon":()=>C.createVNode(Oo,{class:Hi("radio"),name:r.id,iconSize:16},null)});return()=>C.createVNode("div",{class:Hi()},[C.createVNode(To,{modelValue:e.modelValue,class:Hi("group")},{default:()=>[e.list&&e.list.map(r)]}),C.createVNode("div",{class:[Hi("bottom"),"van-safe-area-bottom"]},[C.createVNode(xt,{round:!0,block:!0,type:"danger",class:Hi("add"),text:e.addText||Wi("addContact"),onClick:()=>t("add")},null)])])}}));s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");const[ji,Gi]=Ve("count-down"),Yi={time:y(0),format:T("HH:mm:ss"),autoStart:g,millisecond:Boolean};qe(C.defineComponent({name:ji,props:Yi,emits:["change","finish"],setup(e,{emit:t,slots:r}){const{start:o,pause:n,reset:i,current:s}=M({time:+e.time,millisecond:e.millisecond,onChange:e=>t("change",e),onFinish:()=>t("finish")}),a=C.computed((()=>function(e,t){const{days:r}=t;let{hours:o,minutes:n,seconds:i,milliseconds:s}=t;if(e.includes("DD")?e=e.replace("DD",Ie(r)):o+=24*r,e.includes("HH")?e=e.replace("HH",Ie(o)):n+=60*o,e.includes("mm")?e=e.replace("mm",Ie(n)):i+=60*n,e.includes("ss")?e=e.replace("ss",Ie(i)):s+=1e3*i,e.includes("S")){const t=Ie(s,3);e=e.includes("SSS")?e.replace("SSS",t):e.includes("SS")?e.replace("SS",t.slice(0,2)):e.replace("S",t.charAt(0))}return e}(e.format,s.value))),c=()=>{i(+e.time),e.autoStart&&o()};return C.watch((()=>e.time),c,{immediate:!0}),Qe({start:o,pause:n,reset:c}),()=>C.createVNode("div",{role:"timer",class:Gi()},[r.default?r.default(s.value):a.value])}}));s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");function qi(e){const t=new Date(1e3*e);return`${t.getFullYear()}.${Ie(t.getMonth()+1)}.${Ie(t.getDate())}`}const $i=e=>(e/100).toFixed(e%100==0?0:e%10==0?1:2),[Xi,Ki,Zi]=Ve("coupon");const Ji=qe(C.defineComponent({name:Xi,props:{chosen:Boolean,coupon:_(Object),disabled:Boolean,currency:T("")},setup(e){const t=C.computed((()=>{const{startAt:t,endAt:r}=e.coupon;return`${qi(t)} - ${qi(r)}`})),r=C.computed((()=>{const{coupon:t,currency:r}=e;if(t.valueDesc)return[t.valueDesc,C.createVNode("span",null,[t.unitDesc||""])];if(t.denominations){const e=$i(t.denominations);return[C.createVNode("span",null,[r]),` ${e}`]}return t.discount?Zi("discount",((o=t.discount)/10).toFixed(o%10==0?0:1)):"";var o})),o=C.computed((()=>{const t=$i(e.coupon.originCondition||0);return"0"===t?Zi("unlimited"):Zi("condition",t)}));return()=>{const{chosen:n,coupon:i,disabled:s}=e,a=s&&i.reason||i.description;return C.createVNode("div",{class:Ki({disabled:s})},[C.createVNode("div",{class:Ki("content")},[C.createVNode("div",{class:Ki("head")},[C.createVNode("h2",{class:Ki("amount")},[r.value]),C.createVNode("p",{class:Ki("condition")},[i.condition||o.value])]),C.createVNode("div",{class:Ki("body")},[C.createVNode("p",{class:Ki("name")},[i.name]),C.createVNode("p",{class:Ki("valid")},[t.value]),!s&&C.createVNode(li,{class:Ki("corner"),modelValue:n},null)])]),a&&C.createVNode("p",{class:Ki("description")},[a])])}}}));s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");const[Qi,es,ts]=Ve("coupon-cell"),rs={title:String,border:g,editable:g,coupons:m(),currency:T(""),chosenCoupon:y(-1)};function os({coupons:e,chosenCoupon:t,currency:r}){const o=e[+t];if(o){let e=0;return Z(o.value)?({value:e}=o):Z(o.denominations)&&(e=o.denominations),`-${r} ${(e/100).toFixed(2)}`}return 0===e.length?ts("noCoupon"):ts("count",e.length)}qe(C.defineComponent({name:Qi,props:rs,setup:e=>()=>{const t=e.coupons[+e.chosenCoupon];return C.createVNode(Cr,{class:es(),value:os(e),title:e.title||ts("title"),border:e.border,isLink:e.editable,valueClass:es("value",{selected:t})},null)}}));s("bgCzB");C=s("d4ofg"),b=s("liXpq"),a=s("7sCZa");s("bgCzB");C=s("d4ofg"),b=s("liXpq"),a=s("7sCZa");s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");const ns=e=>`van-empty-${e}`,is=e=>`url(#${ns(e)})`,ss=(e,t,r)=>C.createVNode("stop",{"stop-color":e,offset:`${t}%`,"stop-opacity":r},null),as=(e,t)=>[ss(e,0),ss(t,100)],cs=e=>[C.createVNode("defs",null,[C.createVNode("radialGradient",{id:ns(e),cx:"50%",cy:"54%",fx:"50%",fy:"54%",r:"297%",gradientTransform:"matrix(-.16 0 0 -.33 .58 .72)"},[ss("#EBEDF0",0),ss("#F2F3F5",100,.3)])]),C.createVNode("ellipse",{fill:is(e),opacity:".8",cx:"80",cy:"140",rx:"46",ry:"8"},null)],ls=()=>[C.createVNode("defs",null,[C.createVNode("linearGradient",{id:ns("a"),x1:"64%",y1:"100%",x2:"64%"},[ss("#FFF",0,.5),ss("#F2F3F5",100)])]),C.createVNode("g",{opacity:".8"},[C.createVNode("path",{d:"M36 131V53H16v20H2v58h34z",fill:is("a")},null),C.createVNode("path",{d:"M123 15h22v14h9v77h-31V15z",fill:is("a")},null)])],us=()=>[C.createVNode("defs",null,[C.createVNode("linearGradient",{id:ns("b"),x1:"64%",y1:"97%",x2:"64%",y2:"0%"},[ss("#F2F3F5",0,.3),ss("#F2F3F5",100)])]),C.createVNode("g",{opacity:".8"},[C.createVNode("path",{d:"M87 6c3 0 7 3 8 6a8 8 0 1 1-1 16H80a7 7 0 0 1-8-6c0-4 3-7 6-7 0-5 4-9 9-9Z",fill:is("b")},null),C.createVNode("path",{d:"M19 23c2 0 3 1 4 3 2 0 4 2 4 4a4 4 0 0 1-4 3v1h-7v-1l-1 1c-2 0-3-2-3-4 0-1 1-3 3-3 0-2 2-4 4-4Z",fill:is("b")},null)])],[ds,ps]=Ve("empty"),fs={error:()=>C.createVNode("svg",{viewBox:"0 0 160 160"},[C.createVNode("defs",null,[C.createVNode("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:ns(8)},[as("#EAEDF1","#DCDEE0")])]),ls(),us(),cs("c"),C.createVNode("path",{d:"m59 60 21 21 21-21h3l9 9v3L92 93l21 21v3l-9 9h-3l-21-21-21 21h-3l-9-9v-3l21-21-21-21v-3l9-9h3Z",fill:is(8)},null)]),search:()=>C.createVNode("svg",{viewBox:"0 0 160 160"},[C.createVNode("defs",null,[C.createVNode("linearGradient",{x1:"50%",y1:"100%",x2:"50%",id:ns(9)},[as("#EEE","#D8D8D8")]),C.createVNode("linearGradient",{x1:"100%",y1:"50%",y2:"50%",id:ns(10)},[as("#F2F3F5","#DCDEE0")]),C.createVNode("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:ns(11)},[as("#F2F3F5","#DCDEE0")]),C.createVNode("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:ns(12)},[as("#FFF","#F7F8FA")])]),ls(),us(),cs("d"),C.createVNode("g",{transform:"rotate(-45 113 -4)",fill:"none"},[C.createVNode("rect",{fill:is(9),x:"24",y:"52.8",width:"5.8",height:"19",rx:"1"},null),C.createVNode("rect",{fill:is(10),x:"22.1",y:"67.3",width:"9.9",height:"28",rx:"1"},null),C.createVNode("circle",{stroke:is(11),"stroke-width":"8",cx:"27",cy:"27",r:"27"},null),C.createVNode("circle",{fill:is(12),cx:"27",cy:"27",r:"16"},null),C.createVNode("path",{d:"M37 7c-8 0-15 5-16 12",stroke:is(11),"stroke-width":"3",opacity:".5","stroke-linecap":"round",transform:"rotate(45 29 13)"},null)])]),network:()=>C.createVNode("svg",{viewBox:"0 0 160 160"},[C.createVNode("defs",null,[C.createVNode("linearGradient",{id:ns(1),x1:"64%",y1:"100%",x2:"64%"},[ss("#FFF",0,.5),ss("#F2F3F5",100)]),C.createVNode("linearGradient",{id:ns(2),x1:"50%",x2:"50%",y2:"84%"},[ss("#EBEDF0",0),ss("#DCDEE0",100,0)]),C.createVNode("linearGradient",{id:ns(3),x1:"100%",x2:"100%",y2:"100%"},[as("#EAEDF0","#DCDEE0")]),C.createVNode("radialGradient",{id:ns(4),cx:"50%",cy:"0%",fx:"50%",fy:"0%",r:"100%",gradientTransform:"matrix(0 1 -.54 0 .5 -.5)"},[ss("#EBEDF0",0),ss("#FFF",100,0)])]),C.createVNode("g",{fill:"none"},[ls(),C.createVNode("path",{fill:is(4),d:"M0 139h160v21H0z"},null),C.createVNode("path",{d:"M80 54a7 7 0 0 1 3 13v27l-2 2h-2a2 2 0 0 1-2-2V67a7 7 0 0 1 3-13z",fill:is(2)},null),C.createVNode("g",{opacity:".6","stroke-linecap":"round","stroke-width":"7"},[C.createVNode("path",{d:"M64 47a19 19 0 0 0-5 13c0 5 2 10 5 13",stroke:is(3)},null),C.createVNode("path",{d:"M53 36a34 34 0 0 0 0 48",stroke:is(3)},null),C.createVNode("path",{d:"M95 73a19 19 0 0 0 6-13c0-5-2-9-6-13",stroke:is(3)},null),C.createVNode("path",{d:"M106 84a34 34 0 0 0 0-48",stroke:is(3)},null)]),C.createVNode("g",{transform:"translate(31 105)"},[C.createVNode("rect",{fill:"#EBEDF0",width:"98",height:"34",rx:"2"},null),C.createVNode("rect",{fill:"#FFF",x:"9",y:"8",width:"80",height:"18",rx:"1.1"},null),C.createVNode("rect",{fill:"#EBEDF0",x:"15",y:"12",width:"18",height:"6",rx:"1.1"},null)])])]),default:()=>C.createVNode("svg",{viewBox:"0 0 160 160"},[C.createVNode("defs",null,[C.createVNode("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:ns(5)},[as("#F2F3F5","#DCDEE0")]),C.createVNode("linearGradient",{x1:"95%",y1:"48%",x2:"5.5%",y2:"51%",id:ns(6)},[as("#EAEDF1","#DCDEE0")]),C.createVNode("linearGradient",{y1:"45%",x2:"100%",y2:"54%",id:ns(7)},[as("#EAEDF1","#DCDEE0")])]),ls(),us(),C.createVNode("g",{transform:"translate(36 50)",fill:"none"},[C.createVNode("g",{transform:"translate(8)"},[C.createVNode("rect",{fill:"#EBEDF0",opacity:".6",x:"38",y:"13",width:"36",height:"53",rx:"2"},null),C.createVNode("rect",{fill:is(5),width:"64",height:"66",rx:"2"},null),C.createVNode("rect",{fill:"#FFF",x:"6",y:"6",width:"52",height:"55",rx:"1"},null),C.createVNode("g",{transform:"translate(15 17)",fill:is(6)},[C.createVNode("rect",{width:"34",height:"6",rx:"1"},null),C.createVNode("path",{d:"M0 14h34v6H0z"},null),C.createVNode("rect",{y:"28",width:"34",height:"6",rx:"1"},null)])]),C.createVNode("rect",{fill:is(7),y:"61",width:"88",height:"28",rx:"1"},null),C.createVNode("rect",{fill:"#F7F8FA",x:"29",y:"72",width:"30",height:"6",rx:"1"},null)])])},hs={image:T("default"),imageSize:[Number,String,Array],description:String};const vs=qe(C.defineComponent({name:ds,props:hs,setup(e,{slots:t}){const r=()=>{const r=t.description?t.description():e.description;if(r)return C.createVNode("p",{class:ps("description")},[r])},o=()=>{if(t.default)return C.createVNode("div",{class:ps("bottom")},[t.default()])};return()=>{return C.createVNode("div",{class:ps()},[C.createVNode("div",{class:ps("image"),style:_e(e.imageSize)},[t.image?t.image():(null==(n=fs[e.image])?void 0:n.call(fs))||C.createVNode("img",{src:e.image},null)]),r(),o()]);var n}}}));const[gs,_s,ms]=Ve("coupon-list"),Es={code:T(""),coupons:m(),currency:T(""),showCount:g,emptyImage:String,chosenCoupon:E(-1),enabledTitle:String,disabledTitle:String,disabledCoupons:m(),showExchangeBar:g,showCloseButton:g,closeButtonText:String,inputPlaceholder:String,exchangeMinLength:E(1),exchangeButtonText:String,displayedCouponIndex:E(-1),exchangeButtonLoading:Boolean,exchangeButtonDisabled:Boolean};qe(C.defineComponent({name:gs,props:Es,emits:["change","exchange","update:code"],setup(e,{emit:t,slots:r}){const[o,n]=Xo(),i=b.ref(),s=b.ref(),c=b.ref(0),l=b.ref(0),u=b.ref(e.code),d=C.computed((()=>!e.exchangeButtonLoading&&(e.exchangeButtonDisabled||!u.value||u.value.length<e.exchangeMinLength))),p=()=>{const e=w(i).height,t=w(s).height+44;l.value=(e>t?e:ve.value)-t},f=()=>{t("exchange",u.value),e.code||(u.value="")},h=e=>{C.nextTick((()=>{var t;return null==(t=o.value[e])?void 0:t.scrollIntoView()}))},v=()=>C.createVNode(vs,{image:e.emptyImage},{default:()=>[C.createVNode("p",{class:_s("empty-tip")},[ms("noCoupon")])]}),g=()=>{if(e.showExchangeBar)return C.createVNode("div",{ref:s,class:_s("exchange-bar")},[C.createVNode(Mr,{modelValue:u.value,"onUpdate:modelValue":e=>u.value=e,clearable:!0,border:!1,class:_s("field"),placeholder:e.inputPlaceholder||ms("placeholder"),maxlength:"20"},null),C.createVNode(xt,{plain:!0,type:"danger",class:_s("exchange"),text:e.exchangeButtonText||ms("exchange"),loading:e.exchangeButtonLoading,disabled:d.value,onClick:f},null)])},_=()=>{const{coupons:o}=e,i=e.showCount?` (${o.length})`:"",s=(e.enabledTitle||ms("enable"))+i;return C.createVNode(Gn,{title:s},{default:()=>{var i;return[C.createVNode("div",{class:_s("list",{"with-bottom":e.showCloseButton}),style:{height:`${l.value}px`}},[o.map(((r,o)=>C.createVNode(Ji,{key:r.id,ref:n(o),coupon:r,chosen:o===e.chosenCoupon,currency:e.currency,onClick:()=>t("change",o)},null))),!o.length&&v(),null==(i=r["list-footer"])?void 0:i.call(r)])]}})},m=()=>{const{disabledCoupons:t}=e,o=e.showCount?` (${t.length})`:"",n=(e.disabledTitle||ms("disabled"))+o;return C.createVNode(Gn,{title:n},{default:()=>{var o;return[C.createVNode("div",{class:_s("list",{"with-bottom":e.showCloseButton}),style:{height:`${l.value}px`}},[t.map((t=>C.createVNode(Ji,{disabled:!0,key:t.id,coupon:t,currency:e.currency},null))),!t.length&&v(),null==(o=r["disabled-list-footer"])?void 0:o.call(r)])]}})};return C.watch((()=>e.code),(e=>{u.value=e})),C.watch(ve,p),C.watch(u,(e=>t("update:code",e))),C.watch((()=>e.displayedCouponIndex),h),C.onMounted((()=>{p(),h(e.displayedCouponIndex)})),()=>C.createVNode("div",{ref:i,class:_s()},[g(),C.createVNode(Yn,{active:c.value,"onUpdate:active":e=>c.value=e,class:_s("tab")},{default:()=>[_(),m()]}),C.createVNode("div",{class:_s("bottom")},[C.withDirectives(C.createVNode(xt,{round:!0,block:!0,type:"danger",class:_s("close"),text:e.closeButtonText||ms("close"),onClick:()=>t("change",-1)},null),[[a.vShow,e.showCloseButton]])])])}}));s("bgCzB");C=s("d4ofg"),b=s("liXpq");s("bgCzB");C=s("d4ofg"),b=s("liXpq");s("bgCzB");C=s("d4ofg"),b=s("liXpq");s("bgCzB");C=s("d4ofg"),b=s("liXpq");const[ys]=Ve("time-picker");var Ts=C.defineComponent({name:ys,props:l({},Ko,{minHour:y(0),maxHour:y(23),minMinute:y(0),maxMinute:y(59),modelValue:String}),emits:["confirm","cancel","change","update:modelValue"],setup(e,{emit:t,slots:r}){const o=t=>{const{minHour:r,maxHour:o,maxMinute:n,minMinute:i}=e;t||(t=`${Ie(r)}:${Ie(i)}`);let[s,a]=t.split(":");return s=Ie(xe(+s,+r,+o)),a=Ie(xe(+a,+i,+n)),`${s}:${a}`},n=b.ref(),i=b.ref(o(e.modelValue)),s=C.computed((()=>[{type:"hour",range:[+e.minHour,+e.maxHour]},{type:"minute",range:[+e.minMinute,+e.maxMinute]}])),a=C.computed((()=>s.value.map((({type:t,range:r})=>{let o=Jo(r[1]-r[0]+1,(e=>Ie(r[0]+e)));return e.filter&&(o=e.filter(t,o)),{type:t,values:o}})))),c=C.computed((()=>a.value.map((t=>({values:t.values.map((r=>e.formatter(t.type,r)))}))))),l=()=>{const t=i.value.split(":"),r=[e.formatter("hour",t[0]),e.formatter("minute",t[1])];C.nextTick((()=>{var e;null==(e=n.value)||e.setValues(r)}))},u=()=>{const[e,t]=n.value.getIndexes(),[r,s]=a.value,c=r.values[e]||r.values[0],u=s.values[t]||s.values[0];i.value=o(`${c}:${u}`),l()},d=()=>t("confirm",i.value),f=()=>t("cancel"),h=()=>{u(),C.nextTick((()=>{C.nextTick((()=>t("change",i.value)))}))};return C.onMounted((()=>{l(),C.nextTick(u)})),C.watch(c,l),C.watch((()=>[e.filter,e.maxHour,e.minMinute,e.maxMinute]),u),C.watch((()=>e.minHour),(()=>{C.nextTick(u)})),C.watch(i,(e=>t("update:modelValue",e))),C.watch((()=>e.modelValue),(e=>{(e=o(e))!==i.value&&(i.value=e,l())})),Qe({getPicker:()=>n.value&&en(n.value,u)}),()=>C.createVNode(dr,C.mergeProps({ref:n,columns:c.value,onChange:h,onCancel:f,onConfirm:d},p(e,Zo)),r)}});s("bgCzB");C=s("d4ofg"),b=s("liXpq");s("bgCzB");C=s("d4ofg"),b=s("liXpq");const bs=(new Date).getFullYear(),[Cs]=Ve("date-picker");var Is=C.defineComponent({name:Cs,props:l({},Ko,{type:T("datetime"),modelValue:Date,minDate:{type:Date,default:()=>new Date(bs-10,0,1),validator:te},maxDate:{type:Date,default:()=>new Date(bs+10,11,31),validator:te}}),emits:["confirm","cancel","change","update:modelValue"],setup(e,{emit:t,slots:r}){const o=t=>{if(te(t)){const r=xe(t.getTime(),e.minDate.getTime(),e.maxDate.getTime());return new Date(r)}},n=b.ref(),i=b.ref(o(e.modelValue)),s=(t,r)=>{const o=e[`${t}Date`],n=o.getFullYear();let i=1,s=1,a=0,c=0;return"max"===t&&(i=12,s=Qo(r.getFullYear(),r.getMonth()+1),a=23,c=59),r.getFullYear()===n&&(i=o.getMonth()+1,r.getMonth()+1===i&&(s=o.getDate(),r.getDate()===s&&(a=o.getHours(),r.getHours()===a&&(c=o.getMinutes())))),{[`${t}Year`]:n,[`${t}Month`]:i,[`${t}Date`]:s,[`${t}Hour`]:a,[`${t}Minute`]:c}},a=C.computed((()=>{const{maxYear:t,maxDate:r,maxMonth:o,maxHour:n,maxMinute:a}=s("max",i.value||e.minDate),{minYear:c,minDate:l,minMonth:u,minHour:d,minMinute:p}=s("min",i.value||e.minDate);let f=[{type:"year",range:[c,t]},{type:"month",range:[u,o]},{type:"day",range:[l,r]},{type:"hour",range:[d,n]},{type:"minute",range:[p,a]}];switch(e.type){case"date":f=f.slice(0,3);break;case"year-month":f=f.slice(0,2);break;case"month-day":f=f.slice(1,3);break;case"datehour":f=f.slice(0,4)}if(e.columnsOrder){const t=e.columnsOrder.concat(f.map((e=>e.type)));f.sort(((e,r)=>t.indexOf(e.type)-t.indexOf(r.type)))}return f})),c=C.computed((()=>a.value.map((({type:t,range:r})=>{let o=Jo(r[1]-r[0]+1,(e=>Ie(r[0]+e)));return e.filter&&(o=e.filter(t,o)),{type:t,values:o}})))),l=C.computed((()=>c.value.map((t=>({values:t.values.map((r=>e.formatter(t.type,r)))}))))),u=()=>{const t=i.value||e.minDate,{formatter:r}=e,o=c.value.map((e=>{switch(e.type){case"year":return r("year",`${t.getFullYear()}`);case"month":return r("month",Ie(t.getMonth()+1));case"day":return r("day",Ie(t.getDate()));case"hour":return r("hour",Ie(t.getHours()));case"minute":return r("minute",Ie(t.getMinutes()));default:return""}}));C.nextTick((()=>{var e;null==(e=n.value)||e.setValues(o)}))},d=()=>{const{type:t}=e,r=n.value.getIndexes(),s=e=>{let t=0;c.value.forEach(((r,o)=>{e===r.type&&(t=o)}));const{values:o}=c.value[t];return function(e){if(!e)return 0;for(;Number.isNaN(parseInt(e,10));){if(!(e.length>1))return 0;e=e.slice(1)}return parseInt(e,10)}(o[r[t]])};let a,l,u;"month-day"===t?(a=(i.value||e.minDate).getFullYear(),l=s("month"),u=s("day")):(a=s("year"),l=s("month"),u="year-month"===t?1:s("day"));const d=Qo(a,l);u=u>d?d:u;let p=0,f=0;"datehour"===t&&(p=s("hour")),"datetime"===t&&(p=s("hour"),f=s("minute"));const h=new Date(a,l-1,u,p,f);i.value=o(h)},f=()=>{t("update:modelValue",i.value),t("confirm",i.value)},h=()=>t("cancel"),v=()=>{d(),C.nextTick((()=>{d(),C.nextTick((()=>t("change",i.value)))}))};return C.onMounted((()=>{u(),C.nextTick(d)})),C.watch(l,u),C.watch(i,((e,r)=>t("update:modelValue",r?e:null))),C.watch((()=>[e.filter,e.minDate,e.maxDate]),(()=>{C.nextTick(d)})),C.watch((()=>e.modelValue),(e=>{var t;(e=o(e))&&e.valueOf()!==(null==(t=i.value)?void 0:t.valueOf())&&(i.value=e)})),Qe({getPicker:()=>n.value&&en(n.value,d)}),()=>C.createVNode(dr,C.mergeProps({ref:n,columns:l.value,onChange:v,onCancel:h,onConfirm:f},p(e,Zo)),r)}});const[xs,As]=Ve("datetime-picker"),Ss=Object.keys(Ts.props),Ds=Object.keys(Is.props),ws=l({},Ts.props,Is.props,{modelValue:[String,Date]});qe(C.defineComponent({name:xs,props:ws,setup(e,{attrs:t,slots:r}){const o=b.ref();return Qe({getPicker:()=>{var e;return null==(e=o.value)?void 0:e.getPicker()}}),()=>{const n="time"===e.type,i=n?Ts:Is,s=p(e,n?Ss:Ds);return C.createVNode(i,C.mergeProps({ref:o,class:As()},s,t),r)}}}));s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg"),b=s("liXpq"),a=s("7sCZa");s("bgCzB");C=s("d4ofg"),b=s("liXpq"),a=s("7sCZa");const[Os,Ns,Rs]=Ve("dialog"),Bs=l({},Bt,{title:String,theme:String,width:v,message:[String,Function],callback:Function,allowHtml:Boolean,className:h,transition:T("van-dialog-bounce"),messageAlign:String,closeOnPopstate:g,showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,confirmButtonText:String,confirmButtonColor:String,showConfirmButton:g,closeOnClickOverlay:Boolean}),Ps=[...Pt,"transition","closeOnPopstate"];var Ls=C.defineComponent({name:Os,props:Bs,emits:["confirm","cancel","keydown","update:show"],setup(e,{emit:t,slots:r}){const o=b.ref(),n=b.reactive({confirm:!1,cancel:!1}),i=e=>t("update:show",e),s=t=>{var r;i(!1),null==(r=e.callback)||r.call(e,t)},l=r=>()=>{e.show&&(t(r),e.beforeClose?(n[r]=!0,Ye(e.beforeClose,{args:[r],done(){s(r),n[r]=!1},canceled(){n[r]=!1}})):s(r))},u=l("cancel"),d=l("confirm"),f=a.withKeys((r=>{var n,i;if(r.target!==(null==(i=null==(n=o.value)?void 0:n.popupRef)?void 0:i.value))return;({Enter:e.showConfirmButton?d:c,Escape:e.showCancelButton?u:c})[r.key](),t("keydown",r)}),["enter","esc"]),h=()=>{const t=r.title?r.title():e.title;if(t)return C.createVNode("div",{class:Ns("header",{isolated:!e.message&&!r.default})},[t])},v=t=>{const{message:r,allowHtml:o,messageAlign:n}=e,i=Ns("message",{"has-title":t,[n]:n}),s=J(r)?r():r;return o&&"string"==typeof s?C.createVNode("div",{class:i,innerHTML:s},null):C.createVNode("div",{class:i},[s])},g=()=>{if(r.default)return C.createVNode("div",{class:Ns("content")},[r.default()]);const{title:t,message:o,allowHtml:n}=e;if(o){const e=!(!t&&!r.title);return C.createVNode("div",{key:n?1:0,class:Ns("content",{isolated:!e})},[v(e)])}},_=()=>r.footer?r.footer():"round-button"===e.theme?C.createVNode(Je,{class:Ns("footer")},{default:()=>[e.showCancelButton&&C.createVNode(wt,{type:"warning",text:e.cancelButtonText||Rs("cancel"),class:Ns("cancel"),color:e.cancelButtonColor,loading:n.cancel,onClick:u},null),e.showConfirmButton&&C.createVNode(wt,{type:"danger",text:e.confirmButtonText||Rs("confirm"),class:Ns("confirm"),color:e.confirmButtonColor,loading:n.confirm,onClick:d},null)]}):C.createVNode("div",{class:[Me,Ns("footer")]},[e.showCancelButton&&C.createVNode(xt,{size:"large",text:e.cancelButtonText||Rs("cancel"),class:Ns("cancel"),style:{color:e.cancelButtonColor},loading:n.cancel,onClick:u},null),e.showConfirmButton&&C.createVNode(xt,{size:"large",text:e.confirmButtonText||Rs("confirm"),class:[Ns("confirm"),{[Fe]:e.showCancelButton}],style:{color:e.confirmButtonColor},loading:n.confirm,onClick:d},null)]);return()=>{const{width:t,title:r,theme:n,message:s,className:a}=e;return C.createVNode(Xt,C.mergeProps({ref:o,role:"dialog",class:[Ns([n]),a],style:{width:ge(t)},tabindex:0,"aria-labelledby":r||s,onKeydown:f,"onUpdate:show":i},p(e,Ps)),{default:()=>[h(),g(),_()]})}}});let Us;function Vs(e){return u?new Promise(((t,r)=>{Us||function(){const e={setup(){const{state:e,toggle:t}=Fr();return()=>C.createVNode(Ls,C.mergeProps(e,{"onUpdate:show":t}),null)}};({instance:Us}=Hr(e))}(),Us.open(l({},Vs.currentOptions,e,{callback:e=>{("confirm"===e?t:r)(e)}}))})):Promise.resolve()}Vs.defaultOptions={title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,confirmButtonText:"",confirmButtonColor:null,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1},Vs.currentOptions=l({},Vs.defaultOptions),Vs.alert=Vs,Vs.confirm=e=>Vs(l({showCancelButton:!0},e)),Vs.close=()=>{Us&&Us.toggle(!1)},Vs.setDefaultOptions=e=>{l(Vs.currentOptions,e)},Vs.resetDefaultOptions=()=>{Vs.currentOptions=l({},Vs.defaultOptions)},Vs.Component=qe(Ls),Vs.install=e=>{e.use(Vs.Component),e.config.globalProperties.$dialog=Vs};s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");const[ks,Ms]=Ve("divider"),Fs={dashed:Boolean,hairline:g,contentPosition:T("center")};qe(C.defineComponent({name:ks,props:Fs,setup:(e,{slots:t})=>()=>{var r;return C.createVNode("div",{role:"separator",class:Ms({dashed:e.dashed,hairline:e.hairline,[`content-${e.contentPosition}`]:!!t.default})},[null==(r=t.default)?void 0:r.call(t)])}}));s("bgCzB");C=s("d4ofg"),b=s("liXpq"),a=s("7sCZa");s("bgCzB");C=s("d4ofg"),b=s("liXpq"),a=s("7sCZa");s("bgCzB");C=s("d4ofg"),b=s("liXpq");s("bgCzB");C=s("d4ofg"),b=s("liXpq");const[Hs,Ws]=Ve("dropdown-menu"),zs={overlay:g,zIndex:v,duration:y(.2),direction:T("down"),activeColor:String,closeOnClickOutside:g,closeOnClickOverlay:g},js=Symbol(Hs);var Gs=C.defineComponent({name:Hs,props:zs,setup(e,{slots:t}){const r=Pr(),o=b.ref(),n=b.ref(),i=b.ref(0),{children:s,linkChildren:a}=R(js),c=$(o),l=C.computed((()=>s.some((e=>e.state.showWrapper)))),u=C.computed((()=>{if(l.value&&Z(e.zIndex))return{zIndex:+e.zIndex+1}})),d=()=>{if(n.value){const t=w(n);"down"===e.direction?i.value=t.bottom:i.value=ve.value-t.top}},p=(t,o)=>{const{showPopup:n}=t.state,{disabled:i,titleClass:a}=t;return C.createVNode("div",{id:`${r}-${o}`,role:"button",tabindex:i?void 0:0,class:[Ws("item",{disabled:i}),{[je]:!i}],onClick:()=>{var e;i||(e=o,s.forEach(((t,r)=>{r===e?(d(),t.toggle()):t.state.showPopup&&t.toggle(!1,{immediate:!0})})))}},[C.createVNode("span",{class:[Ws("title",{down:n===("down"===e.direction),active:n}),a],style:{color:n?e.activeColor:""}},[C.createVNode("div",{class:"van-ellipsis"},[t.renderTitle()])])])};return a({id:r,props:e,offset:i}),W(o,(()=>{e.closeOnClickOutside&&s.forEach((e=>{e.toggle(!1)}))})),H("scroll",(()=>{l.value&&d()}),{target:c}),()=>{var e;return C.createVNode("div",{ref:o,class:Ws()},[C.createVNode("div",{ref:n,style:u.value,class:Ws("bar",{opened:l.value})},[s.map(p)]),null==(e=t.default)?void 0:e.call(t)])}}});const[Ys,qs]=Ve("dropdown-item"),$s={title:String,options:m(),disabled:Boolean,teleport:[String,Object],lazyRender:g,modelValue:h,titleClass:h};qe(C.defineComponent({name:Ys,props:$s,emits:["open","opened","close","closed","change","update:modelValue"],setup(e,{emit:t,slots:r}){const o=b.reactive({showPopup:!1,transition:!0,showWrapper:!1}),{parent:n,index:i}=O(js);if(!n)return;const s=e=>()=>t(e),c=s("open"),l=s("close"),u=s("opened"),d=()=>{o.showWrapper=!1,t("closed")},p=t=>{e.teleport&&t.stopPropagation()},f=r=>{const{activeColor:i}=n.props,s=r.value===e.modelValue;return C.createVNode(Cr,{role:"menuitem",key:r.value,icon:r.icon,title:r.text,class:qs("option",{active:s}),style:{color:s?i:""},tabindex:s?0:-1,clickable:!0,onClick:()=>{o.showPopup=!1,r.value!==e.modelValue&&(t("update:modelValue",r.value),t("change",r.value))}},{value:()=>{if(s)return C.createVNode(vt,{class:qs("icon"),color:i,name:"success"},null)}})},h=()=>{const{offset:t}=n,{zIndex:s,overlay:h,duration:v,direction:g,closeOnClickOverlay:_}=n.props,m=me(s);return"down"===g?m.top=`${t.value}px`:m.bottom=`${t.value}px`,C.withDirectives(C.createVNode("div",{style:m,class:qs([g]),onClick:p},[C.createVNode(Xt,{show:o.showPopup,"onUpdate:show":e=>o.showPopup=e,role:"menu",class:qs("content"),overlay:h,position:"down"===g?"top":"bottom",duration:o.transition?v:0,lazyRender:e.lazyRender,overlayStyle:{position:"absolute"},"aria-labelledby":`${n.id}-${i.value}`,closeOnClickOverlay:_,onOpen:c,onClose:l,onOpened:u,onClosed:d},{default:()=>{var t;return[e.options.map(f),null==(t=r.default)?void 0:t.call(r)]}})]),[[a.vShow,o.showWrapper]])};return Qe({state:o,toggle:(e=!o.showPopup,t={})=>{e!==o.showPopup&&(o.showPopup=e,o.transition=!t.immediate,e&&(o.showWrapper=!0))},renderTitle:()=>{if(r.title)return r.title();if(e.title)return e.title;const t=e.options.find((t=>t.value===e.modelValue));return t?t.text:""}}),()=>e.teleport?C.createVNode(C.Teleport,{to:e.teleport},{default:()=>[h()]}):h()}}));qe(Gs);s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");const[Xs,Ks]=Ve("grid"),Zs={square:Boolean,center:g,border:g,gutter:v,reverse:Boolean,iconSize:v,direction:String,clickable:Boolean,columnNum:y(4)},Js=Symbol(Xs);qe(C.defineComponent({name:Xs,props:Zs,setup(e,{slots:t}){const{linkChildren:r}=R(Js);return r({props:e}),()=>{var r;return C.createVNode("div",{style:{paddingLeft:ge(e.gutter)},class:[Ks(),{[Me]:e.border&&!e.gutter}]},[null==(r=t.default)?void 0:r.call(t)])}}}));s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");const[Qs,ea]=Ve("grid-item"),ta=l({},et,{dot:Boolean,text:String,icon:String,badge:v,iconColor:String,iconPrefix:String,badgeProps:Object});qe(C.defineComponent({name:Qs,props:ta,setup(e,{slots:t}){const{parent:r,index:o}=O(Js),n=rt();if(!r)return;const i=C.computed((()=>{const{square:e,gutter:t,columnNum:n}=r.props,i=100/+n+"%",s={flexBasis:i};if(e)s.paddingTop=i;else if(t){const e=ge(t);s.paddingRight=e,o.value>=n&&(s.marginTop=e)}return s})),s=C.computed((()=>{const{square:e,gutter:t}=r.props;if(e&&t){const e=ge(t);return{right:e,bottom:e,height:"auto"}}}));return()=>{const{center:o,border:a,square:c,gutter:l,reverse:u,direction:d,clickable:p}=r.props,f=[ea("content",[d,{center:o,square:c,reverse:u,clickable:p,surround:a&&l}]),{[ke]:a}];return C.createVNode("div",{class:[ea({square:c})],style:i.value},[C.createVNode("div",{role:p?"button":void 0,class:f,style:s.value,tabindex:p?0:void 0,onClick:n},[t.default?t.default():[t.icon?C.createVNode(st,C.mergeProps({dot:e.dot,content:e.badge},e.badgeProps),{default:t.icon}):e.icon?C.createVNode(vt,{dot:e.dot,name:e.icon,size:r.props.iconSize,badge:e.badge,class:ea("icon"),color:e.iconColor,badgeProps:e.badgeProps,classPrefix:e.iconPrefix},null):void 0,t.text?t.text():e.text?C.createVNode("span",{class:ea("text")},[e.text]):void 0]])])}}}));s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg"),b=s("liXpq");s("bgCzB");C=s("d4ofg"),b=s("liXpq");s("bgCzB");C=s("d4ofg"),b=s("liXpq");s("bgCzB");C=s("d4ofg"),b=s("liXpq");const ra=e=>Math.sqrt((e[0].clientX-e[1].clientX)**2+(e[0].clientY-e[1].clientY)**2),oa=Ve("image-preview")[1];var na=C.defineComponent({props:{src:String,show:Boolean,active:Number,minZoom:_(v),maxZoom:_(v),rootWidth:_(Number),rootHeight:_(Number)},emits:["scale","close"],setup(e,{emit:t}){const r=b.reactive({scale:1,moveX:0,moveY:0,moving:!1,zooming:!1,imageRatio:0,displayWidth:0,displayHeight:0}),o=Lt(),n=C.computed((()=>{const{rootWidth:t,rootHeight:o}=e,n=o/t;return r.imageRatio>n})),i=C.computed((()=>{const{scale:e,moveX:t,moveY:o,moving:n,zooming:i}=r,s={transitionDuration:i||n?"0s":".3s"};if(1!==e){const r=t/e,n=o/e;s.transform=`scale(${e}, ${e}) translate(${r}px, ${n}px)`}return s})),s=C.computed((()=>{if(r.imageRatio){const{rootWidth:t,rootHeight:o}=e,i=n.value?o/r.imageRatio:t;return Math.max(0,(r.scale*i-t)/2)}return 0})),a=C.computed((()=>{if(r.imageRatio){const{rootWidth:t,rootHeight:o}=e,i=n.value?o:t*r.imageRatio;return Math.max(0,(r.scale*i-o)/2)}return 0})),c=o=>{(o=xe(o,+e.minZoom,+e.maxZoom+1))!==r.scale&&(r.scale=o,t("scale",{scale:o,index:e.active}))},l=()=>{c(1),r.moveX=0,r.moveY=0};let u,d,p,f,h,v,g;const _=e=>{const{touches:t}=e,{offsetX:n}=o;o.start(e),u=t.length,d=r.moveX,p=r.moveY,g=Date.now(),r.moving=1===u&&1!==r.scale,r.zooming=2===u&&!n.value,r.zooming&&(f=r.scale,h=ra(e.touches))},m=e=>{const{touches:t}=e;if(o.move(e),(r.moving||r.zooming)&&pe(e,!0),r.moving){const{deltaX:e,deltaY:t}=o,n=e.value+d,i=t.value+p;r.moveX=xe(n,-s.value,s.value),r.moveY=xe(i,-a.value,a.value)}if(r.zooming&&2===t.length){const e=ra(t);c(f*e/h)}},E=()=>{if(u>1)return;const{offsetX:e,offsetY:n}=o,i=Date.now()-g;e.value<5&&n.value<5&&i<250&&(v?(clearTimeout(v),v=null,(()=>{const e=r.scale>1?1:2;c(e),r.moveX=0,r.moveY=0})()):v=setTimeout((()=>{t("close"),v=null}),250))},y=t=>{let n=!1;(r.moving||r.zooming)&&(n=!0,r.moving&&d===r.moveX&&p===r.moveY&&(n=!1),t.touches.length||(r.zooming&&(r.moveX=xe(r.moveX,-s.value,s.value),r.moveY=xe(r.moveY,-a.value,a.value),r.zooming=!1),r.moving=!1,d=0,p=0,f=1,r.scale<1&&l(),r.scale>e.maxZoom&&(r.scale=+e.maxZoom))),pe(t,n),E(),o.reset()},T=e=>{const{naturalWidth:t,naturalHeight:o}=e.target;r.imageRatio=o/t};return C.watch((()=>e.active),l),C.watch((()=>e.show),(e=>{e||l()})),()=>{const t={loading:()=>C.createVNode(Tt,{type:"spinner"},null)};return C.createVNode(Hn,{class:oa("swipe-item"),onTouchstart:_,onTouchmove:m,onTouchend:y,onTouchcancel:y},{default:()=>[C.createVNode(hn,{src:e.src,fit:"contain",class:oa("image",{vertical:n.value}),style:i.value,onLoad:T},t)]})}}});const[ia,sa]=Ve("image-preview"),aa=["show","transition","overlayStyle","closeOnPopstate"],ca={show:Boolean,loop:g,images:m(),minZoom:y(1/3),maxZoom:y(3),overlay:g,closeable:Boolean,showIndex:g,className:h,closeIcon:T("clear"),transition:String,beforeClose:Function,overlayClass:h,overlayStyle:Object,swipeDuration:y(300),startPosition:y(0),showIndicators:Boolean,closeOnPopstate:g,closeIconPosition:T("top-right")};var la=C.defineComponent({name:ia,props:ca,emits:["scale","close","closed","change","update:show"],setup(e,{emit:t,slots:r}){const o=b.ref(),n=b.reactive({active:0,rootWidth:0,rootHeight:0}),i=()=>{if(o.value){const e=w(o.value.$el);n.rootWidth=e.width,n.rootHeight=e.height,o.value.resize()}},s=e=>t("scale",e),a=e=>t("update:show",e),c=()=>{Ye(e.beforeClose,{args:[n.active],done:()=>a(!1)})},l=e=>{e!==n.active&&(n.active=e,t("change",e))},u=()=>{if(e.showIndex)return C.createVNode("div",{class:sa("index")},[r.index?r.index({index:n.active}):`${n.active+1} / ${e.images.length}`])},d=()=>{if(r.cover)return C.createVNode("div",{class:sa("cover")},[r.cover()])},f=()=>{if(e.closeable)return C.createVNode(vt,{role:"button",name:e.closeIcon,class:[sa("close-icon",e.closeIconPosition),je],onClick:c},null)},h=()=>t("closed"),v=(e,t)=>{var r;return null==(r=o.value)?void 0:r.swipeTo(e,t)};return Qe({swipeTo:v}),C.onMounted(i),C.watch([he,ve],i),C.watch((()=>e.startPosition),(e=>l(+e))),C.watch((()=>e.show),(r=>{const{images:o,startPosition:s}=e;r?(l(+s),C.nextTick((()=>{i(),v(+s,{immediate:!0})}))):t("close",{index:n.active,url:o[n.active]})})),()=>C.createVNode(Xt,C.mergeProps({class:[sa(),e.className],overlayClass:[sa("overlay"),e.overlayClass],onClosed:h,"onUpdate:show":a},p(e,aa)),{default:()=>[f(),C.createVNode(wn,{ref:o,lazyRender:!0,loop:e.loop,class:sa("swipe"),duration:e.swipeDuration,initialSwipe:e.startPosition,showIndicators:e.showIndicators,indicatorColor:"white",onChange:l},{default:()=>[e.images.map((t=>C.createVNode(na,{src:t,show:e.show,active:n.active,maxZoom:e.maxZoom,minZoom:e.minZoom,rootWidth:n.rootWidth,rootHeight:n.rootHeight,onScale:s,onClose:c},null)))]}),u(),d()]})}});let ua;const da={loop:!0,images:[],maxZoom:3,minZoom:1/3,onScale:void 0,onClose:void 0,onChange:void 0,teleport:"body",className:"",showIndex:!0,closeable:!1,closeIcon:"clear",transition:void 0,beforeClose:void 0,overlayStyle:void 0,overlayClass:void 0,startPosition:0,swipeDuration:300,showIndicators:!1,closeOnPopstate:!0,closeIconPosition:"top-right"};const pa=(e,t=0)=>{if(u)return ua||({instance:ua}=Hr({setup(){const{state:e,toggle:t}=Fr(),r=()=>{e.images=[]};return()=>C.createVNode(la,C.mergeProps(e,{onClosed:r,"onUpdate:show":t}),null)}})),e=Array.isArray(e)?{images:e,startPosition:t}:e,ua.open(l({},da,e)),ua};pa.Component=qe(la),pa.install=e=>{e.use(pa.Component)};s("bgCzB");C=s("d4ofg"),b=s("liXpq");s("bgCzB");C=s("d4ofg"),b=s("liXpq");s("bgCzB");C=s("d4ofg"),b=s("liXpq");s("bgCzB");C=s("d4ofg"),b=s("liXpq");const[fa,ha]=Ve("index-bar"),va={sticky:g,zIndex:v,teleport:[String,Object],highlightColor:String,stickyOffsetTop:E(0),indexList:{type:Array,default:function(){const e="A".charCodeAt(0);return Array(26).fill("").map(((t,r)=>String.fromCharCode(e+r)))}}},ga=Symbol(fa);var _a=C.defineComponent({name:fa,props:va,emits:["select","change"],setup(e,{emit:t,slots:r}){const o=b.ref(),n=b.ref(""),i=Lt(),s=$(o),{children:a,linkChildren:c}=R(ga);let l;c({props:e});const u=C.computed((()=>{if(Z(e.zIndex))return{zIndex:+e.zIndex+1}})),d=C.computed((()=>{if(e.highlightColor)return{color:e.highlightColor}})),p=(t,r)=>{for(let o=a.length-1;o>=0;o--){const n=o>0?r[o-1].height:0;if(t+(e.sticky?n+e.stickyOffsetTop:0)>=r[o].top)return o}return-1},f=e=>a.find((t=>String(t.index)===e)),h=()=>{if(fe(o))return;const{sticky:t,indexList:r}=e,i=ne(s.value),c=w(s),u=a.map((e=>e.getRect(s.value,c)));let d=-1;if(l){const e=f(l);if(e){const t=e.getRect(s.value,c);d=p(t.top,u)}}else d=p(i,u);n.value=r[d],t&&a.forEach(((t,r)=>{const{state:o,$el:n}=t;if(r===d||r===d-1){const e=n.getBoundingClientRect();o.left=e.left,o.width=e.width}else o.left=null,o.width=null;if(r===d)o.active=!0,o.top=Math.max(e.stickyOffsetTop,u[r].top-i)+c.top;else if(r===d-1&&""===l){const e=u[d].top-i;o.active=e>0,o.top=e+c.top-u[r].height}else o.active=!1})),l=""},v=()=>{C.nextTick(h)};H("scroll",h,{target:s}),C.onMounted(v),C.watch((()=>e.indexList),v),C.watch(n,(e=>{e&&t("change",e)}));const g=r=>{l=String(r);const o=f(l);if(o){const r=ne(s.value),n=w(s),{offsetHeight:i}=document.documentElement;if(r===i-n.height)return void h();o.$el.scrollIntoView(),e.sticky&&e.stickyOffsetTop&&ae(se()-e.stickyOffsetTop),t("select",o.index)}},_=e=>{const{index:t}=e.dataset;t&&g(t)},m=e=>{_(e.target)};let E;const y=e=>{if(i.move(e),i.isVertical()){pe(e);const{clientX:t,clientY:r}=e.touches[0],o=document.elementFromPoint(t,r);if(o){const{index:e}=o.dataset;e&&E!==e&&(E=e,_(o))}}},T=()=>C.createVNode("div",{class:ha("sidebar"),style:u.value,onClick:m,onTouchstart:i.start,onTouchmove:y},[e.indexList.map((e=>{const t=e===n.value;return C.createVNode("span",{class:ha("index",{active:t}),style:t?d.value:void 0,"data-index":e},[e])}))]);return Qe({scrollTo:g}),()=>{var t;return C.createVNode("div",{ref:o,class:ha()},[e.teleport?C.createVNode(C.Teleport,{to:e.teleport},{default:()=>[T()]}):T(),null==(t=r.default)?void 0:t.call(r)])}}});const[ma,Ea]=Ve("index-anchor"),ya={index:v};qe(C.defineComponent({name:ma,props:ya,setup(e,{slots:t}){const r=b.reactive({top:0,left:null,rect:{top:0,height:0},width:null,active:!1}),o=b.ref(),{parent:n}=O(ga);if(!n)return;const i=()=>r.active&&n.props.sticky,s=C.computed((()=>{const{zIndex:e,highlightColor:t}=n.props;if(i())return l(me(e),{left:r.left?`${r.left}px`:void 0,width:r.width?`${r.width}px`:void 0,transform:r.top?`translate3d(0, ${r.top}px, 0)`:void 0,color:t})}));return Qe({state:r,getRect:(e,t)=>{const n=w(o);return r.rect.height=n.height,e===window||e===document.body?r.rect.top=n.top+se():r.rect.top=n.top+ne(e)-t.top,r.rect}}),()=>{const n=i();return C.createVNode("div",{ref:o,style:{height:n?`${r.rect.height}px`:void 0}},[C.createVNode("div",{style:s.value,class:[Ea({sticky:n}),{[He]:n}]},[t.default?t.default():e.index])])}}}));qe(_a);s("bgCzB");C=s("d4ofg"),b=s("liXpq");s("bgCzB");C=s("d4ofg"),b=s("liXpq");const[Ta,ba,Ca]=Ve("list"),Ia={error:Boolean,offset:y(300),loading:Boolean,finished:Boolean,errorText:String,direction:T("down"),loadingText:String,finishedText:String,immediateCheck:g};qe(C.defineComponent({name:Ta,props:Ia,emits:["load","update:error","update:loading"],setup(e,{emit:t,slots:r}){const o=b.ref(!1),n=b.ref(),i=b.ref(),s=C.inject(kn,null),a=$(n),c=()=>{C.nextTick((()=>{if(o.value||e.finished||e.error||!1===(null==s?void 0:s.value))return;const{offset:r,direction:c}=e,l=w(a);if(!l.height||fe(n))return;let u=!1;const d=w(i);u="up"===c?l.top-d.top<=r:d.bottom-l.bottom<=r,u&&(o.value=!0,t("update:loading",!0),t("load"))}))},l=()=>{if(e.finished){const t=r.finished?r.finished():e.finishedText;if(t)return C.createVNode("div",{class:ba("finished-text")},[t])}},u=()=>{t("update:error",!1),c()},d=()=>{if(e.error){const t=r.error?r.error():e.errorText;if(t)return C.createVNode("div",{role:"button",class:ba("error-text"),tabindex:0,onClick:u},[t])}},p=()=>{if(o.value&&!e.finished)return C.createVNode("div",{class:ba("loading")},[r.loading?r.loading():C.createVNode(Tt,{class:ba("loading-icon")},{default:()=>[e.loadingText||Ca("loading")]})])};return C.watch((()=>[e.loading,e.finished,e.error]),c),s&&C.watch(s,(e=>{e&&c()})),C.onUpdated((()=>{o.value=e.loading})),C.onMounted((()=>{e.immediateCheck&&c()})),Qe({check:c}),H("scroll",c,{target:a}),()=>{var t;const s=null==(t=r.default)?void 0:t.call(r),a=C.createVNode("div",{ref:i,class:ba("placeholder")},null);return C.createVNode("div",{ref:n,role:"feed",class:ba(),"aria-busy":o.value},["down"===e.direction?s:a,p(),l(),d(),"up"===e.direction?s:a])}}}));s("bgCzB");C=s("d4ofg"),b=s("liXpq");s("bgCzB");C=s("d4ofg"),b=s("liXpq");s("bgCzB");C=s("d4ofg");function xa(e,t){const r=tn(e);return e=>C.createVNode("div",{class:t("placeholder"),style:{height:r.value?`${r.value}px`:void 0}},[e()])}const[Aa,Sa]=Ve("nav-bar"),Da={title:String,fixed:Boolean,zIndex:v,border:g,leftText:String,rightText:String,leftArrow:Boolean,placeholder:Boolean,safeAreaInsetTop:Boolean};qe(C.defineComponent({name:Aa,props:Da,emits:["click-left","click-right"],setup(e,{emit:t,slots:r}){const o=b.ref(),n=xa(o,Sa),i=e=>t("click-left",e),s=e=>t("click-right",e),a=()=>{const{title:t,fixed:n,border:a,zIndex:c}=e,l=me(c),u=e.leftArrow||e.leftText||r.left,d=e.rightText||r.right;return C.createVNode("div",{ref:o,style:l,class:[Sa({fixed:n}),{[He]:a,"van-safe-area-top":e.safeAreaInsetTop}]},[C.createVNode("div",{class:Sa("content")},[u&&C.createVNode("div",{class:[Sa("left"),je],onClick:i},[r.left?r.left():[e.leftArrow&&C.createVNode(vt,{class:Sa("arrow"),name:"arrow-left"},null),e.leftText&&C.createVNode("span",{class:Sa("text")},[e.leftText])]]),C.createVNode("div",{class:[Sa("title"),"van-ellipsis"]},[r.title?r.title():t]),d&&C.createVNode("div",{class:[Sa("right"),je],onClick:s},[r.right?r.right():C.createVNode("span",{class:Sa("text")},[e.rightText])])])])};return()=>e.fixed&&e.placeholder?n(a):a()}}));s("bgCzB");C=s("d4ofg"),b=s("liXpq"),a=s("7sCZa");s("bgCzB");C=s("d4ofg"),b=s("liXpq"),a=s("7sCZa");const[wa,Oa]=Ve("notice-bar"),Na={text:String,mode:String,color:String,delay:y(1),speed:y(60),leftIcon:String,wrapable:Boolean,background:String,scrollable:{type:Boolean,default:null}};qe(C.defineComponent({name:wa,props:Na,emits:["close","replay"],setup(e,{emit:t,slots:r}){let o,n=0,i=0;const s=b.ref(),c=b.ref(),l=b.reactive({show:!0,offset:0,duration:0}),u=r=>{"closeable"===e.mode&&(l.show=!1,t("close",r))},d=()=>{if(r["right-icon"])return r["right-icon"]();const t="closeable"===e.mode?"cross":"link"===e.mode?"arrow":void 0;return t?C.createVNode(vt,{name:t,class:Oa("right-icon"),onClick:u},null):void 0},p=()=>{l.offset=n,l.duration=0,x((()=>{S((()=>{l.offset=-i,l.duration=(i+n)/+e.speed,t("replay")}))}))},f=()=>{const t=!1===e.scrollable&&!e.wrapable,o={transform:l.offset?`translateX(${l.offset}px)`:"",transitionDuration:`${l.duration}s`};return C.createVNode("div",{ref:s,role:"marquee",class:Oa("wrap")},[C.createVNode("div",{ref:c,style:o,class:[Oa("content"),{"van-ellipsis":t}],onTransitionend:p},[r.default?r.default():e.text])])},h=()=>{const{delay:t,speed:r,scrollable:a}=e,u=Z(t)?1e3*+t:0;n=0,i=0,l.offset=0,l.duration=0,clearTimeout(o),o=setTimeout((()=>{if(!s.value||!c.value||!1===a)return;const e=w(s).width,t=w(c).width;(a||t>e)&&S((()=>{n=e,i=t,l.offset=-i,l.duration=i/+r}))}),u)};return Ft(h),F(h),H("pageshow",h),Qe({reset:h}),C.watch((()=>[e.text,e.scrollable]),h),()=>{const{color:t,wrapable:o,background:n}=e;return C.withDirectives(C.createVNode("div",{role:"alert",class:Oa({wrapable:o}),style:{color:t,background:n}},[r["left-icon"]?r["left-icon"]():e.leftIcon?C.createVNode(vt,{class:Oa("left-icon"),name:e.leftIcon},null):void 0,f(),d()]),[[a.vShow,l.show]])}}}));s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");const[Ra,Ba]=Ve("notify"),Pa=l({},Bt,{type:T("danger"),color:String,message:v,position:T("top"),className:h,background:String,lockScroll:Boolean});var La=C.defineComponent({name:Ra,props:Pa,emits:["update:show"],setup(e,{emit:t,slots:r}){const o=e=>t("update:show",e);return()=>C.createVNode(Xt,{show:e.show,class:[Ba([e.type]),e.className],style:{color:e.color,background:e.background},overlay:!1,position:e.position,duration:.2,lockScroll:e.lockScroll,"onUpdate:show":o},{default:()=>[r.default?r.default():e.message]})}});let Ua,Va;function ka(e){var t;if(u)return Va||({instance:Va}=Hr({setup(){const{state:e,toggle:t}=Fr();return()=>C.createVNode(La,C.mergeProps(e,{"onUpdate:show":t}),null)}})),e=l({},ka.currentOptions,Q(t=e)?t:{message:t}),Va.open(e),clearTimeout(Ua),e.duration>0&&(Ua=window.setTimeout(ka.clear,e.duration)),Va}ka.clear=()=>{Va&&Va.toggle(!1)},ka.currentOptions={type:"danger",color:void 0,message:"",onClose:void 0,onClick:void 0,onOpened:void 0,duration:3e3,position:void 0,className:"",lockScroll:!1,background:void 0},ka.setDefaultOptions=e=>{l(ka.currentOptions,e)},ka.resetDefaultOptions=()=>{ka.currentOptions={type:"danger",color:void 0,message:"",onClose:void 0,onClick:void 0,onOpened:void 0,duration:3e3,position:void 0,className:"",lockScroll:!1,background:void 0}},ka.Component=qe(La),ka.install=e=>{e.use(ka.Component),e.config.globalProperties.$notify=ka};s("bgCzB");C=s("d4ofg"),b=s("liXpq"),a=s("7sCZa");s("bgCzB");C=s("d4ofg"),b=s("liXpq"),a=s("7sCZa");s("bgCzB");C=s("d4ofg"),b=s("liXpq");s("bgCzB");C=s("d4ofg"),b=s("liXpq");const[Ma,Fa]=Ve("key"),Ha=C.createVNode("svg",{class:Fa("collapse-icon"),viewBox:"0 0 30 24"},[C.createVNode("path",{d:"M26 13h-2v2h2v-2zm-8-3h2V8h-2v2zm2-4h2V4h-2v2zm2 4h4V4h-2v4h-2v2zm-7 14 3-3h-6l3 3zM6 13H4v2h2v-2zm16 0H8v2h14v-2zm-12-3h2V8h-2v2zM28 0l1 1 1 1v15l-1 2H1l-1-2V2l1-1 1-1zm0 2H2v15h26V2zM6 4v2H4V4zm10 2h2V4h-2v2zM8 9v1H4V8zm8 0v1h-2V8zm-6-5v2H8V4zm4 0v2h-2V4z",fill:"currentColor"},null)]),Wa=C.createVNode("svg",{class:Fa("delete-icon"),viewBox:"0 0 32 22"},[C.createVNode("path",{d:"M28 0a4 4 0 0 1 4 4v14a4 4 0 0 1-4 4H10.4a2 2 0 0 1-1.4-.6L1 13.1c-.6-.5-.9-1.3-.9-2 0-1 .3-1.7.9-2.2L9 .6a2 2 0 0 1 1.4-.6zm0 2H10.4l-8.2 8.3a1 1 0 0 0-.3.7c0 .3.1.5.3.7l8.2 8.4H28a2 2 0 0 0 2-2V4c0-1.1-.9-2-2-2zm-5 4a1 1 0 0 1 .7.3 1 1 0 0 1 0 1.4L20.4 11l3.3 3.3c.2.2.3.5.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3L19 12.4l-3.4 3.3a1 1 0 0 1-.6.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.2.1-.5.3-.7l3.3-3.3-3.3-3.3A1 1 0 0 1 14 7c0-.3.1-.5.3-.7A1 1 0 0 1 15 6a1 1 0 0 1 .6.3L19 9.6l3.3-3.3A1 1 0 0 1 23 6z",fill:"currentColor"},null)]);var za=C.defineComponent({name:Ma,props:{type:String,text:v,color:String,wider:Boolean,large:Boolean,loading:Boolean},emits:["press"],setup(e,{emit:t,slots:r}){const o=b.ref(!1),n=Lt(),i=e=>{n.start(e),o.value=!0},s=e=>{n.move(e),n.direction.value&&(o.value=!1)},a=n=>{o.value&&(r.default||pe(n),o.value=!1,t("press",e.text,e.type))},c=()=>{if(e.loading)return C.createVNode(Tt,{class:Fa("loading-icon")},null);const t=r.default?r.default():e.text;switch(e.type){case"delete":return t||Wa;case"extra":return t||Ha;default:return t}};return()=>C.createVNode("div",{class:Fa("wrapper",{wider:e.wider}),onTouchstart:i,onTouchmove:s,onTouchend:a,onTouchcancel:a},[C.createVNode("div",{role:"button",tabindex:0,class:Fa([e.color,{large:e.large,active:o.value,delete:"delete"===e.type}])},[c()])])}});const[ja,Ga]=Ve("number-keyboard"),Ya={show:Boolean,title:String,theme:T("default"),zIndex:v,teleport:[String,Object],maxlength:y(1/0),modelValue:T(""),transition:g,blurOnClose:g,showDeleteKey:g,randomKeyOrder:Boolean,closeButtonText:String,deleteButtonText:String,closeButtonLoading:Boolean,hideOnClickOutside:g,safeAreaInsetBottom:g,extraKey:{type:[String,Array],default:""}};qe(C.defineComponent({name:ja,props:Ya,emits:["show","hide","blur","input","close","delete","update:modelValue"],setup(e,{emit:t,slots:r}){const o=b.ref(),n=()=>{const t=Array(9).fill("").map(((e,t)=>({text:t+1})));return e.randomKeyOrder&&function(e){for(let t=e.length-1;t>0;t--){const r=Math.floor(Math.random()*(t+1)),o=e[t];e[t]=e[r],e[r]=o}}(t),t},i=C.computed((()=>"custom"===e.theme?(()=>{const t=n(),{extraKey:r}=e,o=Array.isArray(r)?r:[r];return 1===o.length?t.push({text:0,wider:!0},{text:o[0],type:"extra"}):2===o.length&&t.push({text:o[0],type:"extra"},{text:0},{text:o[1],type:"extra"}),t})():[...n(),{text:e.extraKey,type:"extra"},{text:0},{text:e.showDeleteKey?e.deleteButtonText:"",type:e.showDeleteKey?"delete":""}])),s=()=>{e.show&&t("blur")},c=()=>{t("close"),e.blurOnClose&&s()},l=()=>t(e.show?"show":"hide"),u=(r,o)=>{if(""===r)return void("extra"===o&&s());const n=e.modelValue;"delete"===o?(t("delete"),t("update:modelValue",n.slice(0,n.length-1))):"close"===o?c():n.length<e.maxlength&&(t("input",r),t("update:modelValue",n+r))},d=()=>{if("custom"===e.theme)return C.createVNode("div",{class:Ga("sidebar")},[e.showDeleteKey&&C.createVNode(za,{large:!0,text:e.deleteButtonText,type:"delete",onPress:u},{delete:r.delete}),C.createVNode(za,{large:!0,text:e.closeButtonText,type:"close",color:"blue",loading:e.closeButtonLoading,onPress:u},null)])};return C.watch((()=>e.show),(r=>{e.transition||t(r?"show":"hide")})),e.hideOnClickOutside&&W(o,s,{eventName:"touchstart"}),()=>{const t=(()=>{const{title:t,theme:o,closeButtonText:n}=e,i=r["title-left"],s=n&&"default"===o;if(t||s||i)return C.createVNode("div",{class:Ga("header")},[i&&C.createVNode("span",{class:Ga("title-left")},[i()]),t&&C.createVNode("h2",{class:Ga("title")},[t]),s&&C.createVNode("button",{type:"button",class:[Ga("close"),je],onClick:c},[n])])})(),n=C.createVNode(a.Transition,{name:e.transition?"van-slide-up":""},{default:()=>[C.withDirectives(C.createVNode("div",{ref:o,style:me(e.zIndex),class:Ga({unfit:!e.safeAreaInsetBottom,"with-title":!!t}),onTouchstart:de,onAnimationend:l,onWebkitAnimationEnd:l},[t,C.createVNode("div",{class:Ga("body")},[C.createVNode("div",{class:Ga("keys")},[i.value.map((e=>{const t={};return"delete"===e.type&&(t.default=r.delete),"extra"===e.type&&(t.default=r["extra-key"]),C.createVNode(za,{key:e.text,text:e.text,type:e.type,wider:e.wider,color:e.color,onPress:u},t)}))]),d()])]),[[a.vShow,e.show]])]});return e.teleport?C.createVNode(C.Teleport,{to:e.teleport},{default:()=>[n]}):n}}}));s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");const[qa,$a,Xa]=Ve("pagination"),Ka=(e,t,r)=>({number:e,text:t,active:r}),Za={mode:T("multi"),prevText:String,nextText:String,pageCount:y(0),modelValue:E(0),totalItems:y(0),showPageSize:y(5),itemsPerPage:y(10),forceEllipses:Boolean};qe(C.defineComponent({name:qa,props:Za,emits:["change","update:modelValue"],setup(e,{emit:t,slots:r}){const o=C.computed((()=>{const{pageCount:t,totalItems:r,itemsPerPage:o}=e,n=+t||Math.ceil(+r/+o);return Math.max(1,n)})),n=C.computed((()=>{const t=[],r=o.value,n=+e.showPageSize,{modelValue:i,forceEllipses:s}=e;let a=1,c=r;const l=n<r;l&&(a=Math.max(i-Math.floor(n/2),1),c=a+n-1,c>r&&(c=r,a=c-n+1));for(let e=a;e<=c;e++){const r=Ka(e,e,e===i);t.push(r)}if(l&&n>0&&s){if(a>1){const e=Ka(a-1,"...");t.unshift(e)}if(c<r){const e=Ka(c+1,"...");t.push(e)}}return t})),i=(r,n)=>{r=xe(r,1,o.value),e.modelValue!==r&&(t("update:modelValue",r),n&&t("change",r))};C.watchEffect((()=>i(e.modelValue)));const s=()=>{const{mode:t,modelValue:o}=e,n=r["prev-text"],s=1===o;return C.createVNode("li",{class:[$a("item",{disabled:s,border:"simple"===t,prev:!0}),We]},[C.createVNode("button",{type:"button",disabled:s,onClick:()=>i(o-1,!0)},[n?n():e.prevText||Xa("prev")])])},a=()=>{const{mode:t,modelValue:n}=e,s=r["next-text"],a=n===o.value;return C.createVNode("li",{class:[$a("item",{disabled:a,border:"simple"===t,next:!0}),We]},[C.createVNode("button",{type:"button",disabled:a,onClick:()=>i(n+1,!0)},[s?s():e.nextText||Xa("next")])])};return()=>C.createVNode("nav",{role:"navigation",class:$a()},[C.createVNode("ul",{class:$a("items")},[s(),"simple"===e.mode?C.createVNode("li",{class:$a("page-desc")},[r.pageDesc?r.pageDesc():`${e.modelValue}/${o.value}`]):n.value.map((e=>C.createVNode("li",{class:[$a("item",{active:e.active,page:!0}),We]},[C.createVNode("button",{type:"button","aria-current":e.active||void 0,onClick:()=>i(e.number,!0)},[r.page?r.page(e):e.text])]))),a()])])}}));s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");const[Ja,Qa]=Ve("password-input"),ec={info:String,mask:g,value:T(""),gutter:v,length:y(6),focused:Boolean,errorInfo:String};qe(C.defineComponent({name:Ja,props:ec,emits:["focus"],setup(e,{emit:t}){const r=e=>{e.stopPropagation(),t("focus",e)},o=()=>{const t=[],{mask:r,value:o,length:n,gutter:i,focused:s}=e;for(let e=0;e<n;e++){const n=o[e],a=0!==e&&!i,c=s&&e===o.length;let l;0!==e&&i&&(l={marginLeft:ge(i)}),t.push(C.createVNode("li",{class:[{[Fe]:a},Qa("item",{focus:c})],style:l},[r?C.createVNode("i",{style:{visibility:n?"visible":"hidden"}},null):n,c&&C.createVNode("div",{class:Qa("cursor")},null)]))}return t};return()=>{const t=e.errorInfo||e.info;return C.createVNode("div",{class:Qa()},[C.createVNode("ul",{class:[Qa("security"),{[We]:!e.gutter}],onTouchstart:r},[o()]),t&&C.createVNode("div",{class:Qa(e.errorInfo?"error-info":"info")},[t])])}}}));s("bgCzB");C=s("d4ofg"),b=s("liXpq");s("bgCzB");C=s("d4ofg"),b=s("liXpq");function tc(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height,top:t.top,right:t.right,bottom:t.bottom,left:t.left,x:t.left,y:t.top}}function rc(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function oc(e){var t=rc(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function nc(e){return e instanceof rc(e).Element||e instanceof Element}function ic(e){return e instanceof rc(e).HTMLElement||e instanceof HTMLElement}function sc(e){return e?(e.nodeName||"").toLowerCase():null}function ac(e){return((nc(e)?e.ownerDocument:e.document)||window.document).documentElement}function cc(e){return rc(e).getComputedStyle(e)}function lc(e){var t=cc(e),r=t.overflow,o=t.overflowX,n=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+n+o)}function uc(e,t,r){void 0===r&&(r=!1);var o,n,i=ac(t),s=tc(e),a=ic(t),c={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(a||!a&&!r)&&(("body"!==sc(t)||lc(i))&&(c=(o=t)!==rc(o)&&ic(o)?{scrollLeft:(n=o).scrollLeft,scrollTop:n.scrollTop}:oc(o)),ic(t)?((l=tc(t)).x+=t.clientLeft,l.y+=t.clientTop):i&&(l.x=function(e){return tc(ac(e)).left+oc(e).scrollLeft}(i))),{x:s.left+c.scrollLeft-l.x,y:s.top+c.scrollTop-l.y,width:s.width,height:s.height}}function dc(e){return"html"===sc(e)?e:e.assignedSlot||e.parentNode||(t=e,"undefined"!=typeof ShadowRoot&&(t instanceof rc(t).ShadowRoot||t instanceof ShadowRoot)?e.host:null)||ac(e);var t}function pc(e){return["html","body","#document"].indexOf(sc(e))>=0?e.ownerDocument.body:ic(e)&&lc(e)?e:pc(dc(e))}function fc(e,t){var r;void 0===t&&(t=[]);var o=pc(e),n=o===(null==(r=e.ownerDocument)?void 0:r.body),i=rc(o),s=n?[i].concat(i.visualViewport||[],lc(o)?o:[]):o,a=t.concat(s);return n?a:a.concat(fc(dc(s)))}function hc(e){return["table","td","th"].indexOf(sc(e))>=0}function vc(e){return ic(e)&&"fixed"!==cc(e).position?e.offsetParent:null}function gc(e){for(var t=rc(e),r=vc(e);r&&hc(r)&&"static"===cc(r).position;)r=vc(r);return r&&("html"===sc(r)||"body"===sc(r)&&"static"===cc(r).position)?t:r||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&ic(e)&&"fixed"===cc(e).position)return null;for(var r=dc(e);ic(r)&&["html","body"].indexOf(sc(r))<0;){var o=cc(r);if("none"!==o.transform||"none"!==o.perspective||"paint"===o.contain||-1!==["transform","perspective"].indexOf(o.willChange)||t&&"filter"===o.willChange||t&&o.filter&&"none"!==o.filter)return r;r=r.parentNode}return null}(e)||t}var _c="top",mc="bottom",Ec="right",yc="left",Tc="start",bc=[].concat([_c,mc,Ec,yc],["auto"]).reduce((function(e,t){return e.concat([t,t+"-"+Tc,t+"-end"])}),[]),Cc=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Ic(e){var t=new Map,r=new Set,o=[];function n(e){r.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!r.has(e)){var o=t.get(e);o&&n(o)}})),o.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){r.has(e.name)||n(e)})),o}function xc(e){return e.split("-")[0]}var Ac=Math.round;var Sc={placement:"bottom",modifiers:[],strategy:"absolute"};function Dc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function wc(e){void 0===e&&(e={});var t=e,r=t.defaultModifiers,o=void 0===r?[]:r,n=t.defaultOptions,i=void 0===n?Sc:n;return function(e,t,r){void 0===r&&(r=i);var n,s,a={placement:"bottom",orderedModifiers:[],options:Object.assign({},Sc,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},c=[],l=!1,u={state:a,setOptions:function(r){d(),a.options=Object.assign({},i,a.options,r),a.scrollParents={reference:nc(e)?fc(e):e.contextElement?fc(e.contextElement):[],popper:fc(t)};var n=function(e){var t=Ic(e);return Cc.reduce((function(e,r){return e.concat(t.filter((function(e){return e.phase===r})))}),[])}(function(e){var t=e.reduce((function(e,t){var r=e[t.name];return e[t.name]=r?Object.assign({},r,t,{options:Object.assign({},r.options,t.options),data:Object.assign({},r.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(o,a.options.modifiers)));return a.orderedModifiers=n.filter((function(e){return e.enabled})),a.orderedModifiers.forEach((function(e){var t=e.name,r=e.options,o=void 0===r?{}:r,n=e.effect;if("function"==typeof n){var i=n({state:a,name:t,instance:u,options:o}),s=function(){};c.push(i||s)}})),u.update()},forceUpdate:function(){if(!l){var e=a.elements,t=e.reference,r=e.popper;if(Dc(t,r)){var o,n,i,s;a.rects={reference:uc(t,gc(r),"fixed"===a.options.strategy),popper:(o=r,n=tc(o),i=o.offsetWidth,s=o.offsetHeight,Math.abs(n.width-i)<=1&&(i=n.width),Math.abs(n.height-s)<=1&&(s=n.height),{x:o.offsetLeft,y:o.offsetTop,width:i,height:s})},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach((function(e){return a.modifiersData[e.name]=Object.assign({},e.data)}));for(var c=0;c<a.orderedModifiers.length;c++)if(!0!==a.reset){var d=a.orderedModifiers[c],p=d.fn,f=d.options,h=void 0===f?{}:f,v=d.name;"function"==typeof p&&(a=p({state:a,options:h,name:v,instance:u})||a)}else a.reset=!1,c=-1}}},update:(n=function(){return new Promise((function(e){u.forceUpdate(),e(a)}))},function(){return s||(s=new Promise((function(e){Promise.resolve().then((function(){s=void 0,e(n())}))}))),s}),destroy:function(){d(),l=!0}};if(!Dc(e,t))return u;function d(){c.forEach((function(e){return e()})),c=[]}return u.setOptions(r).then((function(e){!l&&r.onFirstUpdate&&r.onFirstUpdate(e)})),u}}var Oc={passive:!0};var Nc={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Rc(e){var t,r=e.popper,o=e.popperRect,n=e.placement,i=e.offsets,s=e.position,a=e.gpuAcceleration,c=e.adaptive,l=e.roundOffsets,u=!0===l?function(e){var t=e.x,r=e.y,o=window.devicePixelRatio||1;return{x:Ac(Ac(t*o)/o)||0,y:Ac(Ac(r*o)/o)||0}}(i):"function"==typeof l?l(i):i,d=u.x,p=void 0===d?0:d,f=u.y,h=void 0===f?0:f,v=i.hasOwnProperty("x"),g=i.hasOwnProperty("y"),_=yc,m=_c,E=window;if(c){var y=gc(r),T="clientHeight",b="clientWidth";y===rc(r)&&"static"!==cc(y=ac(r)).position&&(T="scrollHeight",b="scrollWidth"),n===_c&&(m=mc,h-=y[T]-o.height,h*=a?1:-1),n===yc&&(_=Ec,p-=y[b]-o.width,p*=a?1:-1)}var C,I=Object.assign({position:s},c&&Nc);return a?Object.assign({},I,((C={})[m]=g?"0":"",C[_]=v?"0":"",C.transform=(E.devicePixelRatio||1)<2?"translate("+p+"px, "+h+"px)":"translate3d("+p+"px, "+h+"px, 0)",C)):Object.assign({},I,((t={})[m]=g?h+"px":"",t[_]=v?p+"px":"",t.transform="",t))}var Bc=wc({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,r=e.instance,o=e.options,n=o.scroll,i=void 0===n||n,s=o.resize,a=void 0===s||s,c=rc(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&l.forEach((function(e){e.addEventListener("scroll",r.update,Oc)})),a&&c.addEventListener("resize",r.update,Oc),function(){i&&l.forEach((function(e){e.removeEventListener("scroll",r.update,Oc)})),a&&c.removeEventListener("resize",r.update,Oc)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,r=e.name;t.modifiersData[r]=function(e){var t,r=e.reference,o=e.element,n=e.placement,i=n?xc(n):null,s=n?function(e){return e.split("-")[1]}(n):null,a=r.x+r.width/2-o.width/2,c=r.y+r.height/2-o.height/2;switch(i){case _c:t={x:a,y:r.y-o.height};break;case mc:t={x:a,y:r.y+r.height};break;case Ec:t={x:r.x+r.width,y:c};break;case yc:t={x:r.x-o.width,y:c};break;default:t={x:r.x,y:r.y}}var l=i?function(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}(i):null;if(null!=l){var u="y"===l?"height":"width";switch(s){case Tc:t[l]=t[l]-(r[u]/2-o[u]/2);break;case"end":t[l]=t[l]+(r[u]/2-o[u]/2)}}return t}({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,r=e.options,o=r.gpuAcceleration,n=void 0===o||o,i=r.adaptive,s=void 0===i||i,a=r.roundOffsets,c=void 0===a||a,l={placement:xc(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:n};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Rc(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:c})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Rc(Object.assign({},l,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var r=t.styles[e]||{},o=t.attributes[e]||{},n=t.elements[e];ic(n)&&sc(n)&&(Object.assign(n.style,r),Object.keys(o).forEach((function(e){var t=o[e];!1===t?n.removeAttribute(e):n.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach((function(e){var o=t.elements[e],n=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:r[e]).reduce((function(e,t){return e[t]="",e}),{});ic(o)&&sc(o)&&(Object.assign(o.style,i),Object.keys(n).forEach((function(e){o.removeAttribute(e)})))}))}},requires:["computeStyles"]}]});var Pc={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,r=e.options,o=e.name,n=r.offset,i=void 0===n?[0,0]:n,s=bc.reduce((function(e,r){return e[r]=function(e,t,r){var o=xc(e),n=[yc,_c].indexOf(o)>=0?-1:1,i="function"==typeof r?r(Object.assign({},t,{placement:e})):r,s=i[0],a=i[1];return s=s||0,a=(a||0)*n,[yc,Ec].indexOf(o)>=0?{x:a,y:s}:{x:s,y:a}}(r,t.rects,i),e}),{}),a=s[t.placement],c=a.x,l=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=l),t.modifiersData[o]=s}};const[Lc,Uc]=Ve("popover"),Vc=["show","overlay","duration","teleport","overlayStyle","overlayClass","closeOnClickOverlay"],kc={show:Boolean,theme:T("light"),overlay:Boolean,actions:m(),trigger:T("click"),duration:v,showArrow:g,placement:T("bottom"),iconPrefix:String,overlayClass:h,overlayStyle:Object,closeOnClickAction:g,closeOnClickOverlay:g,closeOnClickOutside:g,offset:{type:Array,default:()=>[0,8]},teleport:{type:[String,Object],default:"body"}};qe(C.defineComponent({name:Lc,props:kc,emits:["select","touchstart","update:show"],setup(e,{emit:t,slots:r,attrs:o}){let n;const i=b.ref(),s=b.ref(),a=()=>{C.nextTick((()=>{e.show&&(n?n.setOptions({placement:e.placement}):n=i.value&&s.value?Bc(i.value,s.value.popupRef.value,{placement:e.placement,modifiers:[{name:"computeStyles",options:{adaptive:!1,gpuAcceleration:!1}},l({},Pc,{options:{offset:e.offset}})]}):null)}))},c=e=>t("update:show",e),u=()=>{"click"===e.trigger&&c(!e.show)},d=e=>{e.stopPropagation(),t("touchstart",e)},f=(t,o)=>r.action?r.action({action:t,index:o}):[t.icon&&C.createVNode(vt,{name:t.icon,classPrefix:e.iconPrefix,class:Uc("action-icon")},null),C.createVNode("div",{class:[Uc("action-text"),He]},[t.text])],h=(r,o)=>{const{icon:n,color:i,disabled:s,className:a}=r;return C.createVNode("div",{role:"menuitem",class:[Uc("action",{disabled:s,"with-icon":n}),a],style:{color:i},tabindex:s?void 0:0,"aria-disabled":s||void 0,onClick:()=>((r,o)=>{r.disabled||(t("select",r,o),e.closeOnClickAction&&c(!1))})(r,o)},[f(r,o)])};return C.onMounted(a),C.onBeforeUnmount((()=>{n&&(n.destroy(),n=null)})),C.watch((()=>[e.show,e.placement]),a),W(i,(()=>{!e.closeOnClickOutside||e.overlay&&!e.closeOnClickOverlay||c(!1)}),{eventName:"touchstart"}),()=>{var t;return C.createVNode(C.Fragment,null,[C.createVNode("span",{ref:i,class:Uc("wrapper"),onClick:u},[null==(t=r.reference)?void 0:t.call(r)]),C.createVNode(Xt,C.mergeProps({ref:s,class:Uc([e.theme]),position:"",transition:"van-popover-zoom",lockScroll:!1,onTouchstart:d,"onUpdate:show":c},o,p(e,Vc)),{default:()=>[e.showArrow&&C.createVNode("div",{class:Uc("arrow")},null),C.createVNode("div",{role:"menu",class:Uc("content")},[r.default?r.default():e.actions.map(h)])]})])}}}));s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");const[Mc,Fc]=Ve("progress"),Hc={color:String,inactive:Boolean,pivotText:String,textColor:String,showPivot:g,pivotColor:String,trackColor:String,strokeWidth:v,percentage:{type:v,default:0,validator:e=>e>=0&&e<=100}};qe(C.defineComponent({name:Mc,props:Hc,setup(e){const t=C.computed((()=>e.inactive?void 0:e.color)),r=()=>{const{textColor:r,pivotText:o,pivotColor:n,percentage:i}=e,s=null!=o?o:`${i}%`;if(e.showPivot&&s){const o={color:r,left:+i+"%",transform:`translate(-${+i}%,-50%)`,background:n||t.value};return C.createVNode("span",{style:o,class:Fc("pivot",{inactive:e.inactive})},[s])}};return()=>{const{trackColor:o,percentage:n,strokeWidth:i}=e,s={background:o,height:ge(i)},a={width:`${n}%`,background:t.value};return C.createVNode("div",{class:Fc(),style:s},[C.createVNode("span",{class:Fc("portion",{inactive:e.inactive}),style:a},null),r()])}}}));s("bgCzB");C=s("d4ofg"),b=s("liXpq");s("bgCzB");C=s("d4ofg"),b=s("liXpq");const[Wc,zc,jc]=Ve("pull-refresh"),Gc=["pulling","loosing","success"],Yc={disabled:Boolean,modelValue:Boolean,headHeight:y(50),successText:String,pullingText:String,loosingText:String,loadingText:String,pullDistance:v,successDuration:y(500),animationDuration:y(300)};qe(C.defineComponent({name:Wc,props:Yc,emits:["refresh","update:modelValue"],setup(e,{emit:t,slots:r}){let o;const n=b.ref(),i=$(n),s=b.reactive({status:"normal",distance:0,duration:0}),a=Lt(),c=()=>{if(50!==e.headHeight)return{height:`${e.headHeight}px`}},l=()=>"loading"!==s.status&&"success"!==s.status&&!e.disabled,u=(t,r)=>{const o=+(e.pullDistance||e.headHeight);s.distance=t,s.status=r?"loading":0===t?"normal":t<o?"pulling":"loosing"},d=()=>{const{status:t}=s;return"normal"===t?"":e[`${t}Text`]||jc(t)},p=()=>{const{status:e,distance:t}=s;if(r[e])return r[e]({distance:t});const o=[];return Gc.includes(e)&&o.push(C.createVNode("div",{class:zc("text")},[d()])),"loading"===e&&o.push(C.createVNode(Tt,{class:zc("loading")},{default:d})),o},f=e=>{o=0===ne(i.value),o&&(s.duration=0,a.start(e))},h=e=>{l()&&f(e)},v=t=>{if(l()){o||f(t);const{deltaY:r}=a;a.move(t),o&&r.value>=0&&a.isVertical()&&(pe(t),u((t=>{const r=+(e.pullDistance||e.headHeight);return t>r&&(t=t<2*r?r+(t-r)/2:1.5*r+(t-2*r)/4),Math.round(t)})(r.value)))}},g=()=>{o&&a.deltaY.value&&l()&&(s.duration=+e.animationDuration,"loosing"===s.status?(u(+e.headHeight,!0),t("update:modelValue",!0),C.nextTick((()=>t("refresh")))):u(0))};return C.watch((()=>e.modelValue),(t=>{s.duration=+e.animationDuration,t?u(+e.headHeight,!0):r.success||e.successText?(s.status="success",setTimeout((()=>{u(0)}),+e.successDuration)):u(0,!1)})),()=>{var e;const t={transitionDuration:`${s.duration}ms`,transform:s.distance?`translate3d(0,${s.distance}px, 0)`:""};return C.createVNode("div",{ref:n,class:zc()},[C.createVNode("div",{class:zc("track"),style:t,onTouchstart:h,onTouchmove:v,onTouchend:g,onTouchcancel:g},[C.createVNode("div",{class:zc("head"),style:c()},[p()]),null==(e=r.default)?void 0:e.call(r)])])}}}));s("bgCzB");C=s("d4ofg"),b=s("liXpq");s("bgCzB");C=s("d4ofg"),b=s("liXpq");const[qc,$c]=Ve("rate");const Xc={size:v,icon:T("star"),color:String,count:y(5),gutter:v,readonly:Boolean,disabled:Boolean,voidIcon:T("star-o"),allowHalf:Boolean,voidColor:String,touchable:g,iconPrefix:String,modelValue:E(0),disabledColor:String};qe(C.defineComponent({name:qc,props:Xc,emits:["change","update:modelValue"],setup(e,{emit:t}){const r=Lt(),[o,n]=Xo(),i=b.ref(),s=()=>e.readonly||e.disabled||!e.touchable,a=C.computed((()=>Array(+e.count).fill("").map(((t,r)=>function(e,t,r,o){if(e>=t)return{status:"full",value:1};if(e+.5>=t&&r&&!o)return{status:"half",value:.5};if(e+1>=t&&r&&o){const r=10**10;return{status:"half",value:Math.round((e-t+1)*r)/r}}return{status:"void",value:0}}(e.modelValue,r+1,e.allowHalf,e.readonly)))));let c,l,u=Number.MAX_SAFE_INTEGER,d=Number.MIN_SAFE_INTEGER;const p=()=>{l=w(i);const t=o.value.map(w);c=[],t.forEach(((t,r)=>{u=Math.min(t.top,u),d=Math.max(t.top,d),e.allowHalf?c.push({score:r+.5,left:t.left,top:t.top,height:t.height},{score:r+1,left:t.left+t.width/2,top:t.top,height:t.height}):c.push({score:r+1,left:t.left,top:t.top,height:t.height})}))},f=(t,r)=>{for(let e=c.length-1;e>0;e--)if(r>=l.top&&r<=l.bottom){if(t>c[e].left&&r>=c[e].top&&r<=c[e].top+c[e].height)return c[e].score}else{const o=r<l.top?u:d;if(t>c[e].left&&c[e].top===o)return c[e].score}return e.allowHalf?.5:1},h=r=>{e.disabled||e.readonly||r===e.modelValue||(t("update:modelValue",r),t("change",r))},v=e=>{s()||(r.start(e),p())},g=e=>{if(!s()&&(r.move(e),r.isHorizontal())){const{clientX:t,clientY:r}=e.touches[0];pe(e),h(f(t,r))}},_=(t,r)=>{const{icon:o,size:i,color:s,count:a,gutter:c,voidIcon:l,disabled:u,voidColor:d,allowHalf:v,iconPrefix:g,disabledColor:_}=e,m=r+1,E="full"===t.status,y="void"===t.status,T=v&&t.value>0&&t.value<1;let b;c&&m!==+a&&(b={paddingRight:ge(c)});return C.createVNode("div",{key:r,ref:n(r),role:"radio",style:b,class:$c("item"),tabindex:u?void 0:0,"aria-setsize":a,"aria-posinset":m,"aria-checked":!y,onClick:e=>{p(),h(v?f(e.clientX,e.clientY):m)}},[C.createVNode(vt,{size:i,name:E?o:l,class:$c("icon",{disabled:u,full:E}),color:u?_:E?s:d,classPrefix:g},null),T&&C.createVNode(vt,{size:i,style:{width:t.value+"em"},name:y?l:o,class:$c("icon",["half",{disabled:u,full:!y}]),color:u?_:y?d:s,classPrefix:g},null)])};return K((()=>e.modelValue)),()=>C.createVNode("div",{ref:i,role:"radiogroup",class:$c({readonly:e.readonly,disabled:e.disabled}),tabindex:e.disabled?void 0:0,"aria-disabled":e.disabled,"aria-readonly":e.readonly,onTouchstart:v,onTouchmove:g},[a.value.map(_)])}}));qe(Ei);s("bgCzB");C=s("d4ofg"),b=s("liXpq");s("bgCzB");C=s("d4ofg"),b=s("liXpq");const[Kc,Zc,Jc]=Ve("search"),Qc=l({},Vr,{label:String,shape:T("square"),leftIcon:T("search"),clearable:g,actionText:String,background:String,showAction:Boolean});qe(C.defineComponent({name:Kc,props:Qc,emits:["blur","focus","clear","search","cancel","click-input","click-left-icon","click-right-icon","update:modelValue"],setup(e,{emit:t,slots:r,attrs:o}){const n=Pr(),i=b.ref(),s=()=>{r.action||(t("update:modelValue",""),t("cancel"))},a=r=>{13===r.keyCode&&(pe(r),t("search",e.modelValue))},c=()=>e.id||`${n}-input`,u=()=>{if(r.label||e.label)return C.createVNode("label",{class:Zc("label"),for:c()},[r.label?r.label():e.label])},d=()=>{if(e.showAction){const t=e.actionText||Jc("cancel");return C.createVNode("div",{class:Zc("action"),role:"button",tabindex:0,onClick:s},[r.action?r.action():t])}},f=e=>t("blur",e),h=e=>t("focus",e),v=e=>t("clear",e),g=e=>t("click-input",e),_=e=>t("click-left-icon",e),m=e=>t("click-right-icon",e),E=Object.keys(Vr),y=()=>{const n=l({},o,p(e,E),{id:c()});return C.createVNode(Mr,C.mergeProps({ref:i,type:"search",class:Zc("field"),border:!1,onBlur:f,onFocus:h,onClear:v,onKeypress:a,"onClick-input":g,"onClick-left-icon":_,"onClick-right-icon":m,"onUpdate:modelValue":e=>t("update:modelValue",e)},n),p(r,["left-icon","right-icon"]))};return Qe({focus:()=>{var e;return null==(e=i.value)?void 0:e.focus()},blur:()=>{var e;return null==(e=i.value)?void 0:e.blur()}}),()=>{var t;return C.createVNode("div",{class:Zc({"show-action":e.showAction}),style:{background:e.background}},[null==(t=r.left)?void 0:t.call(r),C.createVNode("div",{class:Zc("content",e.shape)},[u(),y()]),d()])}}}));s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");const el=[...Pt,"round","closeOnPopstate","safeAreaInsetBottom"],tl={qq:"qq",link:"link-o",weibo:"weibo",qrcode:"qr",poster:"photo-o",wechat:"wechat","weapp-qrcode":"miniprogram-o","wechat-moments":"wechat-moments"},[rl,ol,nl]=Ve("share-sheet"),il=l({},Bt,{title:String,round:g,options:m(),cancelText:String,description:String,closeOnPopstate:g,safeAreaInsetBottom:g});qe(C.defineComponent({name:rl,props:il,emits:["cancel","select","update:show"],setup(e,{emit:t,slots:r}){const o=e=>t("update:show",e),n=()=>{o(!1),t("cancel")},i=()=>{const t=r.title?r.title():e.title,o=r.description?r.description():e.description;if(t||o)return C.createVNode("div",{class:ol("header")},[t&&C.createVNode("h2",{class:ol("title")},[t]),o&&C.createVNode("span",{class:ol("description")},[o])])},s=e=>tl[e]?C.createVNode("div",{class:ol("icon",[e])},[C.createVNode(vt,{name:tl[e]||e},null)]):C.createVNode("img",{src:e,class:ol("image-icon")},null),a=(e,r)=>{const{name:o,icon:n,className:i,description:a}=e;return C.createVNode("div",{role:"button",tabindex:0,class:[ol("option"),i,je],onClick:()=>((e,r)=>t("select",e,r))(e,r)},[s(n),o&&C.createVNode("span",{class:ol("name")},[o]),a&&C.createVNode("span",{class:ol("option-description")},[a])])},c=(e,t)=>C.createVNode("div",{class:ol("options",{border:t})},[e.map(a)]),l=()=>{const{options:t}=e;return Array.isArray(t[0])?t.map(((e,t)=>c(e,0!==t))):c(t)},u=()=>{var t;const o=null!=(t=e.cancelText)?t:nl("cancel");if(r.cancel||o)return C.createVNode("button",{type:"button",class:ol("cancel"),onClick:n},[r.cancel?r.cancel():o])};return()=>C.createVNode(Xt,C.mergeProps({class:ol(),position:"bottom","onUpdate:show":o},p(e,el)),{default:()=>[i(),l(),u()]})}}));s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");const[sl,al]=Ve("sidebar"),cl=Symbol(sl),ll={modelValue:y(0)};const ul=qe(C.defineComponent({name:sl,props:ll,emits:["change","update:modelValue"],setup(e,{emit:t,slots:r}){const{linkChildren:o}=R(cl),n=()=>+e.modelValue;return o({getActive:n,setActive:e=>{e!==n()&&(t("update:modelValue",e),t("change",e))}}),()=>{var e;return C.createVNode("div",{role:"tablist",class:al()},[null==(e=r.default)?void 0:e.call(r)])}}}));s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");const[dl,pl]=Ve("sidebar-item"),fl=l({},et,{dot:Boolean,title:String,badge:v,disabled:Boolean,badgeProps:Object});const hl=qe(C.defineComponent({name:dl,props:fl,emits:["click"],setup(e,{emit:t,slots:r}){const o=rt(),{parent:n,index:i}=O(cl);if(!n)return;const s=()=>{e.disabled||(t("click",i.value),n.setActive(i.value),o())};return()=>{const{dot:t,badge:o,title:a,disabled:c}=e,l=i.value===n.getActive();return C.createVNode("div",{role:"tab",class:pl({select:l,disabled:c}),tabindex:c?void 0:0,"aria-selected":l,onClick:s},[C.createVNode(st,C.mergeProps({dot:t,class:pl("text"),content:o},e.badgeProps),{default:()=>[r.title?r.title():a]})])}}}));s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");const[vl,gl]=Ve("skeleton"),_l="100%",ml={row:y(0),title:Boolean,round:Boolean,avatar:Boolean,loading:g,animate:g,avatarSize:v,titleWidth:v,avatarShape:T("round"),rowWidth:{type:[Number,String,Array],default:_l}};qe(C.defineComponent({name:vl,inheritAttrs:!1,props:ml,setup(e,{slots:t,attrs:r}){const o=()=>{if(e.avatar)return C.createVNode("div",{class:gl("avatar",e.avatarShape),style:_e(e.avatarSize)},null)},n=()=>{if(e.title)return C.createVNode("h3",{class:gl("title"),style:{width:ge(e.titleWidth)}},null)},i=t=>{const{rowWidth:r}=e;return r===_l&&t===+e.row-1?"60%":Array.isArray(r)?r[t]:r};return()=>{var s;return e.loading?C.createVNode("div",C.mergeProps({class:gl({animate:e.animate,round:e.round})},r),[o(),C.createVNode("div",{class:gl("content")},[n(),Array(+e.row).fill("").map(((e,t)=>C.createVNode("div",{class:gl("row"),style:{width:ge(i(t))}},null)))])]):null==(s=t.default)?void 0:s.call(t)}}}));s("bgCzB");C=s("d4ofg"),b=s("liXpq");s("bgCzB");C=s("d4ofg"),b=s("liXpq");const[El,yl]=Ve("slider"),Tl={min:y(0),max:y(100),step:y(1),range:Boolean,reverse:Boolean,disabled:Boolean,readonly:Boolean,vertical:Boolean,barHeight:v,buttonSize:v,activeColor:String,inactiveColor:String,modelValue:{type:[Number,Array],default:0}};qe(C.defineComponent({name:El,props:Tl,emits:["change","drag-end","drag-start","update:modelValue"],setup(e,{emit:t,slots:r}){let o,n,i;const s=b.ref(),a=b.ref(),c=Lt(),l=C.computed((()=>Number(e.max)-Number(e.min))),u=C.computed((()=>{const t=e.vertical?"width":"height";return{background:e.inactiveColor,[t]:ge(e.barHeight)}})),d=t=>e.range&&Array.isArray(t),p=()=>{const{modelValue:t,min:r}=e;return d(t)?100*(t[1]-t[0])/l.value+"%":100*(t-Number(r))/l.value+"%"},f=C.computed((()=>{const t={[e.vertical?"height":"width"]:p(),background:e.activeColor};a.value&&(t.transition="none");return t[e.vertical?e.reverse?"bottom":"top":e.reverse?"right":"left"]=(()=>{const{modelValue:t,min:r}=e;return d(t)?100*(t[0]-Number(r))/l.value+"%":"0%"})(),t})),h=t=>{const r=+e.min,o=+e.max,n=+e.step;t=xe(t,r,o);return De(r,Math.round((t-r)/n)*n)},v=(e,t)=>JSON.stringify(e)===JSON.stringify(t),g=(r,o)=>{r=d(r)?(t=>{var r,o;const n=null!=(r=t[0])?r:Number(e.min),i=null!=(o=t[1])?o:Number(e.max);return n>i?[i,n]:[n,i]})(r).map(h):h(r),v(r,e.modelValue)||t("update:modelValue",r),o&&!v(r,i)&&t("change",r)},_=t=>{if(t.stopPropagation(),e.disabled||e.readonly)return;const{min:r,reverse:o,vertical:n,modelValue:i}=e,a=w(s),c=n?a.height:a.width,u=Number(r)+(n?o?a.bottom-t.clientY:t.clientY-a.top:o?a.right-t.clientX:t.clientX-a.left)/c*l.value;if(d(i)){const[e,t]=i;g(u<=(e+t)/2?[u,t]:[e,u],!0)}else g(u,!0)},m=r=>{if(e.disabled||e.readonly)return;"start"===a.value&&t("drag-start",r),pe(r,!0),c.move(r),a.value="dragging";const u=w(s);let p=(e.vertical?c.deltaY.value:c.deltaX.value)/(e.vertical?u.height:u.width)*l.value;if(e.reverse&&(p=-p),d(i)){const t=e.reverse?1-o:o;n[t]=i[t]+p}else n=i+p;g(n)},E=r=>{e.disabled||e.readonly||("dragging"===a.value&&(g(n,!0),t("drag-end",r)),a.value="")},y=t=>{if("number"==typeof t){return yl("button-wrapper",["left","right"][t])}return yl("button-wrapper",e.reverse?"left":"right")},T=(t,o)=>{if("number"==typeof o){const e=r[0===o?"left-button":"right-button"];if(e)return e({value:t})}return r.button?r.button({value:t}):C.createVNode("div",{class:yl("button"),style:_e(e.buttonSize)},null)},I=t=>{const r="number"==typeof t?e.modelValue[t]:e.modelValue;return C.createVNode("div",{role:"slider",class:y(t),tabindex:e.disabled?void 0:0,"aria-valuemin":e.min,"aria-valuenow":r,"aria-valuemax":e.max,"aria-disabled":e.disabled||void 0,"aria-readonly":e.readonly||void 0,"aria-orientation":e.vertical?"vertical":"horizontal",onTouchstart:r=>{"number"==typeof t&&(o=t),(t=>{e.disabled||e.readonly||(c.start(t),n=e.modelValue,i=d(n)?n.map(h):h(n),a.value="start")})(r)},onTouchmove:m,onTouchend:E,onTouchcancel:E,onClick:de},[T(r,t)])};return g(e.modelValue),K((()=>e.modelValue)),()=>C.createVNode("div",{ref:s,style:u.value,class:yl({vertical:e.vertical,disabled:e.disabled}),onClick:_},[C.createVNode("div",{class:yl("bar"),style:f.value},[e.range?[I(0),I(1)]:I()])])}}));s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");const[bl,Cl]=Ve("steps"),Il={active:y(0),direction:T("horizontal"),activeIcon:T("checked"),iconPrefix:String,finishIcon:String,activeColor:String,inactiveIcon:String,inactiveColor:String},xl=Symbol(bl);var Al=C.defineComponent({name:bl,props:Il,emits:["click-step"],setup(e,{emit:t,slots:r}){const{linkChildren:o}=R(xl);return o({props:e,onClickStep:e=>t("click-step",e)}),()=>{var t;return C.createVNode("div",{class:Cl([e.direction])},[C.createVNode("div",{class:Cl("items")},[null==(t=r.default)?void 0:t.call(r)])])}}});const[Sl,Dl]=Ve("step");qe(C.defineComponent({name:Sl,setup(e,{slots:t}){const{parent:r,index:o}=O(xl);if(!r)return;const n=r.props,i=()=>{const e=+n.active;return o.value<e?"finish":o.value===e?"process":"waiting"},s=()=>"process"===i(),a=C.computed((()=>({background:"finish"===i()?n.activeColor:n.inactiveColor}))),c=C.computed((()=>s()?{color:n.activeColor}:"waiting"===i()?{color:n.inactiveColor}:void 0)),l=()=>r.onClickStep(o.value),u=()=>{const{iconPrefix:e,finishIcon:r,activeIcon:o,activeColor:c,inactiveIcon:l}=n;return s()?t["active-icon"]?t["active-icon"]():C.createVNode(vt,{class:Dl("icon","active"),name:o,color:c,classPrefix:e},null):"finish"===i()&&(r||t["finish-icon"])?t["finish-icon"]?t["finish-icon"]():C.createVNode(vt,{class:Dl("icon","finish"),name:r,color:c,classPrefix:e},null):t["inactive-icon"]?t["inactive-icon"]():l?C.createVNode(vt,{class:Dl("icon"),name:l,classPrefix:e},null):C.createVNode("i",{class:Dl("circle"),style:a.value},null)};return()=>{var e;const r=i();return C.createVNode("div",{class:[ke,Dl([n.direction,{[r]:r}])]},[C.createVNode("div",{class:Dl("title",{active:s()}),style:c.value,onClick:l},[null==(e=t.default)?void 0:e.call(t)]),C.createVNode("div",{class:Dl("circle-container"),onClick:l},[u()]),C.createVNode("div",{class:Dl("line"),style:a.value},null)])}}}));s("bgCzB");C=s("d4ofg"),b=s("liXpq"),a=s("7sCZa");s("bgCzB");C=s("d4ofg"),b=s("liXpq"),a=s("7sCZa");const[wl,Ol]=Ve("stepper"),Nl=(e,t)=>String(e)===String(t),Rl={min:y(1),max:y(1/0),name:y(""),step:y(1),theme:String,integer:Boolean,disabled:Boolean,showPlus:g,showMinus:g,showInput:g,longPress:g,allowEmpty:Boolean,modelValue:v,inputWidth:v,buttonSize:v,placeholder:String,disablePlus:Boolean,disableMinus:Boolean,disableInput:Boolean,beforeChange:Function,defaultValue:y(1),decimalLength:v};qe(C.defineComponent({name:wl,props:Rl,emits:["plus","blur","minus","focus","change","overlimit","update:modelValue"],setup(e,{emit:t}){const r=t=>{const{min:r,max:o,allowEmpty:n,decimalLength:i}=e;return n&&""===t||(t=""===(t=Se(String(t),!e.integer))?0:+t,t=Number.isNaN(t)?+r:t,t=Math.max(Math.min(+o,t),+r),Z(i)&&(t=t.toFixed(+i))),t};let o;const n=b.ref(),i=b.ref((()=>{var o;const n=null!=(o=e.modelValue)?o:e.defaultValue,i=r(n);return Nl(i,e.modelValue)||t("update:modelValue",i),i})()),s=C.computed((()=>e.disabled||e.disableMinus||i.value<=+e.min)),c=C.computed((()=>e.disabled||e.disablePlus||i.value>=+e.max)),l=C.computed((()=>({width:ge(e.inputWidth),height:ge(e.buttonSize)}))),u=C.computed((()=>_e(e.buttonSize))),d=t=>{e.beforeChange?Ye(e.beforeChange,{args:[t],done(){i.value=t}}):i.value=t},p=()=>{if("plus"===o&&c.value||"minus"===o&&s.value)return void t("overlimit",o);const n="minus"===o?-e.step:+e.step,a=r(De(+i.value,n));d(a),t(o)},f=t=>{const r=t.target,{value:o}=r,{decimalLength:n}=e;let s=Se(String(o),!e.integer);if(Z(n)&&s.includes(".")){const e=s.split(".");s=`${e[0]}.${e[1].slice(0,+n)}`}e.beforeChange?r.value=String(i.value):Nl(o,s)||(r.value=s);const a=s===String(+s);d(a?+s:s)},h=r=>{var o;e.disableInput?null==(o=n.value)||o.blur():t("focus",r)},v=e=>{const o=e.target,n=r(o.value);o.value=String(n),i.value=n,C.nextTick((()=>{t("blur",e),ue()}))};let g,_;const m=()=>{_=setTimeout((()=>{p(),m()}),200)},E=t=>{e.longPress&&(clearTimeout(_),g&&pe(t))},y=t=>{e.disableInput&&pe(t)},T=t=>({onClick:e=>{pe(e),o=t,p()},onTouchstart:()=>{o=t,e.longPress&&(g=!1,clearTimeout(_),_=setTimeout((()=>{g=!0,p(),m()}),600))},onTouchend:E,onTouchcancel:E});return C.watch((()=>[e.max,e.min,e.integer,e.decimalLength]),(()=>{const e=r(i.value);Nl(e,i.value)||(i.value=e)})),C.watch((()=>e.modelValue),(e=>{Nl(e,i.value)||(i.value=r(e))})),C.watch(i,(r=>{t("update:modelValue",r),t("change",r,{name:e.name})})),K((()=>e.modelValue)),()=>C.createVNode("div",{role:"group",class:Ol([e.theme])},[C.withDirectives(C.createVNode("button",C.mergeProps({type:"button",style:u.value,class:[Ol("minus",{disabled:s.value}),{[je]:!s.value}],"aria-disabled":s.value||void 0},T("minus")),null),[[a.vShow,e.showMinus]]),C.withDirectives(C.createVNode("input",{ref:n,type:e.integer?"tel":"text",role:"spinbutton",class:Ol("input"),value:i.value,style:l.value,disabled:e.disabled,readonly:e.disableInput,inputmode:e.integer?"numeric":"decimal",placeholder:e.placeholder,"aria-valuemax":e.max,"aria-valuemin":e.min,"aria-valuenow":i.value,onBlur:v,onInput:f,onFocus:h,onMousedown:y},null),[[a.vShow,e.showInput]]),C.withDirectives(C.createVNode("button",C.mergeProps({type:"button",style:u.value,class:[Ol("plus",{disabled:c.value}),{[je]:!c.value}],"aria-disabled":c.value||void 0},T("plus")),null),[[a.vShow,e.showPlus]])])}}));qe(Al);s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");const[Bl,Pl,Ll]=Ve("submit-bar"),Ul={tip:String,label:String,price:Number,tipIcon:String,loading:Boolean,currency:T(""),disabled:Boolean,textAlign:String,buttonText:String,buttonType:T("danger"),buttonColor:String,suffixLabel:String,decimalLength:y(2),safeAreaInsetBottom:g};qe(C.defineComponent({name:Bl,props:Ul,emits:["submit"],setup(e,{emit:t,slots:r}){const o=()=>{const{price:t,label:r,currency:o,textAlign:n,suffixLabel:i,decimalLength:s}=e;if("number"==typeof t){const e=(t/100).toFixed(+s).split("."),a=s?`.${e[1]}`:"";return C.createVNode("div",{class:Pl("text"),style:{textAlign:n}},[C.createVNode("span",null,[r||Ll("label")]),C.createVNode("span",{class:Pl("price")},[o,C.createVNode("span",{class:Pl("price-integer")},[e[0]]),a]),i&&C.createVNode("span",{class:Pl("suffix-label")},[i])])}},n=()=>{var t;const{tip:o,tipIcon:n}=e;if(r.tip||o)return C.createVNode("div",{class:Pl("tip")},[n&&C.createVNode(vt,{class:Pl("tip-icon"),name:n},null),o&&C.createVNode("span",{class:Pl("tip-text")},[o]),null==(t=r.tip)?void 0:t.call(r)])},i=()=>t("submit");return()=>{var t,s;return C.createVNode("div",{class:[Pl(),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[null==(t=r.top)?void 0:t.call(r),n(),C.createVNode("div",{class:Pl("bar")},[null==(s=r.default)?void 0:s.call(r),o(),r.button?r.button():C.createVNode(xt,{round:!0,type:e.buttonType,text:e.buttonText,class:Pl("button",e.buttonType),color:e.buttonColor,loading:e.loading,disabled:e.disabled,onClick:i},null)])])}}}));s("bgCzB");C=s("d4ofg"),b=s("liXpq");s("bgCzB");C=s("d4ofg"),b=s("liXpq");const[Vl,kl]=Ve("swipe-cell"),Ml={name:y(""),disabled:Boolean,leftWidth:v,rightWidth:v,beforeClose:Function,stopPropagation:Boolean};qe(C.defineComponent({name:Vl,props:Ml,emits:["open","close","click"],setup(e,{emit:t,slots:r}){let o,n,i;const s=b.ref(),a=b.ref(),c=b.ref(),l=b.reactive({offset:0,dragging:!1}),u=Lt(),d=e=>e.value?w(e).width:0,p=C.computed((()=>Z(e.leftWidth)?+e.leftWidth:d(a))),f=C.computed((()=>Z(e.rightWidth)?+e.rightWidth:d(c))),h=r=>{l.offset="left"===r?p.value:-f.value,o||(o=!0,t("open",{name:e.name,position:r}))},v=r=>{l.offset=0,o&&(o=!1,t("close",{name:e.name,position:r}))},g=t=>{e.disabled||(i=l.offset,u.start(t))},_=t=>{if(e.disabled)return;const{deltaX:r}=u;if(u.move(t),u.isHorizontal()){n=!0,l.dragging=!0;(!o||r.value*i<0)&&pe(t,e.stopPropagation),l.offset=xe(r.value+i,-f.value,p.value)}},m=()=>{l.dragging&&(l.dragging=!1,(e=>{const t=Math.abs(l.offset),r=o?.85:.15,n="left"===e?p.value:f.value;n&&t>n*r?h(e):v(e)})(l.offset>0?"left":"right"),setTimeout((()=>{n=!1}),0))},E=(r="outside")=>{t("click",r),o&&!n&&Ye(e.beforeClose,{args:[{name:e.name,position:r}],done:()=>v(r)})},y=(e,t)=>r=>{t&&r.stopPropagation(),E(e)},T=(e,t)=>{const o=r[e];if(o)return C.createVNode("div",{ref:t,class:kl(e),onClick:y(e,!0)},[o()])};return Qe({open:h,close:v}),W(s,(()=>E("outside")),{eventName:"touchstart"}),()=>{var e;const t={transform:`translate3d(${l.offset}px, 0, 0)`,transitionDuration:l.dragging?"0s":".6s"};return C.createVNode("div",{ref:s,class:kl(),onClick:y("cell",n),onTouchstart:g,onTouchmove:_,onTouchend:m,onTouchcancel:m},[C.createVNode("div",{class:kl("wrapper"),style:t},[T("left",a),null==(e=r.default)?void 0:e.call(r),T("right",c)])])}}}));s("bgCzB");C=s("d4ofg"),b=s("liXpq");s("bgCzB");C=s("d4ofg"),b=s("liXpq");const[Fl,Hl]=Ve("tabbar"),Wl={route:Boolean,fixed:g,border:g,zIndex:v,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:y(0),safeAreaInsetBottom:{type:Boolean,default:null}},zl=Symbol(Fl);const jl=qe(C.defineComponent({name:Fl,props:Wl,emits:["change","update:modelValue"],setup(e,{emit:t,slots:r}){const o=b.ref(),{linkChildren:n}=R(zl),i=xa(o,Hl),s=()=>{var t;return null!=(t=e.safeAreaInsetBottom)?t:e.fixed},a=()=>{var t;const{fixed:n,zIndex:i,border:a}=e;return C.createVNode("div",{ref:o,role:"tablist",style:me(i),class:[Hl({fixed:n}),{[ze]:a,"van-safe-area-bottom":s()}]},[null==(t=r.default)?void 0:t.call(r)])};return n({props:e,setActive:(r,o)=>{Ye(e.beforeChange,{args:[r],done(){t("update:modelValue",r),t("change",r),o()}})}}),()=>e.fixed&&e.placeholder?i(a):a()}}));s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");const[Gl,Yl]=Ve("tabbar-item"),ql=l({},et,{dot:Boolean,icon:String,name:v,badge:v,badgeProps:Object,iconPrefix:String});const $l=qe(C.defineComponent({name:Gl,props:ql,emits:["click"],setup(e,{emit:t,slots:r}){const o=rt(),n=C.getCurrentInstance().proxy,{parent:i,index:s}=O(zl);if(!i)return;const a=C.computed((()=>{var t;const{route:r,modelValue:o}=i.props;if(r&&"$route"in n){const{$route:t}=n,{to:r}=e,o=Q(r)?r:{path:r};return!!t.matched.find((e=>{const t="path"in o&&o.path===e.path,r="name"in o&&o.name===e.name;return t||r}))}return(null!=(t=e.name)?t:s.value)===o})),c=r=>{var n;a.value||i.setActive(null!=(n=e.name)?n:s.value,o),t("click",r)},l=()=>r.icon?r.icon({active:a.value}):e.icon?C.createVNode(vt,{name:e.icon,classPrefix:e.iconPrefix},null):void 0;return()=>{var t;const{dot:o,badge:n}=e,{activeColor:s,inactiveColor:u}=i.props,d=a.value?s:u;return C.createVNode("div",{role:"tab",class:Yl({active:a.value}),style:{color:d},tabindex:0,"aria-selected":a.value,onClick:c},[C.createVNode(st,C.mergeProps({dot:o,class:Yl("icon"),content:n},e.badgeProps),{default:l}),C.createVNode("div",{class:Yl("text")},[null==(t=r.default)?void 0:t.call(r,{active:a.value})])])}}}));s("bgCzB");C=s("d4ofg");s("bgCzB");C=s("d4ofg");const[Xl,Kl]=Ve("tree-select"),Zl={max:y(1/0),items:m(),height:y(300),selectedIcon:T("success"),mainActiveIndex:y(0),activeId:{type:[Number,String,Array],default:0}};qe(C.defineComponent({name:Xl,props:Zl,emits:["click-nav","click-item","update:activeId","update:mainActiveIndex"],setup(e,{emit:t,slots:r}){const o=t=>Array.isArray(e.activeId)?e.activeId.includes(t):e.activeId===t,n=r=>C.createVNode("div",{key:r.id,class:["van-ellipsis",Kl("item",{active:o(r.id),disabled:r.disabled})],onClick:()=>{if(r.disabled)return;let o;if(Array.isArray(e.activeId)){o=e.activeId.slice();const t=o.indexOf(r.id);-1!==t?o.splice(t,1):o.length<e.max&&o.push(r.id)}else o=r.id;t("update:activeId",o),t("click-item",r)}},[r.text,o(r.id)&&C.createVNode(vt,{name:e.selectedIcon,class:Kl("selected")},null)]),i=e=>{t("update:mainActiveIndex",e)},s=e=>t("click-nav",e),a=()=>{const t=e.items.map((e=>C.createVNode(hl,{dot:e.dot,title:e.text,badge:e.badge,class:[Kl("nav-item"),e.className],disabled:e.disabled,onClick:s},null)));return C.createVNode(ul,{class:Kl("nav"),modelValue:e.mainActiveIndex,onChange:i},{default:()=>[t]})},c=()=>{if(r.content)return r.content();const t=e.items[+e.mainActiveIndex]||{};return t.children?t.children.map(n):void 0};return()=>C.createVNode("div",{class:Kl(),style:{height:ge(e.height)}},[a(),C.createVNode("div",{class:Kl("content")},[c()])])}}));s("bgCzB");C=s("d4ofg"),b=s("liXpq");s("bgCzB");C=s("d4ofg"),b=s("liXpq");const[Jl,Ql,eu]=Ve("uploader");function tu(e,t){return new Promise((r=>{if("file"===t)return void r();const o=new FileReader;o.onload=e=>{r(e.target.result)},"dataUrl"===t?o.readAsDataURL(e):"text"===t&&o.readAsText(e)}))}function ru(e,t){return f(e).some((e=>!!e.file&&(J(t)?t(e.file):e.file.size>t)))}const ou=/\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg)/i;function nu(e){return!!e.isImage||(e.file&&e.file.type?0===e.file.type.indexOf("image"):e.url?(t=e.url,ou.test(t)):"string"==typeof e.content&&0===e.content.indexOf("data:image"));var t}s("bgCzB");C=s("d4ofg");s("bgCzB");var iu=(C=s("d4ofg")).defineComponent({props:{name:v,item:_(Object),index:Number,imageFit:String,lazyLoad:Boolean,deletable:Boolean,previewSize:[Number,String,Array],beforeDelete:Function},emits:["delete","preview"],setup(e,{emit:t,slots:r}){const o=()=>{const{status:t,message:r}=e.item;if("uploading"===t||"failed"===t){const e="failed"===t?C.createVNode(vt,{name:"close",class:Ql("mask-icon")},null):C.createVNode(Tt,{class:Ql("loading")},null),o=Z(r)&&""!==r;return C.createVNode("div",{class:Ql("mask")},[e,o&&C.createVNode("div",{class:Ql("mask-message")},[r])])}},n=r=>{const{name:o,item:n,index:i,beforeDelete:s}=e;r.stopPropagation(),Ye(s,{args:[n,{name:o,index:i}],done:()=>t("delete")})},i=()=>t("preview"),s=()=>{if(e.deletable&&"uploading"!==e.item.status)return C.createVNode("div",{role:"button",class:Ql("preview-delete"),tabindex:0,"aria-label":eu("delete"),onClick:n},[C.createVNode(vt,{name:"cross",class:Ql("preview-delete-icon")},null)])},a=()=>{if(r["preview-cover"]){const{index:t,item:o}=e;return C.createVNode("div",{class:Ql("preview-cover")},[r["preview-cover"](l({index:t},o))])}},c=()=>{const{item:t,lazyLoad:r,imageFit:o,previewSize:n}=e;return nu(t)?C.createVNode(hn,{fit:o,src:t.content||t.url,class:Ql("preview-image"),width:Array.isArray(n)?n[0]:n,height:Array.isArray(n)?n[1]:n,lazyLoad:r,onClick:i},{default:a}):C.createVNode("div",{class:Ql("file"),style:_e(e.previewSize)},[C.createVNode(vt,{class:Ql("file-icon"),name:"description"},null),C.createVNode("div",{class:[Ql("file-name"),"van-ellipsis"]},[t.file?t.file.name:t.url]),a()])};return()=>C.createVNode("div",{class:Ql("preview")},[c(),o(),s()])}});const su={name:y(""),accept:T("image/*"),capture:String,multiple:Boolean,disabled:Boolean,readonly:Boolean,lazyLoad:Boolean,maxCount:y(1/0),imageFit:T("cover"),resultType:T("dataUrl"),uploadIcon:T("photograph"),uploadText:String,deletable:g,afterRead:Function,showUpload:g,modelValue:m(),beforeRead:Function,beforeDelete:Function,previewSize:[Number,String,Array],previewImage:g,previewOptions:Object,previewFullImage:g,maxSize:{type:[Number,String,Function],default:1/0}};var au;qe(C.defineComponent({name:Jl,props:su,emits:["delete","oversize","click-upload","close-preview","click-preview","update:modelValue"],setup(e,{emit:t,slots:r}){const o=b.ref(),n=[],i=(t=e.modelValue.length)=>({name:e.name,index:t}),s=()=>{o.value&&(o.value.value="")},a=r=>{if(s(),ru(r,e.maxSize)){if(!Array.isArray(r))return void t("oversize",r,i());{const o=function(e,t){const r=[],o=[];return e.forEach((e=>{ru(e,t)?o.push(e):r.push(e)})),{valid:r,invalid:o}}(r,e.maxSize);if(r=o.valid,t("oversize",o.invalid,i()),!r.length)return}}r=b.reactive(r),t("update:modelValue",[...e.modelValue,...f(r)]),e.afterRead&&e.afterRead(r,i())},c=t=>{const{maxCount:r,modelValue:o,resultType:n}=e;if(Array.isArray(t)){const e=+r-o.length;t.length>e&&(t=t.slice(0,e)),Promise.all(t.map((e=>tu(e,n)))).then((e=>{const r=t.map(((t,r)=>{const o={file:t,status:"",message:""};return e[r]&&(o.content=e[r]),o}));a(r)}))}else tu(t,n).then((e=>{const r={file:t,status:"",message:""};e&&(r.content=e),a(r)}))},u=t=>{const{files:r}=t.target;if(e.disabled||!r||!r.length)return;const o=1===r.length?r[0]:[].slice.call(r);if(e.beforeRead){const t=e.beforeRead(o,i());if(!t)return void s();if(ee(t))return void t.then((e=>{c(e||o)})).catch(s)}c(o)};let d;const h=()=>t("close-preview"),v=(o,s)=>{const a=["imageFit","deletable","previewSize","beforeDelete"],c=l(p(e,a),p(o,a,!0));return C.createVNode(iu,C.mergeProps({item:o,index:s,onClick:()=>t("click-preview",o,i(s)),onDelete:()=>((r,o)=>{const n=e.modelValue.slice(0);n.splice(o,1),t("update:modelValue",n),t("delete",r,i(o))})(o,s),onPreview:()=>(t=>{if(e.previewFullImage){const r=e.modelValue.filter(nu),o=r.map((e=>(e.file&&!e.url&&(e.url=URL.createObjectURL(e.file),n.push(e.url)),e.url))).filter(Boolean);d=pa(l({images:o,startPosition:r.indexOf(t),onClose:h},e.previewOptions))}})(o)},p(e,["name","lazyLoad"]),c),{"preview-cover":r["preview-cover"]})},g=()=>{if(e.previewImage)return e.modelValue.map(v)},_=e=>t("click-upload",e),m=()=>{if(e.modelValue.length>=e.maxCount||!e.showUpload)return;const t=e.readonly?null:C.createVNode("input",{ref:o,type:"file",class:Ql("input"),accept:e.accept,capture:e.capture,multiple:e.multiple,disabled:e.disabled,onChange:u},null);return r.default?C.createVNode("div",{class:Ql("input-wrapper"),onClick:_},[r.default(),t]):C.createVNode("div",{class:Ql("upload",{readonly:e.readonly}),style:_e(e.previewSize),onClick:_},[C.createVNode(vt,{name:e.uploadIcon,class:Ql("upload-icon")},null),e.uploadText&&C.createVNode("span",{class:Ql("upload-text")},[e.uploadText]),t])};return C.onBeforeUnmount((()=>{n.forEach((e=>URL.revokeObjectURL(e)))})),Qe({chooseFile:()=>{o.value&&!e.disabled&&o.value.click()},closeImagePreview:()=>{d&&d.close()}}),K((()=>e.modelValue)),()=>C.createVNode("div",{class:Ql()},[C.createVNode("div",{class:Ql("wrapper",{disabled:e.disabled})},[g(),m()])])}}));au=h5PanelSdk;var cu=s("1g3Eg");let lu;lu=s("3yHd3"),lu.__esModule&&(lu=lu.default),lu.render=s("8NbH7").render,s("iobKg").default(lu),lu.__scopeId="data-v-90b702",lu.__file="DevicePage.vue";const uu=[{name:"",path:"/",component:lu,meta:{hasBar:!0,title:""}}];let du;du=s("bKQZe"),du.__esModule&&(du=du.default),du.render=s("k2hYG").render,s("71K30").default(du),du.__scopeId="data-v-2d4701",du.__file="ScenesPage.vue";const pu=[...uu,...[{name:"scenes",path:"/scenes",component:du,meta:{hasBar:!0,title:""}}]];var fu=cu.createRouter({history:cu.createWebHashHistory(),routes:pu});let hu;hu=s("8hDKz"),hu.__esModule&&(hu=hu.default),hu.render=s("7wwKG").render,s("ilrXW").default(hu),hu.__scopeId="data-v-efea9d",hu.__file="App.vue";var vu=hu,gu={};Object.defineProperty(gu,"__esModule",{value:!0});var _u=s("983NH");_u.__exportStar(s("6arPh"),gu),_u.__exportStar(s("jwJ9e"),gu),_u.__exportStar(s("6SWq8"),gu),Object.defineProperty(gu,"ERROR_MESSAGES",{enumerable:!0,get:function(){return s("jc4SE").ERROR_MESSAGES}}),gu.constants=_u.__importStar(s("jc4SE")),gu.utils=_u.__importStar(s("6TYuz")),gu.StandardDeviceAdapter4H5.injectOptions({appDevSdk:o(au).appDevSdk}),o(au).blueToothAdapter.addAdapter(gu.StandardDeviceAdapter4H5,!0);const mu=a.createApp(vu);[fu,xt,Cr,vt,Gn,Yn,Vs,Sr,Mr,ei,vs,xo,jl,$l].forEach((e=>mu.use(e))),mu.mount("#app")})();
//# sourceMappingURL=index.bb05aeee.js.map
